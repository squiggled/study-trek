<div class="pt-20 dark:bg-zinc-800 bg-white">
  <div class="chat-container mx-auto max-w-md px-4 py-2 dark:bg-zinc-800 bg-white shadow-lg rounded-lg">
    <!-- Chat Header with Divider -->
    <div class="chat-header text-center text-2xl font-bold mb-2">
      Study Trek Course Navigator
      <hr class="mt-2">
    </div>
    
    <!-- Chat Body -->
    <div class="chat-body overflow-auto max-h-96 mb-4">
      <!-- Placeholder for system greeting -->

      <!-- Dynamic chat bubbles for both user and system messages -->
      <div *ngFor="let message of messages" [ngClass]="{'chat-bubble chat-bubble-secondary chat-start': !message.user, 'chat-bubble chat-bubble-accent chat-end': message.user}" class="mb-2">
        {{ message.text }}
      </div>
      
      <!-- Placeholder for dynamic system responses -->
      <div *ngIf="response$ | async as response" class="chat-bubble chat-bubble-secondary chat-end mb-2" [innerHTML]="safeHTML(response)">
      </div>
    </div>
    
    <!-- Chat Form -->
    <form [formGroup]="openAIForm" (ngSubmit)="processSubmit()" class="chat-form">
      <div class="mb-2">
        I am looking for 
        <input type="number" formControlName="number" placeholder="Enter a number" class="form-input rounded-md shadow-sm">
        course(s) on:
      </div>
      <input type="text" formControlName="query" placeholder="I want to learn about..." class="form-input rounded-md shadow-sm mb-2">
      <button type="submit" class="w-full btn btn-primary">
        Send
      </button>
    </form>

    <!-- Loading Spinner -->
    <div *ngIf="isLoading" class="flex justify-center items-center mt-2">
      <div class="spinner-border animate-spin inline-block w-8 h-8 border-4 rounded-full" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
  </div>
</div>
