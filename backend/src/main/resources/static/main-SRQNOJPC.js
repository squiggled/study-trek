var r_=Object.defineProperty,i_=Object.defineProperties;var o_=Object.getOwnPropertyDescriptors;var oa=Object.getOwnPropertySymbols;var bm=Object.prototype.hasOwnProperty,wm=Object.prototype.propertyIsEnumerable;var vm=(t,e,r)=>e in t?r_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,C=(t,e)=>{for(var r in e||={})bm.call(e,r)&&vm(t,r,e[r]);if(oa)for(var r of oa(e))wm.call(e,r)&&vm(t,r,e[r]);return t},$=(t,e)=>i_(t,o_(e));var bu=(t,e)=>{var r={};for(var n in t)bm.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&oa)for(var n of oa(t))e.indexOf(n)<0&&wm.call(t,n)&&(r[n]=t[n]);return r};var ft=(t,e,r)=>new Promise((n,i)=>{var o=c=>{try{a(r.next(c))}catch(l){i(l)}},s=c=>{try{a(r.throw(c))}catch(l){i(l)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(o,s);a((r=r.apply(t,e)).next())});function Cm(t,e){return Object.is(t,e)}var Xe=null,sa=!1,aa=1,dr=Symbol("SIGNAL");function de(t){let e=Xe;return Xe=t,e}var la={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _u(t){if(sa)throw new Error("");if(Xe===null)return;Xe.consumerOnSignalRead(t);let e=Xe.nextProducerIndex++;if(Ti(Xe),e<Xe.producerNode.length&&Xe.producerNode[e]!==t&&jo(Xe)){let r=Xe.producerNode[e];ua(r,Xe.producerIndexOfThis[e])}Xe.producerNode[e]!==t&&(Xe.producerNode[e]=t,Xe.producerIndexOfThis[e]=jo(Xe)?Im(t,Xe,e):0),Xe.producerLastReadVersion[e]=t.version}function s_(){aa++}function _m(t){if(!(jo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===aa)){if(!t.producerMustRecompute(t)&&!Su(t)){t.dirty=!1,t.lastCleanEpoch=aa;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=aa}}function Dm(t){if(t.liveConsumerNode===void 0)return;let e=sa;sa=!0;try{for(let r of t.liveConsumerNode)r.dirty||a_(r)}finally{sa=e}}function Em(){return Xe?.consumerAllowSignalWrites!==!1}function a_(t){t.dirty=!0,Dm(t),t.consumerMarkedDirty?.(t)}function Du(t){return t&&(t.nextProducerIndex=0),de(t)}function Eu(t,e){if(de(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(jo(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)ua(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Su(t){Ti(t);for(let e=0;e<t.producerNode.length;e++){let r=t.producerNode[e],n=t.producerLastReadVersion[e];if(n!==r.version||(_m(r),n!==r.version))return!0}return!1}function Sm(t){if(Ti(t),jo(t))for(let e=0;e<t.producerNode.length;e++)ua(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Im(t,e,r){if(xm(t),Ti(t),t.liveConsumerNode.length===0)for(let n=0;n<t.producerNode.length;n++)t.producerIndexOfThis[n]=Im(t.producerNode[n],t,n);return t.liveConsumerIndexOfThis.push(r),t.liveConsumerNode.push(e)-1}function ua(t,e){if(xm(t),Ti(t),t.liveConsumerNode.length===1)for(let n=0;n<t.producerNode.length;n++)ua(t.producerNode[n],t.producerIndexOfThis[n]);let r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ti(i),i.producerIndexOfThis[n]=e}}function jo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ti(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function xm(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Mm(t){let e=Object.create(c_);e.computation=t;let r=()=>{if(_m(e),_u(e),e.value===ca)throw e.error;return e.value};return r[dr]=e,r}var wu=Symbol("UNSET"),Cu=Symbol("COMPUTING"),ca=Symbol("ERRORED"),c_=$(C({},la),{value:wu,dirty:!0,error:null,equal:Cm,producerMustRecompute(t){return t.value===wu||t.value===Cu},producerRecomputeValue(t){if(t.value===Cu)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Cu;let r=Du(t),n;try{n=t.computation()}catch(i){n=ca,t.error=i}finally{Eu(t,r)}if(e!==wu&&e!==ca&&n!==ca&&t.equal(e,n)){t.value=e;return}t.value=n,t.version++}});function l_(){throw new Error}var Tm=l_;function Am(){Tm()}function Nm(t){Tm=t}var u_=null;function Rm(t){let e=Object.create(Fm);e.value=t;let r=()=>(_u(e),e.value);return r[dr]=e,r}function Iu(t,e){Em()||Am(),t.equal(t.value,e)||(t.value=e,d_(t))}function Om(t,e){Em()||Am(),Iu(t,e(t.value))}var Fm=$(C({},la),{equal:Cm,value:void 0});function d_(t){t.version++,s_(),Dm(t),u_?.()}function B(t){return typeof t=="function"}function Ai(t){let r=t(n=>{Error.call(n),n.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var da=Ai(t=>function(r){t(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((n,i)=>`${i+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function $r(t,e){if(t){let r=t.indexOf(e);0<=r&&t.splice(r,1)}}var se=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let o of r)o.remove(this);else r.remove(this);let{initialTeardown:n}=this;if(B(n))try{n()}catch(o){e=o instanceof da?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Pm(o)}catch(s){e=e??[],s instanceof da?e=[...e,...s.errors]:e.push(s)}}if(e)throw new da(e)}}add(e){var r;if(e&&e!==this)if(this.closed)Pm(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}}_hasParent(e){let{_parentage:r}=this;return r===e||Array.isArray(r)&&r.includes(e)}_addParent(e){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e}_removeParent(e){let{_parentage:r}=this;r===e?this._parentage=null:Array.isArray(r)&&$r(r,e)}remove(e){let{_finalizers:r}=this;r&&$r(r,e),e instanceof t&&e._removeParent(this)}};se.EMPTY=(()=>{let t=new se;return t.closed=!0,t})();var xu=se.EMPTY;function fa(t){return t instanceof se||t&&"closed"in t&&B(t.remove)&&B(t.add)&&B(t.unsubscribe)}function Pm(t){B(t)?t():t.unsubscribe()}var on={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ni={setTimeout(t,e,...r){let{delegate:n}=Ni;return n?.setTimeout?n.setTimeout(t,e,...r):setTimeout(t,e,...r)},clearTimeout(t){let{delegate:e}=Ni;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ha(t){Ni.setTimeout(()=>{let{onUnhandledError:e}=on;if(e)e(t);else throw t})}function sn(){}var km=Mu("C",void 0,void 0);function Lm(t){return Mu("E",void 0,t)}function Vm(t){return Mu("N",t,void 0)}function Mu(t,e,r){return{kind:t,value:e,error:r}}var Hr=null;function Ri(t){if(on.useDeprecatedSynchronousErrorHandling){let e=!Hr;if(e&&(Hr={errorThrown:!1,error:null}),t(),e){let{errorThrown:r,error:n}=Hr;if(Hr=null,r)throw n}}else t()}function jm(t){on.useDeprecatedSynchronousErrorHandling&&Hr&&(Hr.errorThrown=!0,Hr.error=t)}var zr=class extends se{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fa(e)&&e.add(this)):this.destination=p_}static create(e,r,n){return new an(e,r,n)}next(e){this.isStopped?Au(Vm(e),this):this._next(e)}error(e){this.isStopped?Au(Lm(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Au(km,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},f_=Function.prototype.bind;function Tu(t,e){return f_.call(t,e)}var Nu=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:r}=this;if(r.next)try{r.next(e)}catch(n){pa(n)}}error(e){let{partialObserver:r}=this;if(r.error)try{r.error(e)}catch(n){pa(n)}else pa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(r){pa(r)}}},an=class extends zr{constructor(e,r,n){super();let i;if(B(e)||!e)i={next:e??void 0,error:r??void 0,complete:n??void 0};else{let o;this&&on.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Tu(e.next,o),error:e.error&&Tu(e.error,o),complete:e.complete&&Tu(e.complete,o)}):i=e}this.destination=new Nu(i)}};function pa(t){on.useDeprecatedSynchronousErrorHandling?jm(t):ha(t)}function h_(t){throw t}function Au(t,e){let{onStoppedNotification:r}=on;r&&Ni.setTimeout(()=>r(t,e))}var p_={closed:!0,next:sn,error:h_,complete:sn};var Oi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function et(t){return t}function Ru(...t){return Ou(t)}function Ou(t){return t.length===0?et:t.length===1?t[0]:function(r){return t.reduce((n,i)=>i(n),r)}}var K=(()=>{class t{constructor(r){r&&(this._subscribe=r)}lift(r){let n=new t;return n.source=this,n.operator=r,n}subscribe(r,n,i){let o=g_(r)?r:new an(r,n,i);return Ri(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return n=Um(n),new n((i,o)=>{let s=new an({next:a=>{try{r(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(r){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(r)}[Oi](){return this}pipe(...r){return Ou(r)(this)}toPromise(r){return r=Um(r),new r((n,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>n(o))})}}return t.create=e=>new t(e),t})();function Um(t){var e;return(e=t??on.Promise)!==null&&e!==void 0?e:Promise}function m_(t){return t&&B(t.next)&&B(t.error)&&B(t.complete)}function g_(t){return t&&t instanceof zr||m_(t)&&fa(t)}function Fu(t){return B(t?.lift)}function G(t){return e=>{if(Fu(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Y(t,e,r,n,i){return new Pu(t,e,r,n,i)}var Pu=class extends zr{constructor(e,r,n,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=r?function(a){try{r(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:r}=this;super.unsubscribe(),!r&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Fi(){return G((t,e)=>{let r=null;t._refCount++;let n=Y(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){r=null;return}let i=t._connection,o=r;r=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(r=t.connect())})}var fr=class extends K{constructor(e,r){super(),this.source=e,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,Fu(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new se;let r=this.getSubject();e.add(this.source.subscribe(Y(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=se.EMPTY)}return e}refCount(){return Fi()(this)}};var Bm=Ai(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=(()=>{class t extends K{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){let n=new ma(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new Bm}next(r){Ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(r)}})}error(r){Ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;let{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){Ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){let{hasError:n,isStopped:i,observers:o}=this;return n||i?xu:(this.currentObservers=null,o.push(r),new se(()=>{this.currentObservers=null,$r(o,r)}))}_checkFinalizedStatuses(r){let{hasError:n,thrownError:i,isStopped:o}=this;n?r.error(i):o&&r.complete()}asObservable(){let r=new K;return r.source=this,r}}return t.create=(e,r)=>new ma(e,r),t})(),ma=class extends ge{constructor(e,r){super(),this.destination=e,this.source=r}next(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.next)===null||n===void 0||n.call(r,e)}error(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.error)===null||n===void 0||n.call(r,e)}complete(){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||r===void 0||r.call(e)}_subscribe(e){var r,n;return(n=(r=this.source)===null||r===void 0?void 0:r.subscribe(e))!==null&&n!==void 0?n:xu}};var Le=class extends ge{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let r=super._subscribe(e);return!r.closed&&e.next(this._value),r}getValue(){let{hasError:e,thrownError:r,_value:n}=this;if(e)throw r;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var Uo={now(){return(Uo.delegate||Date).now()},delegate:void 0};var hr=class extends ge{constructor(e=1/0,r=1/0,n=Uo){super(),this._bufferSize=e,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,r)}next(e){let{isStopped:r,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;r||(n.push(e),!i&&n.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let r=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=n?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),r}_trimBuffer(){let{_bufferSize:e,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<n.length&&n.splice(0,n.length-o),!i){let s=r.now(),a=0;for(let c=1;c<n.length&&n[c]<=s;c+=2)a=c;a&&n.splice(0,a+1)}}};var ga=class extends se{constructor(e,r){super()}schedule(e,r=0){return this}};var Bo={setInterval(t,e,...r){let{delegate:n}=Bo;return n?.setInterval?n.setInterval(t,e,...r):setInterval(t,e,...r)},clearInterval(t){let{delegate:e}=Bo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var pr=class extends ga{constructor(e,r){super(e,r),this.scheduler=e,this.work=r,this.pending=!1}schedule(e,r=0){var n;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,r)),this.pending=!0,this.delay=r,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(o,this.id,r),this}requestAsyncId(e,r,n=0){return Bo.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,r,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return r;r!=null&&Bo.clearInterval(r)}execute(e,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(e,r);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,r){let n=!1,i;try{this.work(e)}catch(o){n=!0,i=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,$r(n,this),e!=null&&(this.id=this.recycleAsyncId(r,e,null)),this.delay=null,super.unsubscribe()}}};var y_=1,ku,Lu={};function $m(t){return t in Lu?(delete Lu[t],!0):!1}var Hm={setImmediate(t){let e=y_++;return Lu[e]=!0,ku||(ku=Promise.resolve()),ku.then(()=>$m(e)&&t()),e},clearImmediate(t){$m(t)}};var{setImmediate:v_,clearImmediate:b_}=Hm,$o={setImmediate(...t){let{delegate:e}=$o;return(e?.setImmediate||v_)(...t)},clearImmediate(t){let{delegate:e}=$o;return(e?.clearImmediate||b_)(t)},delegate:void 0};var ya=class extends pr{constructor(e,r){super(e,r),this.scheduler=e,this.work=r}requestAsyncId(e,r,n=0){return n!==null&&n>0?super.requestAsyncId(e,r,n):(e.actions.push(this),e._scheduled||(e._scheduled=$o.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,r,n=0){var i;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(e,r,n);let{actions:o}=e;r!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==r&&($o.clearImmediate(r),e._scheduled===r&&(e._scheduled=void 0))}};var Pi=class t{constructor(e,r=t.now){this.schedulerActionCtor=e,this.now=r}schedule(e,r=0,n){return new this.schedulerActionCtor(this,e).schedule(n,r)}};Pi.now=Uo.now;var mr=class extends Pi{constructor(e,r=Pi.now){super(e,r),this.actions=[],this._active=!1}flush(e){let{actions:r}=this;if(this._active){r.push(e);return}let n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=r.shift());if(this._active=!1,n){for(;e=r.shift();)e.unsubscribe();throw n}}};var va=class extends mr{flush(e){this._active=!0;let r=this._scheduled;this._scheduled=void 0;let{actions:n}=this,i;e=e||n.shift();do if(i=e.execute(e.state,e.delay))break;while((e=n[0])&&e.id===r&&n.shift());if(this._active=!1,i){for(;(e=n[0])&&e.id===r&&n.shift();)e.unsubscribe();throw i}}};var ba=new va(ya);var Ho=new mr(pr),zm=Ho;var wa=class extends pr{constructor(e,r){super(e,r),this.scheduler=e,this.work=r}schedule(e,r=0){return r>0?super.schedule(e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)}execute(e,r){return r>0||this.closed?super.execute(e,r):this._execute(e,r)}requestAsyncId(e,r,n=0){return n!=null&&n>0||n==null&&this.delay>0?super.requestAsyncId(e,r,n):(e.flush(this),0)}};var Ca=class extends mr{};var _a=new Ca(wa);var Ge=new K(t=>t.complete());function Da(t){return t&&B(t.schedule)}function Vu(t){return t[t.length-1]}function ki(t){return B(Vu(t))?t.pop():void 0}function xn(t){return Da(Vu(t))?t.pop():void 0}function qm(t,e){return typeof Vu(t)=="number"?t.pop():e}function Gm(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{l(n.next(u))}catch(d){s(d)}}function c(u){try{l(n.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function Wm(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qr(t){return this instanceof qr?(this.v=t,this):new qr(t)}function Qm(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){n[m]&&(i[m]=function(v){return new Promise(function(b,D){o.push([m,v,b,D])>1||a(m,v)})})}function a(m,v){try{c(n[m](v))}catch(b){d(o[0][3],b)}}function c(m){m.value instanceof qr?Promise.resolve(m.value.v).then(l,u):d(o[0][2],m)}function l(m){a("next",m)}function u(m){a("throw",m)}function d(m,v){m(v),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Ym(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Wm=="function"?Wm(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Li=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ea(t){return B(t?.then)}function Sa(t){return B(t[Oi])}function Ia(t){return Symbol.asyncIterator&&B(t?.[Symbol.asyncIterator])}function xa(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function w_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ma=w_();function Ta(t){return B(t?.[Ma])}function Aa(t){return Qm(this,arguments,function*(){let r=t.getReader();try{for(;;){let{value:n,done:i}=yield qr(r.read());if(i)return yield qr(void 0);yield yield qr(n)}}finally{r.releaseLock()}})}function Na(t){return B(t?.getReader)}function fe(t){if(t instanceof K)return t;if(t!=null){if(Sa(t))return C_(t);if(Li(t))return __(t);if(Ea(t))return D_(t);if(Ia(t))return Km(t);if(Ta(t))return E_(t);if(Na(t))return S_(t)}throw xa(t)}function C_(t){return new K(e=>{let r=t[Oi]();if(B(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function __(t){return new K(e=>{for(let r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function D_(t){return new K(e=>{t.then(r=>{e.closed||(e.next(r),e.complete())},r=>e.error(r)).then(null,ha)})}function E_(t){return new K(e=>{for(let r of t)if(e.next(r),e.closed)return;e.complete()})}function Km(t){return new K(e=>{I_(t,e).catch(r=>e.error(r))})}function S_(t){return Km(Aa(t))}function I_(t,e){var r,n,i,o;return Gm(this,void 0,void 0,function*(){try{for(r=Ym(t);n=yield r.next(),!n.done;){let s=n.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{n&&!n.done&&(o=r.return)&&(yield o.call(r))}finally{if(i)throw i.error}}e.complete()})}function wt(t,e,r,n=0,i=!1){let o=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!i)return o}function Wr(t,e=0){return G((r,n)=>{r.subscribe(Y(n,i=>wt(n,t,()=>n.next(i),e),()=>wt(n,t,()=>n.complete(),e),i=>wt(n,t,()=>n.error(i),e)))})}function Ra(t,e=0){return G((r,n)=>{n.add(t.schedule(()=>r.subscribe(n),e))})}function Zm(t,e){return fe(t).pipe(Ra(e),Wr(e))}function Xm(t,e){return fe(t).pipe(Ra(e),Wr(e))}function Jm(t,e){return new K(r=>{let n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function eg(t,e){return new K(r=>{let n;return wt(r,e,()=>{n=t[Ma](),wt(r,e,()=>{let i,o;try{({value:i,done:o}=n.next())}catch(s){r.error(s);return}o?r.complete():r.next(i)},0,!0)}),()=>B(n?.return)&&n.return()})}function Oa(t,e){if(!t)throw new Error("Iterable cannot be null");return new K(r=>{wt(r,e,()=>{let n=t[Symbol.asyncIterator]();wt(r,e,()=>{n.next().then(i=>{i.done?r.complete():r.next(i.value)})},0,!0)})})}function tg(t,e){return Oa(Aa(t),e)}function zo(t,e){if(t!=null){if(Sa(t))return Zm(t,e);if(Li(t))return Jm(t,e);if(Ea(t))return Xm(t,e);if(Ia(t))return Oa(t,e);if(Ta(t))return eg(t,e);if(Na(t))return tg(t,e)}throw xa(t)}function xe(t,e){return e?zo(t,e):fe(t)}function k(...t){let e=xn(t);return xe(t,e)}function Ct(t,e){let r=B(t)?t:()=>t,n=i=>i.error(r());return new K(e?i=>e.schedule(n,0,i):n)}function Vi(t){return!!t&&(t instanceof K||B(t.lift)&&B(t.subscribe))}var cn=Ai(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ji(t,e){let r=typeof e=="object";return new Promise((n,i)=>{let o=new an({next:s=>{n(s),o.unsubscribe()},error:i,complete:()=>{r?n(e.defaultValue):i(new cn)}});t.subscribe(o)})}function ng(t){return t instanceof Date&&!isNaN(t)}function j(t,e){return G((r,n)=>{let i=0;r.subscribe(Y(n,o=>{n.next(t.call(e,o,i++))}))})}var{isArray:x_}=Array;function M_(t,e){return x_(e)?t(...e):t(e)}function Ui(t){return j(e=>M_(t,e))}var{isArray:T_}=Array,{getPrototypeOf:A_,prototype:N_,keys:R_}=Object;function Fa(t){if(t.length===1){let e=t[0];if(T_(e))return{args:e,keys:null};if(O_(e)){let r=R_(e);return{args:r.map(n=>e[n]),keys:r}}}return{args:t,keys:null}}function O_(t){return t&&typeof t=="object"&&A_(t)===N_}function Pa(t,e){return t.reduce((r,n,i)=>(r[n]=e[i],r),{})}function ln(...t){let e=xn(t),r=ki(t),{args:n,keys:i}=Fa(t);if(n.length===0)return xe([],e);let o=new K(F_(n,e,i?s=>Pa(i,s):et));return r?o.pipe(Ui(r)):o}function F_(t,e,r=et){return n=>{rg(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)rg(e,()=>{let l=xe(t[c],e),u=!1;l.subscribe(Y(n,d=>{o[c]=d,u||(u=!0,a--),a||n.next(r(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}function rg(t,e,r){t?wt(r,t,e):e()}function ig(t,e,r,n,i,o,s,a){let c=[],l=0,u=0,d=!1,m=()=>{d&&!c.length&&!l&&e.complete()},v=D=>l<n?b(D):c.push(D),b=D=>{o&&e.next(D),l++;let x=!1;fe(r(D,u++)).subscribe(Y(e,I=>{i?.(I),o?v(I):e.next(I)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;c.length&&l<n;){let I=c.shift();s?wt(e,s,()=>b(I)):b(I)}m()}catch(I){e.error(I)}}))};return t.subscribe(Y(e,v,()=>{d=!0,m()})),()=>{a?.()}}function Pe(t,e,r=1/0){return B(e)?Pe((n,i)=>j((o,s)=>e(n,o,i,s))(fe(t(n,i))),r):(typeof e=="number"&&(r=e),G((n,i)=>ig(n,i,t,r)))}function gr(t=1/0){return Pe(et,t)}function og(){return gr(1)}function Mn(...t){return og()(xe(t,xn(t)))}function Gr(t){return new K(e=>{fe(t()).subscribe(e)})}function ju(...t){let e=ki(t),{args:r,keys:n}=Fa(t),i=new K(o=>{let{length:s}=r;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;fe(r[u]).subscribe(Y(o,m=>{d||(d=!0,l--),a[u]=m},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(n?Pa(n,a):a),o.complete())}))}});return e?i.pipe(Ui(e)):i}var P_=["addListener","removeListener"],k_=["addEventListener","removeEventListener"],L_=["on","off"];function un(t,e,r,n){if(B(r)&&(n=r,r=void 0),n)return un(t,e,r).pipe(Ui(n));let[i,o]=U_(t)?k_.map(s=>a=>t[s](e,a,r)):V_(t)?P_.map(sg(t,e)):j_(t)?L_.map(sg(t,e)):[];if(!i&&Li(t))return Pe(s=>un(s,e,r))(fe(t));if(!i)throw new TypeError("Invalid event target");return new K(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function sg(t,e){return r=>n=>t[r](e,n)}function V_(t){return B(t.addListener)&&B(t.removeListener)}function j_(t){return B(t.on)&&B(t.off)}function U_(t){return B(t.addEventListener)&&B(t.removeEventListener)}function ag(t=0,e,r=zm){let n=-1;return e!=null&&(Da(e)?r=e:n=e),new K(i=>{let o=ng(t)?+t-r.now():t;o<0&&(o=0);let s=0;return r.schedule(function(){i.closed||(i.next(s++),0<=n?this.schedule(void 0,n):i.complete())},o)})}function Qr(...t){let e=xn(t),r=qm(t,1/0),n=t;return n.length?n.length===1?fe(n[0]):gr(r)(xe(n,e)):Ge}var Yr=new K(sn);function Fe(t,e){return G((r,n)=>{let i=0;r.subscribe(Y(n,o=>t.call(e,o,i++)&&n.next(o)))})}function tt(t){return G((e,r)=>{let n=null,i=!1,o;n=e.subscribe(Y(r,void 0,void 0,s=>{o=fe(t(s,tt(t)(e))),n?(n.unsubscribe(),n=null,o.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(r))})}function cg(t,e,r,n,i){return(o,s)=>{let a=r,c=e,l=0;o.subscribe(Y(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),n&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Tn(t,e){return B(e)?Pe(t,e,1):Pe(t,1)}function lg(t){return new K(e=>t.subscribe(e))}var B_={connector:()=>new ge};function ka(t,e=B_){let{connector:r}=e;return G((n,i)=>{let o=r();fe(t(lg(o))).subscribe(i),i.add(n.subscribe(o))})}function Uu(t,e=Ho){return G((r,n)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,n.next(l)}};function c(){let l=s+t,u=e.now();if(u<l){i=this.schedule(void 0,l-u),n.add(i);return}a()}r.subscribe(Y(n,l=>{o=l,s=e.now(),i||(i=e.schedule(c,t),n.add(i))},()=>{a(),n.complete()},void 0,()=>{o=i=null}))})}function yr(t){return G((e,r)=>{let n=!1;e.subscribe(Y(r,i=>{n=!0,r.next(i)},()=>{n||r.next(t),r.complete()}))})}function Me(t){return t<=0?()=>Ge:G((e,r)=>{let n=0;e.subscribe(Y(r,i=>{++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function ug(){return G((t,e)=>{t.subscribe(Y(e,sn))})}function qo(t){return j(()=>t)}function Bu(t,e){return e?r=>Mn(e.pipe(Me(1),ug()),r.pipe(Bu(t))):Pe((r,n)=>fe(t(r,n)).pipe(Me(1),qo(r)))}function $u(t,e=Ho){let r=ag(t,e);return Bu(()=>r)}function Hu(t,e=et){return t=t??$_,G((r,n)=>{let i,o=!0;r.subscribe(Y(n,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,n.next(s))}))})}function $_(t,e){return t===e}function La(t=H_){return G((e,r)=>{let n=!1;e.subscribe(Y(r,i=>{n=!0,r.next(i)},()=>n?r.complete():r.error(t())))})}function H_(){return new cn}function Rt(t){return G((e,r)=>{try{e.subscribe(r)}finally{r.add(t)}})}function Ht(t,e){let r=arguments.length>=2;return n=>n.pipe(t?Fe((i,o)=>t(i,o,n)):et,Me(1),r?yr(e):La(()=>new cn))}function Bi(t){return t<=0?()=>Ge:G((e,r)=>{let n=[];e.subscribe(Y(r,i=>{n.push(i),t<n.length&&n.shift()},()=>{for(let i of n)r.next(i);r.complete()},void 0,()=>{n=null}))})}function zu(t,e){let r=arguments.length>=2;return n=>n.pipe(t?Fe((i,o)=>t(i,o,n)):et,Bi(1),r?yr(e):La(()=>new cn))}function dg(t,e){let r=B(t)?t:()=>t;return B(e)?ka(e,{connector:r}):n=>new fr(n,r)}function qu(t){return t?e=>ka(t)(e):e=>dg(new ge)(e)}function Wu(t,e){return G(cg(t,e,arguments.length>=2,!0))}function fg(t={}){let{connector:e=()=>new ge,resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,l=0,u=!1,d=!1,m=()=>{a?.unsubscribe(),a=void 0},v=()=>{m(),s=c=void 0,u=d=!1},b=()=>{let D=s;v(),D?.unsubscribe()};return G((D,x)=>{l++,!d&&!u&&m();let I=c=c??e();x.add(()=>{l--,l===0&&!d&&!u&&(a=Gu(b,i))}),I.subscribe(x),!s&&l>0&&(s=new an({next:U=>I.next(U),error:U=>{d=!0,m(),a=Gu(v,r,U),I.error(U)},complete:()=>{u=!0,m(),a=Gu(v,n),I.complete()}}),fe(D).subscribe(s))})(o)}}function Gu(t,e,...r){if(e===!0){t();return}if(e===!1)return;let n=new an({next:()=>{n.unsubscribe(),t()}});return fe(e(...r)).subscribe(n)}function Qu(t,e,r){let n,i=!1;return t&&typeof t=="object"?{bufferSize:n=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:r}=t:n=t??1/0,fg({connector:()=>new hr(n,e,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Yu(...t){let e=xn(t);return G((r,n)=>{(e?Mn(t,r,e):Mn(t,r)).subscribe(n)})}function _e(t,e){return G((r,n)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&n.complete();r.subscribe(Y(n,c=>{i?.unsubscribe();let l=0,u=o++;fe(t(c,u)).subscribe(i=Y(n,d=>n.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function dn(t){return G((e,r)=>{fe(t).subscribe(Y(r,()=>r.complete(),sn)),!r.closed&&e.subscribe(r)})}function ie(t,e,r){let n=B(t)||e||r?{next:t,error:e,complete:r}:t;return n?G((i,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;i.subscribe(Y(o,c=>{var l;(l=n.next)===null||l===void 0||l.call(n,c),o.next(c)},()=>{var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),o.complete()},c=>{var l;a=!1,(l=n.error)===null||l===void 0||l.call(n,c),o.error(c)},()=>{var c,l;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(l=n.finalize)===null||l===void 0||l.call(n)}))}):et}function Kr(...t){let e=ki(t);return G((r,n)=>{let i=t.length,o=new Array(i),s=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)fe(t[c]).subscribe(Y(n,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(et))&&(s=null))},sn));r.subscribe(Y(n,c=>{if(a){let l=[c,...o];n.next(e?e(...l):l)}}))})}var ry="https://g.co/ng/security#xss",E=class extends Error{constructor(e,r){super(vc(e,r)),this.code=e}};function vc(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function rs(t){return{toString:t}.toString()}var Va="__parameters__";function z_(t){return function(...r){if(t){let n=t(...r);for(let i in n)this[i]=n[i]}}}function iy(t,e,r){return rs(()=>{let n=z_(e);function i(...o){if(this instanceof i)return n.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Va)?c[Va]:Object.defineProperty(c,Va,{value:[]})[Va];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Be=globalThis;function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function q_(t,e){for(let r in e)e.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function pt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(pt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r===-1?e:e.substring(0,r)}function hg(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var W_=Te({__forward_ref__:Te});function di(t){return t.__forward_ref__=di,t.toString=function(){return pt(this())},t}function ht(t){return oy(t)?t():t}function oy(t){return typeof t=="function"&&t.hasOwnProperty(W_)&&t.__forward_ref__===di}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ve(t){return{providers:t.providers||[],imports:t.imports||[]}}function bc(t){return pg(t,ay)||pg(t,cy)}function sy(t){return bc(t)!==null}function pg(t,e){return t.hasOwnProperty(e)?t[e]:null}function G_(t){let e=t&&(t[ay]||t[cy]);return e||null}function mg(t){return t&&(t.hasOwnProperty(gg)||t.hasOwnProperty(Q_))?t[gg]:null}var ay=Te({\u0275prov:Te}),gg=Te({\u0275inj:Te}),cy=Te({ngInjectableDef:Te}),Q_=Te({ngInjectorDef:Te}),R=class{constructor(e,r){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.\u0275prov=_({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ly(t){return t&&!!t.\u0275providers}var Y_=Te({\u0275cmp:Te}),K_=Te({\u0275dir:Te}),Z_=Te({\u0275pipe:Te}),X_=Te({\u0275mod:Te}),Za=Te({\u0275fac:Te}),Wo=Te({__NG_ELEMENT_ID__:Te}),yg=Te({__NG_ENV_ID__:Te});function ei(t){return typeof t=="string"?t:t==null?"":String(t)}function J_(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ei(t)}function eD(t,e){let r=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new E(-200,t)}function hf(t,e){throw new E(-201,!1)}var oe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(oe||{}),dd;function uy(){return dd}function _t(t){let e=dd;return dd=t,e}function dy(t,e,r){let n=bc(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(r&oe.Optional)return null;if(e!==void 0)return e;hf(t,"Injector")}var tD={},Qo=tD,fd="__NG_DI_FLAG__",Xa="ngTempTokenPath",nD="ngTokenPath",rD=/\n/gm,iD="\u0275",vg="__source",Wi;function oD(){return Wi}function vr(t){let e=Wi;return Wi=t,e}function sD(t,e=oe.Default){if(Wi===void 0)throw new E(-203,!1);return Wi===null?dy(t,void 0,e):Wi.get(t,e&oe.Optional?null:void 0,e)}function N(t,e=oe.Default){return(uy()||sD)(ht(t),e)}function p(t,e=oe.Default){return N(t,wc(e))}function wc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function hd(t){let e=[];for(let r=0;r<t.length;r++){let n=ht(t[r]);if(Array.isArray(n)){if(n.length===0)throw new E(900,!1);let i,o=oe.Default;for(let s=0;s<n.length;s++){let a=n[s],c=aD(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(N(i,o))}else e.push(N(n))}return e}function fy(t,e){return t[fd]=e,t.prototype[fd]=e,t}function aD(t){return t[fd]}function cD(t,e,r,n){let i=t[Xa];throw e[vg]&&i.unshift(e[vg]),t.message=lD(`
`+t.message,i,r,n),t[nD]=i,t[Xa]=null,t}function lD(t,e,r,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==iD?t.slice(2):t;let i=pt(e);if(Array.isArray(e))i=e.map(pt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):pt(a)))}i=`{${o.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${t.replace(rD,`
  `)}`}var Cc=fy(iy("Optional"),8);var pf=fy(iy("SkipSelf"),4);function ti(t,e){let r=t.hasOwnProperty(Za);return r?t[Za]:null}function uD(t,e,r){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],o=e[n];if(r&&(i=r(i),o=r(o)),o!==i)return!1}return!0}function dD(t){return t.flat(Number.POSITIVE_INFINITY)}function mf(t,e){t.forEach(r=>Array.isArray(r)?mf(r,e):e(r))}function hy(t,e,r){e>=t.length?t.push(r):t.splice(e,0,r)}function Ja(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function fD(t,e,r,n){let i=t.length;if(i==e)t.push(r,n);else if(i===1)t.push(n,t[0]),t[0]=r;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=r,t[e+1]=n}}function hD(t,e,r){let n=is(t,e);return n>=0?t[n|1]=r:(n=~n,fD(t,n,e,r)),n}function Ku(t,e){let r=is(t,e);if(r>=0)return t[r|1]}function is(t,e){return pD(t,e,1)}function pD(t,e,r){let n=0,i=t.length>>r;for(;i!==n;){let o=n+(i-n>>1),s=t[o<<r];if(e===s)return o<<r;s>e?i=o:n=o+1}return~(i<<r)}var Qi={},zt=[],Yi=new R(""),py=new R("",-1),my=new R(""),ec=class{get(e,r=Qo){if(r===Qo){let n=new Error(`NullInjectorError: No provider for ${pt(e)}!`);throw n.name="NullInjectorError",n}return r}},gy=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(gy||{}),Rn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Rn||{}),st=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(st||{});function mD(t,e,r){let n=t.length;for(;;){let i=t.indexOf(e,r);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===n||t.charCodeAt(i+o)<=32)return i}r=i+1}}function pd(t,e,r){let n=0;for(;n<r.length;){let i=r[n];if(typeof i=="number"){if(i!==0)break;n++;let o=r[n++],s=r[n++],a=r[n++];t.setAttribute(e,s,a,o)}else{let o=i,s=r[++n];gD(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),n++}}return n}function yy(t){return t===3||t===4||t===6}function gD(t){return t.charCodeAt(0)===64}function Yo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let r=-1;for(let n=0;n<e.length;n++){let i=e[n];typeof i=="number"?r=i:r===0||(r===-1||r===2?bg(t,r,i,null,e[++n]):bg(t,r,i,null,null))}}return t}function bg(t,e,r,n,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===r){if(n===null){i!==null&&(t[o+1]=i);return}else if(n===t[o+1]){t[o+2]=i;return}}o++,n!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,r),n!==null&&t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}var vy="ng-template";function yD(t,e,r,n){let i=0;if(n){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&mD(e[i+1].toLowerCase(),r,0)!==-1)return!0}else if(gf(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===r)return!0}return!1}function gf(t){return t.type===4&&t.value!==vy}function vD(t,e,r){let n=t.type===4&&!r?vy:t.value;return e===n}function bD(t,e,r){let n=4,i=t.attrs,o=i!==null?_D(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!fn(n)&&!fn(c))return!1;if(s&&fn(c))continue;s=!1,n=c|n&1;continue}if(!s)if(n&4){if(n=2|n&1,c!==""&&!vD(t,c,r)||c===""&&e.length===1){if(fn(n))return!1;s=!0}}else if(n&8){if(i===null||!yD(t,i,c,r)){if(fn(n))return!1;s=!0}}else{let l=e[++a],u=wD(c,i,gf(t),r);if(u===-1){if(fn(n))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),n&2&&l!==d){if(fn(n))return!1;s=!0}}}}return fn(n)||s}function fn(t){return(t&1)===0}function wD(t,e,r,n){if(e===null)return-1;let i=0;if(n||!r){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return DD(e,t)}function CD(t,e,r=!1){for(let n=0;n<e.length;n++)if(bD(t,e[n],r))return!0;return!1}function _D(t){for(let e=0;e<t.length;e++){let r=t[e];if(yy(r))return e}return t.length}function DD(t,e){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){let n=t[r];if(typeof n=="number")return-1;if(n===e)return r;r++}return-1}function wg(t,e){return t?":not("+e.trim()+")":e}function ED(t){let e=t[0],r=1,n=2,i="",o=!1;for(;r<t.length;){let s=t[r];if(typeof s=="string")if(n&2){let a=t[++r];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else n&8?i+="."+s:n&4&&(i+=" "+s);else i!==""&&!fn(s)&&(e+=wg(o,i),i=""),n=s,o=o||!fn(n);r++}return i!==""&&(e+=wg(o,i)),e}function SD(t){return t.map(ED).join(",")}function ID(t){let e=[],r=[],n=1,i=2;for(;n<t.length;){let o=t[n];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++n]):i===8&&r.push(o);else{if(!fn(i))break;i=o}n++}return{attrs:e,classes:r}}function q(t){return rs(()=>{let e=Dy(t),r=$(C({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===gy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Rn.Emulated,styles:t.styles||zt,_:null,schemas:t.schemas||null,tView:null,id:""});Ey(r);let n=t.dependencies;return r.directiveDefs=_g(n,!1),r.pipeDefs=_g(n,!0),r.id=TD(r),r})}function xD(t){return wr(t)||by(t)}function MD(t){return t!==null}function je(t){return rs(()=>({type:t.type,bootstrap:t.bootstrap||zt,declarations:t.declarations||zt,imports:t.imports||zt,exports:t.exports||zt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Cg(t,e){if(t==null)return Qi;let r={};for(let n in t)if(t.hasOwnProperty(n)){let i=t[n],o,s,a=st.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(r[o]=a!==st.None?[n,a]:n,e[o]=s):r[o]=n}return r}function at(t){return rs(()=>{let e=Dy(t);return Ey(e),e})}function _c(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function wr(t){return t[Y_]||null}function by(t){return t[K_]||null}function wy(t){return t[Z_]||null}function Cy(t){let e=wr(t)||by(t)||wy(t);return e!==null?e.standalone:!1}function _y(t,e){let r=t[X_]||null;if(!r&&e===!0)throw new Error(`Type ${pt(t)} does not have '\u0275mod' property.`);return r}function Dy(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Qi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||zt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cg(t.inputs,e),outputs:Cg(t.outputs),debugInfo:null}}function Ey(t){t.features?.forEach(e=>e(t))}function _g(t,e){if(!t)return null;let r=e?wy:xD;return()=>(typeof t=="function"?t():t).map(n=>r(n)).filter(MD)}function TD(t){let e=0,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of r)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ro(t){return{\u0275providers:t}}function AD(...t){return{\u0275providers:Sy(!0,t),\u0275fromNgModule:!0}}function Sy(t,...e){let r=[],n=new Set,i,o=s=>{r.push(s)};return mf(e,s=>{let a=s;md(a,o,[],n)&&(i||=[],i.push(a))}),i!==void 0&&Iy(i,o),r}function Iy(t,e){for(let r=0;r<t.length;r++){let{ngModule:n,providers:i}=t[r];yf(i,o=>{e(o,n)})}}function md(t,e,r,n){if(t=ht(t),!t)return!1;let i=null,o=mg(t),s=!o&&wr(t);if(!o&&!s){let c=t.ngModule;if(o=mg(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=n.has(i);if(s){if(a)return!1;if(n.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)md(l,e,r,n)}}else if(o){if(o.imports!=null&&!a){n.add(i);let l;try{mf(o.imports,u=>{md(u,e,r,n)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Iy(l,e)}if(!a){let l=ti(i)||(()=>new i);e({provide:i,useFactory:l,deps:zt},i),e({provide:my,useValue:i,multi:!0},i),e({provide:Yi,useValue:()=>N(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;yf(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function yf(t,e){for(let r of t)ly(r)&&(r=r.\u0275providers),Array.isArray(r)?yf(r,e):e(r)}var ND=Te({provide:String,useValue:Te});function xy(t){return t!==null&&typeof t=="object"&&ND in t}function RD(t){return!!(t&&t.useExisting)}function OD(t){return!!(t&&t.useFactory)}function Ki(t){return typeof t=="function"}function FD(t){return!!t.useClass}var Dc=new R(""),qa={},PD={},Zu;function vf(){return Zu===void 0&&(Zu=new ec),Zu}var mt=class{},Ko=class extends mt{get destroyed(){return this._destroyed}constructor(e,r,n,i){super(),this.parent=r,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yd(e,s=>this.processProvider(s)),this.records.set(py,$i(void 0,this)),i.has("environment")&&this.records.set(mt,$i(void 0,this));let o=this.records.get(Dc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(my,zt,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=de(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let r=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of r)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),de(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let r=vr(this),n=_t(void 0),i;try{return e()}finally{vr(r),_t(n)}}get(e,r=Qo,n=oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(yg))return e[yg](this);n=wc(n);let i,o=vr(this),s=_t(void 0);try{if(!(n&oe.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=UD(e)&&bc(e);l&&this.injectableDefInScope(l)?c=$i(gd(e),qa):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=n&oe.Self?vf():this.parent;return r=n&oe.Optional&&r===Qo?null:r,a.get(e,r)}catch(a){if(a.name==="NullInjectorError"){if((a[Xa]=a[Xa]||[]).unshift(pt(e)),o)throw a;return cD(a,e,"R3InjectorError",this.source)}else throw a}finally{_t(s),vr(o)}}resolveInjectorInitializers(){let e=de(null),r=vr(this),n=_t(void 0),i;try{let o=this.get(Yi,zt,oe.Self);for(let s of o)s()}finally{vr(r),_t(n),de(e)}}toString(){let e=[],r=this.records;for(let n of r.keys())e.push(pt(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(e){e=ht(e);let r=Ki(e)?e:ht(e&&e.provide),n=LD(e);if(!Ki(e)&&e.multi===!0){let i=this.records.get(r);i||(i=$i(void 0,qa,!0),i.factory=()=>hd(i.multi),this.records.set(r,i)),r=e,i.multi.push(e)}this.records.set(r,n)}hydrate(e,r){let n=de(null);try{return r.value===qa&&(r.value=PD,r.value=r.factory()),typeof r.value=="object"&&r.value&&jD(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{de(n)}}injectableDefInScope(e){if(!e.providedIn)return!1;let r=ht(e.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(e){let r=this._onDestroyHooks.indexOf(e);r!==-1&&this._onDestroyHooks.splice(r,1)}};function gd(t){let e=bc(t),r=e!==null?e.factory:ti(t);if(r!==null)return r;if(t instanceof R)throw new E(204,!1);if(t instanceof Function)return kD(t);throw new E(204,!1)}function kD(t){if(t.length>0)throw new E(204,!1);let r=G_(t);return r!==null?()=>r.factory(t):()=>new t}function LD(t){if(xy(t))return $i(void 0,t.useValue);{let e=My(t);return $i(e,qa)}}function My(t,e,r){let n;if(Ki(t)){let i=ht(t);return ti(i)||gd(i)}else if(xy(t))n=()=>ht(t.useValue);else if(OD(t))n=()=>t.useFactory(...hd(t.deps||[]));else if(RD(t))n=()=>N(ht(t.useExisting));else{let i=ht(t&&(t.useClass||t.provide));if(VD(t))n=()=>new i(...hd(t.deps));else return ti(i)||gd(i)}return n}function $i(t,e,r=!1){return{factory:t,value:e,multi:r?[]:void 0}}function VD(t){return!!t.deps}function jD(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function UD(t){return typeof t=="function"||typeof t=="object"&&t instanceof R}function yd(t,e){for(let r of t)Array.isArray(r)?yd(r,e):r&&ly(r)?yd(r.\u0275providers,e):e(r)}function gn(t,e){t instanceof Ko&&t.assertNotDestroyed();let r,n=vr(t),i=_t(void 0);try{return e()}finally{vr(n),_t(i)}}function Ty(){return uy()!==void 0||oD()!=null}function bf(t){if(!Ty())throw new E(-203,!1)}function BD(t){let e=Be.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function $D(t){return typeof t=="function"}var Kn=0,ne=1,W=2,nt=3,hn=4,yn=5,tc=6,Zo=7,pn=8,Zi=9,mn=10,Qe=11,Xo=12,Dg=13,io=14,On=15,os=16,Hi=17,Gn=18,Ec=19,Ay=20,br=21,Xu=22,ni=23,Dt=25,Ny=1;var ri=7,nc=8,Xi=9,Ot=10,wf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(wf||{});function Xr(t){return Array.isArray(t)&&typeof t[Ny]=="object"}function Zn(t){return Array.isArray(t)&&t[Ny]===!0}function Cf(t){return(t.flags&4)!==0}function Sc(t){return t.componentOffset>-1}function Ic(t){return(t.flags&1)===1}function Cr(t){return!!t.template}function HD(t){return(t[W]&512)!==0}var vd=class{constructor(e,r,n){this.previousValue=e,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}};function Ry(t,e,r,n){e!==null?e.applyValueToInputSignal(e,n):t[r]=n}function kn(){return Oy}function Oy(t){return t.type.prototype.ngOnChanges&&(t.setInput=qD),zD}kn.ngInherit=!0;function zD(){let t=Py(this),e=t?.current;if(e){let r=t.previous;if(r===Qi)t.previous=e;else for(let n in e)r[n]=e[n];t.current=null,this.ngOnChanges(e)}}function qD(t,e,r,n,i){let o=this.declaredInputs[n],s=Py(t)||WD(t,{previous:Qi,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new vd(l&&l.currentValue,r,c===Qi),Ry(t,e,i,r)}var Fy="__ngSimpleChanges__";function Py(t){return t[Fy]||null}function WD(t,e){return t[Fy]=e}var Eg=null;var An=function(t,e,r){Eg?.(t,e,r)},ky="svg",GD="math",QD=!1;function YD(){return QD}function Fn(t){for(;Array.isArray(t);)t=t[Kn];return t}function Ly(t,e){return Fn(e[t])}function qt(t,e){return Fn(e[t.index])}function Vy(t,e){return t.data[e]}function xc(t,e){return t[e]}function Sr(t,e){let r=e[t];return Xr(r)?r:r[Kn]}function KD(t){return(t[W]&4)===4}function _f(t){return(t[W]&128)===128}function ZD(t){return Zn(t[nt])}function Ji(t,e){return e==null?null:t[e]}function jy(t){t[Hi]=0}function XD(t){t[W]&1024||(t[W]|=1024,_f(t)&&Jo(t))}function JD(t,e){for(;t>0;)e=e[io],t--;return e}function Df(t){return!!(t[W]&9216||t[ni]?.dirty)}function bd(t){t[mn].changeDetectionScheduler?.notify(1),Df(t)?Jo(t):t[W]&64&&(YD()?(t[W]|=1024,Jo(t)):t[mn].changeDetectionScheduler?.notify())}function Jo(t){t[mn].changeDetectionScheduler?.notify();let e=es(t);for(;e!==null&&!(e[W]&8192||(e[W]|=8192,!_f(e)));)e=es(e)}function Uy(t,e){if((t[W]&256)===256)throw new E(911,!1);t[br]===null&&(t[br]=[]),t[br].push(e)}function eE(t,e){if(t[br]===null)return;let r=t[br].indexOf(e);r!==-1&&t[br].splice(r,1)}function es(t){let e=t[nt];return Zn(e)?e[nt]:e}var Z={lFrame:Qy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function tE(){return Z.lFrame.elementDepthCount}function nE(){Z.lFrame.elementDepthCount++}function rE(){Z.lFrame.elementDepthCount--}function By(){return Z.bindingsEnabled}function iE(){return Z.skipHydrationRootTNode!==null}function oE(t){return Z.skipHydrationRootTNode===t}function sE(){Z.skipHydrationRootTNode=null}function ce(){return Z.lFrame.lView}function rt(){return Z.lFrame.tView}function O(t){return Z.lFrame.contextLView=t,t[pn]}function F(t){return Z.lFrame.contextLView=null,t}function Et(){let t=$y();for(;t!==null&&t.type===64;)t=t.parent;return t}function $y(){return Z.lFrame.currentTNode}function aE(){let t=Z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function fi(t,e){let r=Z.lFrame;r.currentTNode=t,r.isParent=e}function Ef(){return Z.lFrame.isParent}function Hy(){Z.lFrame.isParent=!1}function cE(){return Z.lFrame.contextLView}function ss(){let t=Z.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function lE(){return Z.lFrame.bindingIndex}function uE(t){return Z.lFrame.bindingIndex=t}function Sf(){return Z.lFrame.bindingIndex++}function zy(t){let e=Z.lFrame,r=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,r}function dE(){return Z.lFrame.inI18n}function fE(t,e){let r=Z.lFrame;r.bindingIndex=r.bindingRootIndex=t,wd(e)}function hE(){return Z.lFrame.currentDirectiveIndex}function wd(t){Z.lFrame.currentDirectiveIndex=t}function pE(t){let e=Z.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function qy(){return Z.lFrame.currentQueryIndex}function If(t){Z.lFrame.currentQueryIndex=t}function mE(t){let e=t[ne];return e.type===2?e.declTNode:e.type===1?t[yn]:null}function Wy(t,e,r){if(r&oe.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(r&oe.Host);)if(i=mE(o),i===null||(o=o[io],i.type&10))break;if(i===null)return!1;e=i,t=o}let n=Z.lFrame=Gy();return n.currentTNode=e,n.lView=t,!0}function xf(t){let e=Gy(),r=t[ne];Z.lFrame=e,e.currentTNode=r.firstChild,e.lView=t,e.tView=r,e.contextLView=t,e.bindingIndex=r.bindingStartIndex,e.inI18n=!1}function Gy(){let t=Z.lFrame,e=t===null?null:t.child;return e===null?Qy(t):e}function Qy(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Yy(){let t=Z.lFrame;return Z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Ky=Yy;function Mf(){let t=Yy();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function gE(t){return(Z.lFrame.contextLView=JD(t,Z.lFrame.contextLView))[pn]}function hi(){return Z.lFrame.selectedIndex}function ii(t){Z.lFrame.selectedIndex=t}function Tf(){let t=Z.lFrame;return Vy(t.tView,t.selectedIndex)}function Ft(){Z.lFrame.currentNamespace=ky}function Wt(){yE()}function yE(){Z.lFrame.currentNamespace=null}function vE(){return Z.lFrame.currentNamespace}var Zy=!0;function Mc(){return Zy}function Tc(t){Zy=t}function bE(t,e,r){let{ngOnChanges:n,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(n){let s=Oy(e);(r.preOrderHooks??=[]).push(t,s),(r.preOrderCheckHooks??=[]).push(t,s)}i&&(r.preOrderHooks??=[]).push(0-t,i),o&&((r.preOrderHooks??=[]).push(t,o),(r.preOrderCheckHooks??=[]).push(t,o))}function Ac(t,e){for(let r=e.directiveStart,n=e.directiveEnd;r<n;r++){let o=t.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-r,s),a&&((t.contentHooks??=[]).push(r,a),(t.contentCheckHooks??=[]).push(r,a)),c&&(t.viewHooks??=[]).push(-r,c),l&&((t.viewHooks??=[]).push(r,l),(t.viewCheckHooks??=[]).push(r,l)),u!=null&&(t.destroyHooks??=[]).push(r,u)}}function Wa(t,e,r){Xy(t,e,3,r)}function Ga(t,e,r,n){(t[W]&3)===r&&Xy(t,e,r,n)}function Ju(t,e){let r=t[W];(r&3)===e&&(r&=16383,r+=1,t[W]=r)}function Xy(t,e,r,n){let i=n!==void 0?t[Hi]&65535:0,o=n??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],n!=null&&a>=n)break}else e[c]<0&&(t[Hi]+=65536),(a<o||o==-1)&&(wE(t,r,e,c),t[Hi]=(t[Hi]&4294901760)+c+2),c++}function Sg(t,e){An(4,t,e);let r=de(null);try{e.call(t)}finally{de(r),An(5,t,e)}}function wE(t,e,r,n){let i=r[n]<0,o=r[n+1],s=i?-r[n]:r[n],a=t[s];i?t[W]>>14<t[Hi]>>16&&(t[W]&3)===e&&(t[W]+=16384,Sg(a,o)):Sg(a,o)}var Gi=-1,oi=class{constructor(e,r,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}};function CE(t){return t instanceof oi}function _E(t){return(t.flags&8)!==0}function DE(t){return(t.flags&16)!==0}function Jy(t){return t!==Gi}function rc(t){return t&32767}function EE(t){return t>>16}function ic(t,e){let r=EE(t),n=e;for(;r>0;)n=n[io],r--;return n}var Cd=!0;function oc(t){let e=Cd;return Cd=t,e}var SE=256,ev=SE-1,tv=5,IE=0,Nn={};function xE(t,e,r){let n;typeof r=="string"?n=r.charCodeAt(0)||0:r.hasOwnProperty(Wo)&&(n=r[Wo]),n==null&&(n=r[Wo]=IE++);let i=n&ev,o=1<<i;e.data[t+(i>>tv)]|=o}function sc(t,e){let r=nv(t,e);if(r!==-1)return r;let n=e[ne];n.firstCreatePass&&(t.injectorIndex=e.length,ed(n.data,t),ed(e,null),ed(n.blueprint,null));let i=Af(t,e),o=t.injectorIndex;if(Jy(i)){let s=rc(i),a=ic(i,e),c=a[ne].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function ed(t,e){t.push(0,0,0,0,0,0,0,0,e)}function nv(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Af(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let r=0,n=null,i=e;for(;i!==null;){if(n=av(i),n===null)return Gi;if(r++,i=i[io],n.injectorIndex!==-1)return n.injectorIndex|r<<16}return Gi}function _d(t,e,r){xE(t,e,r)}function ME(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let r=t.attrs;if(r){let n=r.length,i=0;for(;i<n;){let o=r[i];if(yy(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<n&&typeof r[i]=="string";)i++;else{if(o===e)return r[i+1];i=i+2}}}return null}function rv(t,e,r){if(r&oe.Optional||t!==void 0)return t;hf(e,"NodeInjector")}function iv(t,e,r,n){if(r&oe.Optional&&n===void 0&&(n=null),!(r&(oe.Self|oe.Host))){let i=t[Zi],o=_t(void 0);try{return i?i.get(e,n,r&oe.Optional):dy(e,n,r&oe.Optional)}finally{_t(o)}}return rv(n,e,r)}function ov(t,e,r,n=oe.Default,i){if(t!==null){if(e[W]&2048&&!(n&oe.Self)){let s=RE(t,e,r,n,Nn);if(s!==Nn)return s}let o=sv(t,e,r,n,Nn);if(o!==Nn)return o}return iv(e,r,n,i)}function sv(t,e,r,n,i){let o=AE(r);if(typeof o=="function"){if(!Wy(e,t,n))return n&oe.Host?rv(i,r,n):iv(e,r,n,i);try{let s;if(s=o(n),s==null&&!(n&oe.Optional))hf(r);else return s}finally{Ky()}}else if(typeof o=="number"){let s=null,a=nv(t,e),c=Gi,l=n&oe.Host?e[On][yn]:null;for((a===-1||n&oe.SkipSelf)&&(c=a===-1?Af(t,e):e[a+8],c===Gi||!xg(n,!1)?a=-1:(s=e[ne],a=rc(c),e=ic(c,e)));a!==-1;){let u=e[ne];if(Ig(o,a,u.data)){let d=TE(a,e,r,s,n,l);if(d!==Nn)return d}c=e[a+8],c!==Gi&&xg(n,e[ne].data[a+8]===l)&&Ig(o,a,e)?(s=u,a=rc(c),e=ic(c,e)):a=-1}}return i}function TE(t,e,r,n,i,o){let s=e[ne],a=s.data[t+8],c=n==null?Sc(a)&&Cd:n!=s&&(a.type&3)!==0,l=i&oe.Host&&o===a,u=Qa(a,s,r,c,l);return u!==null?si(e,s,u,a):Nn}function Qa(t,e,r,n,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=n?a:a+u,m=i?a+u:l;for(let v=d;v<m;v++){let b=s[v];if(v<c&&r===b||v>=c&&b.type===r)return v}if(i){let v=s[c];if(v&&Cr(v)&&v.type===r)return c}return null}function si(t,e,r,n){let i=t[r],o=e.data;if(CE(i)){let s=i;s.resolving&&eD(J_(o[r]));let a=oc(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?_t(s.injectImpl):null,u=Wy(t,n,oe.Default);try{i=t[r]=s.factory(void 0,o,t,n),e.firstCreatePass&&r>=n.directiveStart&&bE(r,o[r],e)}finally{l!==null&&_t(l),oc(a),s.resolving=!1,Ky()}}return i}function AE(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Wo)?t[Wo]:void 0;return typeof e=="number"?e>=0?e&ev:NE:e}function Ig(t,e,r){let n=1<<t;return!!(r[e+(t>>tv)]&n)}function xg(t,e){return!(t&oe.Self)&&!(t&oe.Host&&e)}var Jr=class{constructor(e,r){this._tNode=e,this._lView=r}get(e,r,n){return ov(this._tNode,this._lView,e,wc(n),r)}};function NE(){return new Jr(Et(),ce())}function oo(t){return rs(()=>{let e=t.prototype.constructor,r=e[Za]||Dd(e),n=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==n;){let o=i[Za]||Dd(i);if(o&&o!==r)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Dd(t){return oy(t)?()=>{let e=Dd(ht(t));return e&&e()}:ti(t)}function RE(t,e,r,n,i){let o=t,s=e;for(;o!==null&&s!==null&&s[W]&2048&&!(s[W]&512);){let a=sv(o,s,r,n|oe.Self,Nn);if(a!==Nn)return a;let c=o.parent;if(!c){let l=s[Ay];if(l){let u=l.get(r,Nn,n);if(u!==Nn)return u}c=av(s),s=s[io]}o=c}return i}function av(t){let e=t[ne],r=e.type;return r===2?e.declTNode:r===1?t[yn]:null}function Nf(t){return ME(Et(),t)}function Mg(t,e=null,r=null,n){let i=cv(t,e,r,n);return i.resolveInjectorInitializers(),i}function cv(t,e=null,r=null,n,i=new Set){let o=[r||zt,AD(t)];return n=n||(typeof t=="object"?void 0:pt(t)),new Ko(o,e||vf(),n||null,i)}var St=(()=>{let e=class e{static create(n,i){if(Array.isArray(n))return Mg({name:""},i,n,"");{let o=n.name??"";return Mg({name:o},n.parent,n.providers,o)}}};e.THROW_IF_NOT_FOUND=Qo,e.NULL=new ec,e.\u0275prov=_({token:e,providedIn:"any",factory:()=>N(py)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var OE="ngOriginalError";function td(t){return t[OE]}var Pn=class{constructor(){this._console=console}handleError(e){let r=this._findOriginalError(e);this._console.error("ERROR",e),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(e){let r=e&&td(e);for(;r&&td(r);)r=td(r);return r||null}},lv=new R("",{providedIn:"root",factory:()=>p(Pn).handleError.bind(void 0)}),so=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=FE,e.__NG_ENV_ID__=n=>n;let t=e;return t})(),Ed=class extends so{constructor(e){super(),this._lView=e}onDestroy(e){return Uy(this._lView,e),()=>eE(this._lView,e)}};function FE(){return new Ed(ce())}function PE(){return ao(Et(),ce())}function ao(t,e){return new vn(qt(t,e))}var vn=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=PE;let t=e;return t})();function kE(t){return t instanceof vn?t.nativeElement:t}var Sd=class extends ge{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Ty()&&(this.destroyRef=p(so,{optional:!0})??void 0)}emit(e){let r=de(null);try{super.next(e)}finally{de(r)}}subscribe(e,r,n){let i=e,o=r||(()=>null),s=n;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=nd(o),i&&(i=nd(i)),s&&(s=nd(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof se&&e.add(a),a}};function nd(t){return e=>{setTimeout(t,void 0,e)}}var De=Sd;function LE(){return this._results[Symbol.iterator]()}var Id=class t{get changes(){return this._changes??=new De}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let r=t.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=LE)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,r){return this._results.reduce(e,r)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,r){this.dirty=!1;let n=dD(e);(this._changesDetected=!uD(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function uv(t){return(t.flags&128)===128}var dv=new Map,VE=0;function jE(){return VE++}function UE(t){dv.set(t[Ec],t)}function BE(t){dv.delete(t[Ec])}var Tg="__ngContext__";function _r(t,e){Xr(e)?(t[Tg]=e[Ec],UE(e)):t[Tg]=e}function fv(t){return pv(t[Xo])}function hv(t){return pv(t[hn])}function pv(t){for(;t!==null&&!Zn(t);)t=t[hn];return t}var xd;function mv(t){xd=t}function gv(){if(xd!==void 0)return xd;if(typeof document<"u")return document;throw new E(210,!1)}var Nc=new R("",{providedIn:"root",factory:()=>$E}),$E="ng",Rf=new R(""),Pt=new R("",{providedIn:"platform",factory:()=>"unknown"});var Of=new R(""),Ff=new R("",{providedIn:"root",factory:()=>gv().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var HE="h",zE="b";var qE=()=>null;function Pf(t,e,r=!1){return qE(t,e,r)}var yv=!1,WE=new R("",{providedIn:"root",factory:()=>yv});var ja;function GE(){if(ja===void 0&&(ja=null,Be.trustedTypes))try{ja=Be.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ja}function Rc(t){return GE()?.createHTML(t)||t}var Ua;function vv(){if(Ua===void 0&&(Ua=null,Be.trustedTypes))try{Ua=Be.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ua}function Ag(t){return vv()?.createHTML(t)||t}function Ng(t){return vv()?.createScriptURL(t)||t}var Qn=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ry})`}},Md=class extends Qn{getTypeName(){return"HTML"}},Td=class extends Qn{getTypeName(){return"Style"}},Ad=class extends Qn{getTypeName(){return"Script"}},Nd=class extends Qn{getTypeName(){return"URL"}},Rd=class extends Qn{getTypeName(){return"ResourceURL"}};function bn(t){return t instanceof Qn?t.changingThisBreaksApplicationSecurity:t}function Xn(t,e){let r=QE(t);if(r!=null&&r!==e){if(r==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${r} (see ${ry})`)}return r===e}function QE(t){return t instanceof Qn&&t.getTypeName()||null}function bv(t){return new Md(t)}function wv(t){return new Td(t)}function Cv(t){return new Ad(t)}function _v(t){return new Nd(t)}function Dv(t){return new Rd(t)}function YE(t){let e=new Fd(t);return KE()?new Od(e):e}var Od=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let r=new window.DOMParser().parseFromString(Rc(e),"text/html").body;return r===null?this.inertDocumentHelper.getInertBodyElement(e):(r.removeChild(r.firstChild),r)}catch{return null}}},Fd=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let r=this.inertDocument.createElement("template");return r.innerHTML=Rc(e),r}};function KE(){try{return!!new window.DOMParser().parseFromString(Rc(""),"text/html")}catch{return!1}}var ZE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Oc(t){return t=String(t),t.match(ZE)?t:"unsafe:"+t}function Jn(t){let e={};for(let r of t.split(","))e[r]=!0;return e}function as(...t){let e={};for(let r of t)for(let n in r)r.hasOwnProperty(n)&&(e[n]=!0);return e}var Ev=Jn("area,br,col,hr,img,wbr"),Sv=Jn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Iv=Jn("rp,rt"),XE=as(Iv,Sv),JE=as(Sv,Jn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),eS=as(Iv,Jn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rg=as(Ev,JE,eS,XE),xv=Jn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tS=Jn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),nS=Jn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),rS=as(xv,tS,nS),iS=Jn("script,style,template"),Pd=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let r=e.firstChild,n=!0,i=[];for(;r;){if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild){i.push(r),r=aS(r);continue}for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let o=sS(r);if(o){r=o;break}r=i.pop()}}return this.buf.join("")}startElement(e){let r=Og(e).toLowerCase();if(!Rg.hasOwnProperty(r))return this.sanitizedSomething=!0,!iS.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);let n=e.attributes;for(let i=0;i<n.length;i++){let o=n.item(i),s=o.name,a=s.toLowerCase();if(!rS.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;xv[a]&&(c=Oc(c)),this.buf.push(" ",s,'="',Fg(c),'"')}return this.buf.push(">"),!0}endElement(e){let r=Og(e).toLowerCase();Rg.hasOwnProperty(r)&&!Ev.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(e){this.buf.push(Fg(e))}};function oS(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function sS(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw Mv(e);return e}function aS(t){let e=t.firstChild;if(e&&oS(t,e))throw Mv(e);return e}function Og(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function Mv(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var cS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lS=/([^\#-~ |!])/g;function Fg(t){return t.replace(/&/g,"&amp;").replace(cS,function(e){let r=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+((r-55296)*1024+(n-56320)+65536)+";"}).replace(lS,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ba;function kf(t,e){let r=null;try{Ba=Ba||YE(t);let n=e?String(e):"";r=Ba.getInertBodyElement(n);let i=5,o=n;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,n=o,o=r.innerHTML,r=Ba.getInertBodyElement(n)}while(n!==o);let a=new Pd().sanitizeChildren(Pg(r)||r);return Rc(a)}finally{if(r){let n=Pg(r)||r;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function Pg(t){return"content"in t&&uS(t)?t.content:null}function uS(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var wn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(wn||{});function Tv(t){let e=Lf();return e?Ag(e.sanitize(wn.HTML,t)||""):Xn(t,"HTML")?Ag(bn(t)):kf(gv(),ei(t))}function Ee(t){let e=Lf();return e?e.sanitize(wn.URL,t)||"":Xn(t,"URL")?bn(t):Oc(ei(t))}function dS(t){let e=Lf();if(e)return Ng(e.sanitize(wn.RESOURCE_URL,t)||"");if(Xn(t,"ResourceURL"))return Ng(bn(t));throw new E(904,!1)}function fS(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?dS:Ee}function Av(t,e,r){return fS(e,r)(t)}function Lf(){let t=ce();return t&&t[mn].sanitizer}var hS=/^>|^->|<!--|-->|--!>|<!-$/g,pS=/(<|>)/g,mS="\u200B$1\u200B";function gS(t){return t.replace(hS,e=>e.replace(pS,mS))}function Nv(t){return t.ownerDocument.defaultView}function Rv(t){return t.ownerDocument}function Ov(t){return t instanceof Function?t():t}function yS(t){return(t??p(St)).get(Pt)==="browser"}var Yn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Yn||{}),vS;function Vf(t,e){return vS(t,e)}function zi(t,e,r,n,i){if(n!=null){let o,s=!1;Zn(n)?o=n:Xr(n)&&(s=!0,n=n[Kn]);let a=Fn(n);t===0&&r!==null?i==null?Vv(e,r,a):ac(e,r,a,i||null,!0):t===1&&r!==null?ac(e,r,a,i||null,!0):t===2?kS(e,a,s):t===3&&e.destroyNode(a),o!=null&&VS(e,t,o,r,i)}}function bS(t,e){return t.createText(e)}function wS(t,e,r){t.setValue(e,r)}function CS(t,e){return t.createComment(gS(e))}function Fv(t,e,r){return t.createElement(e,r)}function _S(t,e){Pv(t,e),e[Kn]=null,e[yn]=null}function DS(t,e,r,n,i,o){n[Kn]=i,n[yn]=e,Pc(t,n,r,1,i,o)}function Pv(t,e){e[mn].changeDetectionScheduler?.notify(1),Pc(t,e,e[Qe],2,null,null)}function ES(t){let e=t[Xo];if(!e)return rd(t[ne],t);for(;e;){let r=null;if(Xr(e))r=e[Xo];else{let n=e[Ot];n&&(r=n)}if(!r){for(;e&&!e[hn]&&e!==t;)Xr(e)&&rd(e[ne],e),e=e[nt];e===null&&(e=t),Xr(e)&&rd(e[ne],e),r=e&&e[hn]}e=r}}function SS(t,e,r,n){let i=Ot+n,o=r.length;n>0&&(r[i-1][hn]=e),n<o-Ot?(e[hn]=r[i],hy(r,Ot+n,e)):(r.push(e),e[hn]=null),e[nt]=r;let s=e[os];s!==null&&r!==s&&IS(s,e);let a=e[Gn];a!==null&&a.insertView(t),bd(e),e[W]|=128}function IS(t,e){let r=t[Xi],i=e[nt][nt][On];e[On]!==i&&(t[W]|=wf.HasTransplantedViews),r===null?t[Xi]=[e]:r.push(e)}function kv(t,e){let r=t[Xi],n=r.indexOf(e);r.splice(n,1)}function kd(t,e){if(t.length<=Ot)return;let r=Ot+e,n=t[r];if(n){let i=n[os];i!==null&&i!==t&&kv(i,n),e>0&&(t[r-1][hn]=n[hn]);let o=Ja(t,Ot+e);_S(n[ne],n);let s=o[Gn];s!==null&&s.detachView(o[ne]),n[nt]=null,n[hn]=null,n[W]&=-129}return n}function Lv(t,e){if(!(e[W]&256)){let r=e[Qe];r.destroyNode&&Pc(t,e,r,3,null,null),ES(e)}}function rd(t,e){if(e[W]&256)return;let r=de(null);try{e[W]&=-129,e[W]|=256,e[ni]&&Sm(e[ni]),MS(t,e),xS(t,e),e[ne].type===1&&e[Qe].destroy();let n=e[os];if(n!==null&&Zn(e[nt])){n!==e[nt]&&kv(n,e);let i=e[Gn];i!==null&&i.detachView(t)}BE(e)}finally{de(r)}}function xS(t,e){let r=t.cleanup,n=e[Zo];if(r!==null)for(let o=0;o<r.length-1;o+=2)if(typeof r[o]=="string"){let s=r[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else{let s=n[r[o+1]];r[o].call(s)}n!==null&&(e[Zo]=null);let i=e[br];if(i!==null){e[br]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function MS(t,e){let r;if(t!=null&&(r=t.destroyHooks)!=null)for(let n=0;n<r.length;n+=2){let i=e[r[n]];if(!(i instanceof oi)){let o=r[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];An(4,a,c);try{c.call(a)}finally{An(5,a,c)}}else{An(4,i,o);try{o.call(i)}finally{An(5,i,o)}}}}}function TS(t,e,r){return AS(t,e.parent,r)}function AS(t,e,r){let n=e;for(;n!==null&&n.type&40;)e=n,n=e.parent;if(n===null)return r[Kn];{let{componentOffset:i}=n;if(i>-1){let{encapsulation:o}=t.data[n.directiveStart+i];if(o===Rn.None||o===Rn.Emulated)return null}return qt(n,r)}}function ac(t,e,r,n,i){t.insertBefore(e,r,n,i)}function Vv(t,e,r){t.appendChild(e,r)}function kg(t,e,r,n,i){n!==null?ac(t,e,r,n,i):Vv(t,e,r)}function NS(t,e,r,n){t.removeChild(e,r,n)}function jf(t,e){return t.parentNode(e)}function RS(t,e){return t.nextSibling(e)}function OS(t,e,r){return PS(t,e,r)}function FS(t,e,r){return t.type&40?qt(t,r):null}var PS=FS,Lg;function Fc(t,e,r,n){let i=TS(t,n,e),o=e[Qe],s=n.parent||e[yn],a=OS(s,n,e);if(i!=null)if(Array.isArray(r))for(let c=0;c<r.length;c++)kg(o,i,r[c],a,!1);else kg(o,i,r,a,!1);Lg!==void 0&&Lg(o,n,e,r,i)}function Ya(t,e){if(e!==null){let r=e.type;if(r&3)return qt(e,t);if(r&4)return Ld(-1,t[e.index]);if(r&8){let n=e.child;if(n!==null)return Ya(t,n);{let i=t[e.index];return Zn(i)?Ld(-1,i):Fn(i)}}else{if(r&32)return Vf(e,t)()||Fn(t[e.index]);{let n=jv(t,e);if(n!==null){if(Array.isArray(n))return n[0];let i=es(t[On]);return Ya(i,n)}else return Ya(t,e.next)}}}return null}function jv(t,e){if(e!==null){let n=t[On][yn],i=e.projection;return n.projection[i]}return null}function Ld(t,e){let r=Ot+t+1;if(r<e.length){let n=e[r],i=n[ne].firstChild;if(i!==null)return Ya(n,i)}return e[ri]}function kS(t,e,r){let n=jf(t,e);n&&NS(t,n,e,r)}function Uf(t,e,r,n,i,o,s){for(;r!=null;){let a=n[r.index],c=r.type;if(s&&e===0&&(a&&_r(Fn(a),n),r.flags|=2),(r.flags&32)!==32)if(c&8)Uf(t,e,r.child,n,i,o,!1),zi(e,t,i,a,o);else if(c&32){let l=Vf(r,n),u;for(;u=l();)zi(e,t,i,u,o);zi(e,t,i,a,o)}else c&16?LS(t,e,n,r,i,o):zi(e,t,i,a,o);r=s?r.projectionNext:r.next}}function Pc(t,e,r,n,i,o){Uf(r,n,t.firstChild,e,i,o,!1)}function LS(t,e,r,n,i,o){let s=r[On],c=s[yn].projection[n.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];zi(e,t,i,u,o)}else{let l=c,u=s[nt];uv(n)&&(l.flags|=128),Uf(t,e,l,u,i,o,!0)}}function VS(t,e,r,n,i){let o=r[ri],s=Fn(r);o!==s&&zi(e,t,n,o,i);for(let a=Ot;a<r.length;a++){let c=r[a];Pc(c[ne],c,t,e,n,o)}}function jS(t,e,r,n,i){if(e)i?t.addClass(r,n):t.removeClass(r,n);else{let o=n.indexOf("-")===-1?void 0:Yn.DashCase;i==null?t.removeStyle(r,n,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Yn.Important),t.setStyle(r,n,i,o))}}function US(t,e,r){t.setAttribute(e,"style",r)}function Uv(t,e,r){r===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",r)}function Bv(t,e,r){let{mergedAttrs:n,classes:i,styles:o}=r;n!==null&&pd(t,e,n),i!==null&&Uv(t,e,i),o!==null&&US(t,e,o)}var Cn={};function y(t=1){$v(rt(),ce(),hi()+t,!1)}function $v(t,e,r,n){if(!n)if((e[W]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Wa(e,o,r)}else{let o=t.preOrderHooks;o!==null&&Ga(e,o,0,r)}ii(r)}function L(t,e=oe.Default){let r=ce();if(r===null)return N(t,e);let n=Et();return ov(n,r,ht(t),e)}function Hv(){let t="invalid";throw new Error(t)}function zv(t,e,r,n,i,o){let s=de(null);try{let a=null;i&st.SignalBased&&(a=e[n][dr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&st.HasDecoratorInputTransform&&(o=t.inputTransforms[n].call(e,o)),t.setInput!==null?t.setInput(e,a,o,r,n):Ry(e,a,n,o)}finally{de(s)}}function BS(t,e){let r=t.hostBindingOpCodes;if(r!==null)try{for(let n=0;n<r.length;n++){let i=r[n];if(i<0)ii(~i);else{let o=i,s=r[++n],a=r[++n];fE(s,o);let c=e[o];a(2,c)}}}finally{ii(-1)}}function kc(t,e,r,n,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Kn]=i,d[W]=n|4|128|8|64,(l!==null||t&&t[W]&2048)&&(d[W]|=2048),jy(d),d[nt]=d[io]=t,d[pn]=r,d[mn]=s||t&&t[mn],d[Qe]=a||t&&t[Qe],d[Zi]=c||t&&t[Zi]||null,d[yn]=o,d[Ec]=jE(),d[tc]=u,d[Ay]=l,d[On]=e.type==2?t[On]:d,d}function cs(t,e,r,n,i){let o=t.data[e];if(o===null)o=$S(t,e,r,n,i),dE()&&(o.flags|=32);else if(o.type&64){o.type=r,o.value=n,o.attrs=i;let s=aE();o.injectorIndex=s===null?-1:s.injectorIndex}return fi(o,!0),o}function $S(t,e,r,n,i){let o=$y(),s=Ef(),a=s?o:o&&o.parent,c=t.data[e]=QS(t,a,r,e,n,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function qv(t,e,r,n){if(r===0)return-1;let i=e.length;for(let o=0;o<r;o++)e.push(n),t.blueprint.push(n),t.data.push(null);return i}function Wv(t,e,r,n,i){let o=hi(),s=n&2;try{ii(-1),s&&e.length>Dt&&$v(t,e,Dt,!1),An(s?2:0,i),r(n,i)}finally{ii(o),An(s?3:1,i)}}function Bf(t,e,r){if(Cf(e)){let n=de(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=r[s];a.contentQueries(1,c,s)}}}finally{de(n)}}}function $f(t,e,r){By()&&(eI(t,e,r,qt(r,e)),(r.flags&64)===64&&Kv(t,e,r))}function Hf(t,e,r=qt){let n=e.localNames;if(n!==null){let i=e.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],a=s===-1?r(e,t):t[s];t[i++]=a}}}function Gv(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=zf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function zf(t,e,r,n,i,o,s,a,c,l,u){let d=Dt+n,m=d+i,v=HS(d,m),b=typeof l=="function"?l():l;return v[ne]={type:t,blueprint:v,template:r,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:u}}function HS(t,e){let r=[];for(let n=0;n<e;n++)r.push(n<t?null:Cn);return r}function zS(t,e,r,n){let o=n.get(WE,yv)||r===Rn.ShadowDom,s=t.selectRootElement(e,o);return qS(s),s}function qS(t){WS(t)}var WS=()=>null;function GS(t,e,r,n){let i=Jv(e);i.push(r),t.firstCreatePass&&e0(t).push(n,i.length-1)}function QS(t,e,r,n,i,o){let s=e?e.injectorIndex:-1,a=0;return iE()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Vg(t,e,r,n,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;n??={};let a,c=st.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?jg(n,r,l,a,c):jg(n,r,l,a)}return n}function jg(t,e,r,n,i){let o;t.hasOwnProperty(r)?(o=t[r]).push(e,n):o=t[r]=[e,n],i!==void 0&&o.push(i)}function YS(t,e,r){let n=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=n;u<i;u++){let d=o[u],m=r?r.get(d):null,v=m?m.inputs:null,b=m?m.outputs:null;c=Vg(0,d.inputs,u,c,v),l=Vg(1,d.outputs,u,l,b);let D=c!==null&&s!==null&&!gf(e)?dI(c,u,s):null;a.push(D)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function KS(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Qv(t,e,r,n,i,o,s,a){let c=qt(e,r),l=e.inputs,u;!a&&l!=null&&(u=l[n])?(Wf(t,r,u,n,i),Sc(e)&&ZS(r,e.index)):e.type&3?(n=KS(n),i=s!=null?s(i,e.value||"",n):i,o.setProperty(c,n,i)):e.type&12}function ZS(t,e){let r=Sr(e,t);r[W]&16||(r[W]|=64)}function qf(t,e,r,n){if(By()){let i=n===null?null:{"":-1},o=nI(t,r),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Yv(t,e,r,s,i,a),i&&rI(r,n,i)}r.mergedAttrs=Yo(r.mergedAttrs,r.attrs)}function Yv(t,e,r,n,i,o){for(let l=0;l<n.length;l++)_d(sc(r,e),t,n[l].type);oI(r,t.data.length,n.length);for(let l=0;l<n.length;l++){let u=n[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=qv(t,e,n.length,null);for(let l=0;l<n.length;l++){let u=n[l];r.mergedAttrs=Yo(r.mergedAttrs,u.hostAttrs),sI(t,r,e,c,u),iI(c,u,i),u.contentQueries!==null&&(r.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(r.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),a=!0),c++}YS(t,r,o)}function XS(t,e,r,n,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;JS(s)!=a&&s.push(a),s.push(r,n,o)}}function JS(t){let e=t.length;for(;e>0;){let r=t[--e];if(typeof r=="number"&&r<0)return r}return 0}function eI(t,e,r,n){let i=r.directiveStart,o=r.directiveEnd;Sc(r)&&aI(e,r,t.data[i+r.componentOffset]),t.firstCreatePass||sc(r,e),_r(n,e);let s=r.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=si(e,t,a,r);if(_r(l,e),s!==null&&uI(e,a-i,l,c,r,s),Cr(c)){let u=Sr(r.index,e);u[pn]=si(e,t,a,r)}}}function Kv(t,e,r){let n=r.directiveStart,i=r.directiveEnd,o=r.index,s=hE();try{ii(o);for(let a=n;a<i;a++){let c=t.data[a],l=e[a];wd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&tI(c,l)}}finally{ii(-1),wd(s)}}function tI(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function nI(t,e){let r=t.directiveRegistry,n=null,i=null;if(r)for(let o=0;o<r.length;o++){let s=r[o];if(CD(e,s.selectors,!1))if(n||(n=[]),Cr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),n.unshift(...a,s);let c=a.length;Vd(t,e,c)}else n.unshift(s),Vd(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,n,i),n.push(s)}return n===null?null:[n,i]}function Vd(t,e,r){e.componentOffset=r,(t.components??=[]).push(e.index)}function rI(t,e,r){if(e){let n=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=r[e[i+1]];if(o==null)throw new E(-301,!1);n.push(e[i],o)}}}function iI(t,e,r){if(r){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)r[e.exportAs[n]]=t;Cr(e)&&(r[""]=t)}}function oI(t,e,r){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+r,t.providerIndexes=e}function sI(t,e,r,n,i){t.data[n]=i;let o=i.factory||(i.factory=ti(i.type,!0)),s=new oi(o,Cr(i),L);t.blueprint[n]=s,r[n]=s,XS(t,e,n,qv(t,r,i.hostVars,Cn),i)}function aI(t,e,r){let n=qt(e,t),i=Gv(r),o=t[mn].rendererFactory,s=16;r.signals?s=4096:r.onPush&&(s=64);let a=Lc(t,kc(t,i,null,s,n,e,null,o.createRenderer(n,r),null,null,null));t[e.index]=a}function cI(t,e,r,n,i,o){let s=qt(t,e);lI(e[Qe],s,o,t.value,r,n,i)}function lI(t,e,r,n,i,o,s){if(o==null)t.removeAttribute(e,i,r);else{let a=s==null?ei(o):s(o,n||"",i);t.setAttribute(e,i,a,r)}}function uI(t,e,r,n,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];zv(n,r,c,l,u,d)}}function dI(t,e,r){let n=null,i=0;for(;i<r.length;){let o=r[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){n===null&&(n=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){n.push(o,s[a+1],s[a+2],r[i+1]);break}}i+=2}return n}function Zv(t,e,r,n){return[t,!0,0,e,null,n,null,r,null,null]}function Xv(t,e){let r=t.contentQueries;if(r!==null){let n=de(null);try{for(let i=0;i<r.length;i+=2){let o=r[i],s=r[i+1];if(s!==-1){let a=t.data[s];If(o),a.contentQueries(2,e[s],s)}}}finally{de(n)}}}function Lc(t,e){return t[Xo]?t[Dg][hn]=e:t[Xo]=e,t[Dg]=e,e}function jd(t,e,r){If(0);let n=de(null);try{e(t,r)}finally{de(n)}}function Jv(t){return t[Zo]||(t[Zo]=[])}function e0(t){return t.cleanup||(t.cleanup=[])}function t0(t,e){let r=t[Zi],n=r?r.get(Pn,null):null;n&&n.handleError(e)}function Wf(t,e,r,n,i){for(let o=0;o<r.length;){let s=r[o++],a=r[o++],c=r[o++],l=e[s],u=t.data[s];zv(u,l,n,a,c,i)}}function n0(t,e,r){let n=Ly(e,t);wS(t[Qe],n,r)}function fI(t,e){let r=Sr(e,t),n=r[ne];hI(n,r);let i=r[Kn];i!==null&&r[tc]===null&&(r[tc]=Pf(i,r[Zi])),Gf(n,r,r[pn])}function hI(t,e){for(let r=e.length;r<t.blueprint.length;r++)e.push(t.blueprint[r])}function Gf(t,e,r){xf(e);try{let n=t.viewQuery;n!==null&&jd(1,n,r);let i=t.template;i!==null&&Wv(t,e,i,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),e[Gn]?.finishViewCreation(t),t.staticContentQueries&&Xv(t,e),t.staticViewQueries&&jd(2,t.viewQuery,r);let o=t.components;o!==null&&pI(e,o)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[W]&=-5,Mf()}}function pI(t,e){for(let r=0;r<e.length;r++)fI(t,e[r])}function mI(t,e,r,n){let i=de(null);try{let o=e.tView,a=t[W]&4096?4096:16,c=kc(t,o,r,a,null,e,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),l=t[e.index];c[os]=l;let u=t[Gn];return u!==null&&(c[Gn]=u.createEmbeddedView(o)),Gf(o,c,r),c}finally{de(i)}}function Ug(t,e){return!e||e.firstChild===null||uv(t)}function gI(t,e,r,n=!0){let i=e[ne];if(SS(i,e,t,r),n){let s=Ld(r,t),a=e[Qe],c=jf(a,t[ri]);c!==null&&DS(i,t[yn],a,e,c,s)}let o=e[tc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function cc(t,e,r,n,i=!1){for(;r!==null;){let o=e[r.index];o!==null&&n.push(Fn(o)),Zn(o)&&yI(o,n);let s=r.type;if(s&8)cc(t,e,r.child,n);else if(s&32){let a=Vf(r,e),c;for(;c=a();)n.push(c)}else if(s&16){let a=jv(e,r);if(Array.isArray(a))n.push(...a);else{let c=es(e[On]);cc(c[ne],c,a,n,!0)}}r=i?r.projectionNext:r.next}return n}function yI(t,e){for(let r=Ot;r<t.length;r++){let n=t[r],i=n[ne].firstChild;i!==null&&cc(n[ne],n,i,e)}t[ri]!==t[Kn]&&e.push(t[ri])}var r0=[];function vI(t){return t[ni]??bI(t)}function bI(t){let e=r0.pop()??Object.create(CI);return e.lView=t,e}function wI(t){t.lView[ni]!==t&&(t.lView=null,r0.push(t))}var CI=$(C({},la),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Jo(t.lView)},consumerOnSignalRead(){this.lView[ni]=this}}),i0=100;function o0(t,e=!0,r=0){let n=t[mn],i=n.rendererFactory,o=!1;o||i.begin?.();try{_I(t,r)}catch(s){throw e&&t0(t,s),s}finally{o||(i.end?.(),n.inlineEffectRunner?.flush())}}function _I(t,e){Ud(t,e);let r=0;for(;Df(t);){if(r===i0)throw new E(103,!1);r++,Ud(t,1)}}function DI(t,e,r,n){let i=e[W];if((i&256)===256)return;let o=!1;!o&&e[mn].inlineEffectRunner?.flush(),xf(e);let s=null,a=null;!o&&EI(t)&&(a=vI(e),s=Du(a));try{jy(e),uE(t.bindingStartIndex),r!==null&&Wv(t,e,r,2,n);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&Wa(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Ga(e,d,0,null),Ju(e,0)}if(SI(e),s0(e,0),t.contentQueries!==null&&Xv(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&Wa(e,d)}else{let d=t.contentHooks;d!==null&&Ga(e,d,1),Ju(e,1)}BS(t,e);let l=t.components;l!==null&&c0(e,l,0);let u=t.viewQuery;if(u!==null&&jd(2,u,n),!o)if(c){let d=t.viewCheckHooks;d!==null&&Wa(e,d)}else{let d=t.viewHooks;d!==null&&Ga(e,d,2),Ju(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Xu]){for(let d of e[Xu])d();e[Xu]=null}o||(e[W]&=-73)}catch(c){throw Jo(e),c}finally{a!==null&&(Eu(a,s),wI(a)),Mf()}}function EI(t){return t.type!==2}function s0(t,e){for(let r=fv(t);r!==null;r=hv(r))for(let n=Ot;n<r.length;n++){let i=r[n];a0(i,e)}}function SI(t){for(let e=fv(t);e!==null;e=hv(e)){if(!(e[W]&wf.HasTransplantedViews))continue;let r=e[Xi];for(let n=0;n<r.length;n++){let i=r[n],o=i[nt];XD(i)}}}function II(t,e,r){let n=Sr(e,t);a0(n,r)}function a0(t,e){_f(t)&&Ud(t,e)}function Ud(t,e){let n=t[ne],i=t[W],o=t[ni],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Su(o)),o&&(o.dirty=!1),t[W]&=-9217,s)DI(n,t,n.template,t[pn]);else if(i&8192){s0(t,1);let a=n.components;a!==null&&c0(t,a,1)}}function c0(t,e,r){for(let n=0;n<e.length;n++)II(t,e[n],r)}function Qf(t){for(t[mn].changeDetectionScheduler?.notify();t;){t[W]|=64;let e=es(t);if(HD(t)&&!e)return t;t=e}return null}var ai=class{get rootNodes(){let e=this._lView,r=e[ne];return cc(r,e,r.firstChild,[])}constructor(e,r,n=!0){this._lView=e,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pn]}set context(e){this._lView[pn]=e}get destroyed(){return(this._lView[W]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[nt];if(Zn(e)){let r=e[nc],n=r?r.indexOf(this):-1;n>-1&&(kd(e,n),Ja(r,n))}this._attachedToViewContainer=!1}Lv(this._lView[ne],this._lView)}onDestroy(e){Uy(this._lView,e)}markForCheck(){Qf(this._cdRefInjectingView||this._lView)}detach(){this._lView[W]&=-129}reattach(){bd(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,o0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Pv(this._lView[ne],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=e,bd(this._lView)}},ci=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=TI;let t=e;return t})(),xI=ci,MI=class extends xI{constructor(e,r,n){super(),this._declarationLView=e,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,r){return this.createEmbeddedViewImpl(e,r)}createEmbeddedViewImpl(e,r,n){let i=mI(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:r,dehydratedView:n});return new ai(i)}};function TI(){return Vc(Et(),ce())}function Vc(t,e){return t.type&4?new MI(e,t,ao(t,e)):null}var a3=new RegExp(`^(\\d+)*(${zE}|${HE})*(.*)`);var AI=()=>null;function Bg(t,e){return AI(t,e)}var eo=class{},Bd=class{},lc=class{};function NI(t){let e=Error(`No component factory found for ${pt(t)}.`);return e[RI]=t,e}var RI="ngComponent";var $d=class{resolveComponentFactory(e){throw NI(e)}},jc=(()=>{let e=class e{};e.NULL=new $d;let t=e;return t})(),li=class{},pi=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>OI();let t=e;return t})();function OI(){let t=ce(),e=Et(),r=Sr(e.index,t);return(Xr(r)?r:t)[Qe]}var FI=(()=>{let e=class e{};e.\u0275prov=_({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),id={};var $g=new Set;function mi(t){$g.has(t)||($g.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Hg(...t){}function PI(){let t=typeof Be.requestAnimationFrame=="function",e=Be[t?"requestAnimationFrame":"setTimeout"],r=Be[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&r){let n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);let i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:r}}var he=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new De(!1),this.onMicrotaskEmpty=new De(!1),this.onStable=new De(!1),this.onError=new De(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&r,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=PI().nativeRequestAnimationFrame,VI(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new E(909,!1)}run(e,r,n){return this._inner.run(e,r,n)}runTask(e,r,n,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,kI,Hg,Hg);try{return o.runTask(s,r,n)}finally{o.cancelTask(s)}}runGuarded(e,r,n){return this._inner.runGuarded(e,r,n)}runOutsideAngular(e){return this._outer.run(e)}},kI={};function Yf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function LI(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Be,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Hd(t),t.isCheckStableRunning=!0,Yf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Hd(t))}function VI(t){let e=()=>{LI(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,i,o,s,a)=>{if(jI(a))return r.invokeTask(i,o,s,a);try{return zg(t),r.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),qg(t)}},onInvoke:(r,n,i,o,s,a,c)=>{try{return zg(t),r.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),qg(t)}},onHasTask:(r,n,i,o)=>{r.hasTask(i,o),n===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Hd(t),Yf(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,n,i,o)=>(r.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Hd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function zg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qg(t){t._nesting--,Yf(t)}var zd=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new De,this.onMicrotaskEmpty=new De,this.onStable=new De,this.onError=new De}run(e,r,n){return e.apply(r,n)}runGuarded(e,r,n){return e.apply(r,n)}runOutsideAngular(e){return e()}runTask(e,r,n,i){return e.apply(r,n)}};function jI(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function UI(t="zone.js",e){return t==="noop"?new zd:t==="zone.js"?new he(e):t}var qi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(qi||{}),BI={destroy(){}};function Kf(t,e){!e&&bf(Kf);let r=e?.injector??p(St);if(!yS(r))return BI;mi("NgAfterNextRender");let n=r.get(Zf),i=n.handler??=new Wd,o=e?.phase??qi.MixedReadWrite,s=()=>{i.unregister(c),a()},a=r.get(so).onDestroy(s),c=gn(r,()=>new qd(o,()=>{s(),t()}));return i.register(c),{destroy:s}}var qd=class{constructor(e,r){this.phase=e,this.callbackFn=r,this.zone=p(he),this.errorHandler=p(Pn,{optional:!0}),p(eo,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Wd=class{constructor(){this.executingCallbacks=!1,this.buckets={[qi.EarlyRead]:new Set,[qi.Write]:new Set,[qi.MixedReadWrite]:new Set,[qi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let r of e)r.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Zf=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of n)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=_({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function uc(t,e,r){let n=r?t.styles:null,i=r?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=hg(i,a);else if(o==2){let c=a,l=e[++s];n=hg(n,c+": "+l+";")}}r?t.styles=n:t.stylesWithoutHost=n,r?t.classes=i:t.classesWithoutHost=i}var dc=class extends jc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let r=wr(e);return new to(r,this.ngModule)}};function Wg(t){let e=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let n=t[r];n!==void 0&&e.push({propName:Array.isArray(n)?n[0]:n,templateName:r})}return e}function $I(t){let e=t.toLowerCase();return e==="svg"?ky:e==="math"?GD:null}var Gd=class{constructor(e,r){this.injector=e,this.parentInjector=r}get(e,r,n){n=wc(n);let i=this.injector.get(e,id,n);return i!==id||r===id?i:this.parentInjector.get(e,r,n)}},to=class extends lc{get inputs(){let e=this.componentDef,r=e.inputTransforms,n=Wg(e.inputs);if(r!==null)for(let i of n)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return n}get outputs(){return Wg(this.componentDef.outputs)}constructor(e,r){super(),this.componentDef=e,this.ngModule=r,this.componentType=e.type,this.selector=SD(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!r}create(e,r,n,i){let o=de(null);try{i=i||this.ngModule;let s=i instanceof mt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Gd(e,s):e,c=a.get(li,null);if(c===null)throw new E(407,!1);let l=a.get(FI,null),u=a.get(Zf,null),d=a.get(eo,null),m={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},v=c.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",D=n?zS(v,n,this.componentDef.encapsulation,a):Fv(v,b,$I(b)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let I=null;D!==null&&(I=Pf(D,a,!0));let U=zf(0,null,null,1,0,null,null,null,null,null,null),re=kc(null,U,null,x,null,null,m,v,a,null,I);xf(re);let Q,He;try{let Se=this.componentDef,Ie,Ue=null;Se.findHostDirectiveDefs?(Ie=[],Ue=new Map,Se.findHostDirectiveDefs(Se,Ie,Ue),Ie.push(Se)):Ie=[Se];let nn=HI(re,D),Sn=zI(nn,D,Se,Ie,re,m,v);He=Vy(U,Dt),D&&GI(v,Se,D,n),r!==void 0&&QI(He,this.ngContentSelectors,r),Q=WI(Sn,Se,Ie,Ue,re,[YI]),Gf(U,re,null)}finally{Mf()}return new Qd(this.componentType,Q,ao(He,re),re,He)}finally{de(o)}}},Qd=class extends Bd{constructor(e,r,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new ai(i,void 0,!1),this.componentType=e}setInput(e,r){let n=this._tNode.inputs,i;if(n!==null&&(i=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),r))return;let o=this._rootLView;Wf(o[ne],o,i,e,r),this.previousInputValues.set(e,r);let s=Sr(this._tNode.index,o);Qf(s)}}get injector(){return new Jr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function HI(t,e){let r=t[ne],n=Dt;return t[n]=e,cs(r,n,2,"#host",null)}function zI(t,e,r,n,i,o,s){let a=i[ne];qI(n,t,e,s);let c=null;e!==null&&(c=Pf(e,i[Zi]));let l=o.rendererFactory.createRenderer(e,r),u=16;r.signals?u=4096:r.onPush&&(u=64);let d=kc(i,Gv(r),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Vd(a,t,n.length-1),Lc(i,d),i[t.index]=d}function qI(t,e,r,n){for(let i of t)e.mergedAttrs=Yo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(uc(e,e.mergedAttrs,!0),r!==null&&Bv(n,r,e))}function WI(t,e,r,n,i,o){let s=Et(),a=i[ne],c=qt(s,i);Yv(a,i,s,r,null,n);for(let u=0;u<r.length;u++){let d=s.directiveStart+u,m=si(i,a,d,s);_r(m,i)}Kv(a,i,s),c&&_r(c,i);let l=si(i,a,s.directiveStart+s.componentOffset,s);if(t[pn]=i[pn]=l,o!==null)for(let u of o)u(l,e);return Bf(a,s,i),l}function GI(t,e,r,n){if(n)pd(t,r,["ng-version","17.3.1"]);else{let{attrs:i,classes:o}=ID(e.selectors[0]);i&&pd(t,r,i),o&&o.length>0&&Uv(t,r,o.join(" "))}}function QI(t,e,r){let n=t.projection=[];for(let i=0;i<e.length;i++){let o=r[i];n.push(o!=null?Array.from(o):null)}}function YI(){let t=Et();Ac(ce()[ne],t)}var Ir=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=KI;let t=e;return t})();function KI(){let t=Et();return u0(t,ce())}var ZI=Ir,l0=class extends ZI{constructor(e,r,n){super(),this._lContainer=e,this._hostTNode=r,this._hostLView=n}get element(){return ao(this._hostTNode,this._hostLView)}get injector(){return new Jr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Af(this._hostTNode,this._hostLView);if(Jy(e)){let r=ic(e,this._hostLView),n=rc(e),i=r[ne].data[n+8];return new Jr(i,r)}else return new Jr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let r=Gg(this._lContainer);return r!==null&&r[e]||null}get length(){return this._lContainer.length-Ot}createEmbeddedView(e,r,n){let i,o;typeof n=="number"?i=n:n!=null&&(i=n.index,o=n.injector);let s=Bg(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(r||{},o,s);return this.insertImpl(a,i,Ug(this._hostTNode,s)),a}createComponent(e,r,n,i,o){let s=e&&!$D(e),a;if(s)a=r;else{let b=r||{};a=b.index,n=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}let c=s?e:new to(wr(e)),l=n||this.parentInjector;if(!o&&c.ngModule==null){let D=(s?l:this.parentInjector).get(mt,null);D&&(o=D)}let u=wr(c.componentType??{}),d=Bg(this._lContainer,u?.id??null),m=d?.firstChild??null,v=c.create(l,i,m,o);return this.insertImpl(v.hostView,a,Ug(this._hostTNode,d)),v}insert(e,r){return this.insertImpl(e,r,!0)}insertImpl(e,r,n){let i=e._lView;if(ZD(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[nt],l=new l0(c,c[yn],c[nt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(r),s=this._lContainer;return gI(s,i,o,n),e.attachToViewContainerRef(),hy(od(s),o,e),e}move(e,r){return this.insert(e,r)}indexOf(e){let r=Gg(this._lContainer);return r!==null?r.indexOf(e):-1}remove(e){let r=this._adjustIndex(e,-1),n=kd(this._lContainer,r);n&&(Ja(od(this._lContainer),r),Lv(n[ne],n))}detach(e){let r=this._adjustIndex(e,-1),n=kd(this._lContainer,r);return n&&Ja(od(this._lContainer),r)!=null?new ai(n):null}_adjustIndex(e,r=0){return e??this.length+r}};function Gg(t){return t[nc]}function od(t){return t[nc]||(t[nc]=[])}function u0(t,e){let r,n=e[t.index];return Zn(n)?r=n:(r=Zv(n,e,null,t),e[t.index]=r,Lc(e,r)),JI(r,e,t,n),new l0(r,t,e)}function XI(t,e){let r=t[Qe],n=r.createComment(""),i=qt(e,t),o=jf(r,i);return ac(r,o,n,RS(r,i),!1),n}var JI=nx,ex=()=>!1;function tx(t,e,r){return ex(t,e,r)}function nx(t,e,r,n){if(t[ri])return;let i;r.type&8?i=Fn(n):i=XI(e,r),t[ri]=i}var Yd=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Kd=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let r=e.queries;if(r!==null){let n=e.contentQueries!==null?e.contentQueries[0]:r.length,i=[];for(let o=0;o<n;o++){let s=r.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let r=0;r<this.queries.length;r++)Xf(e,r).matches!==null&&this.queries[r].setDirty()}},Zd=class{constructor(e,r,n=null){this.flags=r,this.read=n,typeof e=="string"?this.predicate=ux(e):this.predicate=e}},Xd=class t{constructor(e=[]){this.queries=e}elementStart(e,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,r)}elementEnd(e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(e)}embeddedTView(e){let r=null;for(let n=0;n<this.length;n++){let i=r!==null?r.length:0,o=this.getByIndex(n).embeddedTView(e,i);o&&(o.indexInDeclarationView=n,r!==null?r.push(o):r=[o])}return r!==null?new t(r):null}template(e,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,r)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Jd=class t{constructor(e,r=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(e,r){this.isApplyingToNode(r)&&this.matchTNode(e,r)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,r){this.elementStart(e,r)}embeddedTView(e,r){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,r),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let r=this._declarationNodeIndex,n=e.parent;for(;n!==null&&n.type&8&&n.index!==r;)n=n.parent;return r===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(e,r){let n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){let o=n[i];this.matchTNodeWithReadOption(e,r,rx(r,o)),this.matchTNodeWithReadOption(e,r,Qa(r,e,o,!1,!1))}else n===ci?r.type&4&&this.matchTNodeWithReadOption(e,r,-1):this.matchTNodeWithReadOption(e,r,Qa(r,e,n,!1,!1))}matchTNodeWithReadOption(e,r,n){if(n!==null){let i=this.metadata.read;if(i!==null)if(i===vn||i===Ir||i===ci&&r.type&4)this.addMatch(r.index,-2);else{let o=Qa(r,e,i,!1,!1);o!==null&&this.addMatch(r.index,o)}else this.addMatch(r.index,n)}}addMatch(e,r){this.matches===null?this.matches=[e,r]:this.matches.push(e,r)}};function rx(t,e){let r=t.localNames;if(r!==null){for(let n=0;n<r.length;n+=2)if(r[n]===e)return r[n+1]}return null}function ix(t,e){return t.type&11?ao(t,e):t.type&4?Vc(t,e):null}function ox(t,e,r,n){return r===-1?ix(e,t):r===-2?sx(t,e,n):si(t,t[ne],r,e)}function sx(t,e,r){if(r===vn)return ao(e,t);if(r===ci)return Vc(e,t);if(r===Ir)return u0(e,t)}function d0(t,e,r,n){let i=e[Gn].queries[n];if(i.matches===null){let o=t.data,s=r.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(ox(e,u,s[c+1],r.metadata.read))}}i.matches=a}return i.matches}function ef(t,e,r,n){let i=t.queries.getByIndex(r),o=i.matches;if(o!==null){let s=d0(t,e,i,r);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)n.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=Ot;d<u.length;d++){let m=u[d];m[os]===m[nt]&&ef(m[ne],m,l,n)}if(u[Xi]!==null){let d=u[Xi];for(let m=0;m<d.length;m++){let v=d[m];ef(v[ne],v,l,n)}}}}}return n}function ax(t,e){return t[Gn].queries[e].queryList}function cx(t,e,r){let n=new Id((r&4)===4);return GS(t,e,n,n.destroy),(e[Gn]??=new Kd).queries.push(new Yd(n))-1}function lx(t,e,r){let n=rt();return n.firstCreatePass&&(dx(n,new Zd(t,e,r),-1),(e&2)===2&&(n.staticViewQueries=!0)),cx(n,ce(),e)}function ux(t){return t.split(",").map(e=>e.trim())}function dx(t,e,r){t.queries===null&&(t.queries=new Xd),t.queries.track(new Jd(e,r))}function Xf(t,e){return t.queries.getByIndex(e)}function fx(t,e){let r=t[ne],n=Xf(r,e);return n.crossesNgTemplate?ef(r,t,e,[]):d0(r,t,n,e)}function Jf(t,e){mi("NgSignals");let r=Rm(t),n=r[dr];return e?.equal&&(n.equal=e.equal),r.set=i=>Iu(n,i),r.update=i=>Om(n,i),r.asReadonly=hx.bind(r),r}function hx(){let t=this[dr];if(t.readonlyFn===void 0){let e=()=>this();e[dr]=t,t.readonlyFn=e}return t.readonlyFn}function px(t){let e=[],r=new Map;function n(i){let o=r.get(i);if(!o){let s=t(i);r.set(i,o=s.then(vx))}return o}return fc.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(n(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,m)=>{a.push(""),s.push(n(d).then(v=>{a[l+m]=v,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(n(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>bx(o));e.push(c)}),gx(),Promise.all(e).then(()=>{})}var fc=new Map,mx=new Set;function gx(){let t=fc;return fc=new Map,t}function yx(){return fc.size===0}function vx(t){return typeof t=="string"?t:t.text()}function bx(t){mx.delete(t)}function wx(t){return Object.getPrototypeOf(t.prototype).constructor}function er(t){let e=wx(t.type),r=!0,n=[t];for(;e;){let i;if(Cr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new E(903,!1);i=e.\u0275dir}if(i){if(r){n.push(i);let s=t;s.inputs=$a(t.inputs),s.inputTransforms=$a(t.inputTransforms),s.declaredInputs=$a(t.declaredInputs),s.outputs=$a(t.outputs);let a=i.hostBindings;a&&Sx(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&Dx(t,c),l&&Ex(t,l),Cx(t,i),q_(t.outputs,i.outputs),Cr(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===er&&(r=!1)}}e=Object.getPrototypeOf(e)}_x(n)}function Cx(t,e){for(let r in e.inputs){if(!e.inputs.hasOwnProperty(r)||t.inputs.hasOwnProperty(r))continue;let n=e.inputs[r];if(n!==void 0&&(t.inputs[r]=n,t.declaredInputs[r]=e.declaredInputs[r],e.inputTransforms!==null)){let i=Array.isArray(n)?n[0]:n;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function _x(t){let e=0,r=null;for(let n=t.length-1;n>=0;n--){let i=t[n];i.hostVars=e+=i.hostVars,i.hostAttrs=Yo(i.hostAttrs,r=Yo(r,i.hostAttrs))}}function $a(t){return t===Qi?{}:t===zt?[]:t}function Dx(t,e){let r=t.viewQuery;r?t.viewQuery=(n,i)=>{e(n,i),r(n,i)}:t.viewQuery=e}function Ex(t,e){let r=t.contentQueries;r?t.contentQueries=(n,i,o)=>{e(n,i,o),r(n,i,o)}:t.contentQueries=e}function Sx(t,e){let r=t.hostBindings;r?t.hostBindings=(n,i)=>{e(n,i),r(n,i)}:t.hostBindings=e}function eh(t){let e=t.inputConfig,r={};for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];Array.isArray(i)&&i[3]&&(r[n]=i[3])}t.inputTransforms=r}var Dr=class{},ts=class{};var hc=class extends Dr{constructor(e,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dc(this);let i=_y(e);this._bootstrapComponents=Ov(i.bootstrap),this._r3Injector=cv(e,r,[{provide:Dr,useValue:this},{provide:jc,useValue:this.componentFactoryResolver},...n],pt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},pc=class extends ts{constructor(e){super(),this.moduleType=e}create(e){return new hc(this.moduleType,e,[])}};function Ix(t,e,r){return new hc(t,e,r)}var tf=class extends Dr{constructor(e){super(),this.componentFactoryResolver=new dc(this),this.instance=null;let r=new Ko([...e.providers,{provide:Dr,useValue:this},{provide:jc,useValue:this.componentFactoryResolver}],e.parent||vf(),e.debugName,new Set(["environment"]));this.injector=r,e.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Uc(t,e,r=null){return new tf({providers:t,parent:e,debugName:r,runEnvironmentInitializers:!0}).injector}var gi=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Le(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function f0(t){return Mx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function xx(t,e){if(Array.isArray(t))for(let r=0;r<t.length;r++)e(t[r]);else{let r=t[Symbol.iterator](),n;for(;!(n=r.next()).done;)e(n.value)}}function Mx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Bc(t,e,r){return t[e]=r}function Tx(t,e){return t[e]}function Er(t,e,r){let n=t[e];return Object.is(n,r)?!1:(t[e]=r,!0)}function th(t,e,r,n){let i=Er(t,e,r);return Er(t,e+1,n)||i}function Ax(t,e,r,n,i){let o=th(t,e,r,n);return Er(t,e+2,i)||o}function Nx(t){return(t.flags&32)===32}function Rx(t,e,r,n,i,o,s,a,c){let l=e.consts,u=cs(e,t,4,s||null,Ji(l,a));qf(e,r,u,Ji(l,c)),Ac(e,u);let d=u.tView=zf(2,u,n,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function T(t,e,r,n,i,o,s,a){let c=ce(),l=rt(),u=t+Dt,d=l.firstCreatePass?Rx(u,l,c,e,r,n,i,o,s):l.data[u];fi(d,!1);let m=Ox(l,c,d,t);Mc()&&Fc(l,c,m,d),_r(m,c);let v=Zv(m,c,m,d);return c[u]=v,Lc(c,v),tx(v,d,c),Ic(d)&&$f(l,c,d),s!=null&&Hf(c,d,a),T}var Ox=Fx;function Fx(t,e,r,n){return Tc(!0),e[Qe].createComment("")}function yi(t,e,r,n){let i=ce(),o=Sf();if(Er(i,o,e)){let s=rt(),a=Tf();cI(a,i,t,e,r,n)}return yi}function h0(t,e,r,n){return Er(t,Sf(),r)?e+ei(r)+n:Cn}function Px(t,e,r,n,i,o){let s=lE(),a=th(t,s,r,i);return zy(2),a?e+ei(r)+n+ei(i)+o:Cn}function Ha(t,e){return t<<17|e<<2}function ui(t){return t>>17&32767}function kx(t){return(t&2)==2}function Lx(t,e){return t&131071|e<<17}function nf(t){return t|2}function no(t){return(t&131068)>>2}function sd(t,e){return t&-131069|e<<2}function Vx(t){return(t&1)===1}function rf(t){return t|1}function jx(t,e,r,n,i,o){let s=o?e.classBindings:e.styleBindings,a=ui(s),c=no(s);t[n]=r;let l=!1,u;if(Array.isArray(r)){let d=r;u=d[1],(u===null||is(d,u)>0)&&(l=!0)}else u=r;if(i)if(c!==0){let m=ui(t[a+1]);t[n+1]=Ha(m,a),m!==0&&(t[m+1]=sd(t[m+1],n)),t[a+1]=Lx(t[a+1],n)}else t[n+1]=Ha(a,0),a!==0&&(t[a+1]=sd(t[a+1],n)),a=n;else t[n+1]=Ha(c,0),a===0?a=n:t[c+1]=sd(t[c+1],n),c=n;l&&(t[n+1]=nf(t[n+1])),Qg(t,u,n,!0),Qg(t,u,n,!1),Ux(e,u,t,n,o),s=Ha(a,c),o?e.classBindings=s:e.styleBindings=s}function Ux(t,e,r,n,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&is(o,e)>=0&&(r[n+1]=rf(r[n+1]))}function Qg(t,e,r,n){let i=t[r+1],o=e===null,s=n?ui(i):no(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];Bx(c,e)&&(a=!0,t[s+1]=n?rf(l):nf(l)),s=n?ui(l):no(l)}a&&(t[r+1]=n?nf(i):rf(i))}function Bx(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?is(t,e)>=0:!1}function w(t,e,r){let n=ce(),i=Sf();if(Er(n,i,e)){let o=rt(),s=Tf();Qv(o,s,n,t,e,n[Qe],r,!1)}return w}function Yg(t,e,r,n,i){let o=e.inputs,s=i?"class":"style";Wf(t,r,o[s],s,n)}function xr(t,e,r){return p0(t,e,r,!1),xr}function Gt(t,e){return p0(t,e,null,!0),Gt}function p0(t,e,r,n){let i=ce(),o=rt(),s=zy(2);if(o.firstUpdatePass&&Hx(o,t,s,n),e!==Cn&&Er(i,s,e)){let a=o.data[hi()];Qx(o,a,i,i[Qe],t,i[s+1]=Yx(e,r),n,s)}}function $x(t,e){return e>=t.expandoStartIndex}function Hx(t,e,r,n){let i=t.data;if(i[r+1]===null){let o=i[hi()],s=$x(t,r);Kx(o,n)&&e===null&&!s&&(e=!1),e=zx(i,o,e,n),jx(i,o,e,r,s,n)}}function zx(t,e,r,n){let i=pE(t),o=n?e.residualClasses:e.residualStyles;if(i===null)(n?e.classBindings:e.styleBindings)===0&&(r=ad(null,t,e,r,n),r=ns(r,e.attrs,n),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(r=ad(i,t,e,r,n),o===null){let c=qx(t,e,n);c!==void 0&&Array.isArray(c)&&(c=ad(null,t,e,c[1],n),c=ns(c,e.attrs,n),Wx(t,e,n,c))}else o=Gx(t,e,n)}return o!==void 0&&(n?e.residualClasses=o:e.residualStyles=o),r}function qx(t,e,r){let n=r?e.classBindings:e.styleBindings;if(no(n)!==0)return t[ui(n)]}function Wx(t,e,r,n){let i=r?e.classBindings:e.styleBindings;t[ui(i)]=n}function Gx(t,e,r){let n,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;n=ns(n,s,r)}return ns(n,e.attrs,r)}function ad(t,e,r,n,i){let o=null,s=r.directiveEnd,a=r.directiveStylingLast;for(a===-1?a=r.directiveStart:a++;a<s&&(o=e[a],n=ns(n,o.hostAttrs,i),o!==t);)a++;return t!==null&&(r.directiveStylingLast=a),n}function ns(t,e,r){let n=r?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===n&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),hD(t,s,r?!0:e[++o]))}return t===void 0?null:t}function Qx(t,e,r,n,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=Vx(l)?Kg(c,e,r,i,no(l),s):void 0;if(!mc(u)){mc(o)||kx(l)&&(o=Kg(c,null,r,i,a,s));let d=Ly(hi(),r);jS(n,s,d,i,o)}}function Kg(t,e,r,n,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,m=r[i+1];m===Cn&&(m=d?zt:void 0);let v=d?Ku(m,n):u===n?m:void 0;if(l&&!mc(v)&&(v=Ku(c,n)),mc(v)&&(a=v,s))return a;let b=t[i+1];i=s?ui(b):no(b)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Ku(c,n))}return a}function mc(t){return t!==void 0}function Yx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=pt(bn(t)))),t}function Kx(t,e){return(t.flags&(e?8:16))!==0}function Zx(t,e,r,n,i,o){let s=e.consts,a=Ji(s,i),c=cs(e,t,2,n,a);return qf(e,r,c,Ji(s,o)),c.attrs!==null&&uc(c,c.attrs,!1),c.mergedAttrs!==null&&uc(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function f(t,e,r,n){let i=ce(),o=rt(),s=Dt+t,a=i[Qe],c=o.firstCreatePass?Zx(s,o,i,e,r,n):o.data[s],l=Xx(o,i,c,a,e,t);i[s]=l;let u=Ic(c);return fi(c,!0),Bv(a,l,c),!Nx(c)&&Mc()&&Fc(o,i,l,c),tE()===0&&_r(l,i),nE(),u&&($f(o,i,c),Bf(o,c,i)),n!==null&&Hf(i,c),f}function h(){let t=Et();Ef()?Hy():(t=t.parent,fi(t,!1));let e=t;oE(e)&&sE(),rE();let r=rt();return r.firstCreatePass&&(Ac(r,t),Cf(t)&&r.queries.elementEnd(t)),e.classesWithoutHost!=null&&_E(e)&&Yg(r,e,ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&DE(e)&&Yg(r,e,ce(),e.stylesWithoutHost,!1),h}function A(t,e,r,n){return f(t,e,r,n),h(),A}var Xx=(t,e,r,n,i,o)=>(Tc(!0),Fv(n,i,vE()));function Jx(t,e,r,n,i){let o=e.consts,s=Ji(o,n),a=cs(e,t,8,"ng-container",s);s!==null&&uc(a,s,!0);let c=Ji(o,i);return qf(e,r,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Ln(t,e,r){let n=ce(),i=rt(),o=t+Dt,s=i.firstCreatePass?Jx(o,i,n,e,r):i.data[o];fi(s,!0);let a=e1(i,n,s,t);return n[o]=a,Mc()&&Fc(i,n,a,s),_r(a,n),Ic(s)&&($f(i,n,s),Bf(i,s,n)),r!=null&&Hf(n,s),Ln}function Vn(){let t=Et(),e=rt();return Ef()?Hy():(t=t.parent,fi(t,!1)),e.firstCreatePass&&(Ac(e,t),Cf(t)&&e.queries.elementEnd(t)),Vn}var e1=(t,e,r,n)=>(Tc(!0),CS(e[Qe],""));function J(){return ce()}var Zr=void 0;function t1(t){let e=t,r=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return r===1&&n===0?1:5}var n1=["en",[["a","p"],["AM","PM"],Zr],[["AM","PM"],Zr,Zr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zr,"{1} 'at' {0}",Zr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",t1],cd={};function Qt(t){let e=r1(t),r=Zg(e);if(r)return r;let n=e.split("-")[0];if(r=Zg(n),r)return r;if(n==="en")return n1;throw new E(701,!1)}function Zg(t){return t in cd||(cd[t]=Be.ng&&Be.ng.common&&Be.ng.common.locales&&Be.ng.common.locales[t]),cd[t]}var $e=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}($e||{});function r1(t){return t.toLowerCase().replace(/_/g,"-")}var gc="en-US";var i1=gc;function o1(t){typeof t=="string"&&(i1=t.toLowerCase().replace(/_/g,"-"))}function M(t,e,r,n){let i=ce(),o=rt(),s=Et();return a1(o,i,i[Qe],s,t,e,n),M}function s1(t,e,r,n){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===r&&i[o+1]===n){let a=e[Zo],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function a1(t,e,r,n,i,o,s){let a=Ic(n),l=t.firstCreatePass&&e0(t),u=e[pn],d=Jv(e),m=!0;if(n.type&3||s){let D=qt(n,e),x=s?s(D):D,I=d.length,U=s?Q=>s(Fn(Q[n.index])):n.index,re=null;if(!s&&a&&(re=s1(t,e,i,n.index)),re!==null){let Q=re.__ngLastListenerFn__||re;Q.__ngNextListenerFn__=o,re.__ngLastListenerFn__=o,m=!1}else{o=Jg(n,e,u,o,!1);let Q=r.listen(x,i,o);d.push(o,Q),l&&l.push(i,U,I,I+1)}}else o=Jg(n,e,u,o,!1);let v=n.outputs,b;if(m&&v!==null&&(b=v[i])){let D=b.length;if(D)for(let x=0;x<D;x+=2){let I=b[x],U=b[x+1],He=e[I][U].subscribe(o),Se=d.length;d.push(o,He),l&&l.push(i,n.index,Se,-(Se+1))}}}function Xg(t,e,r,n){let i=de(null);try{return An(6,e,r),r(n)!==!1}catch(o){return t0(t,o),!1}finally{An(7,e,r),de(i)}}function Jg(t,e,r,n,i){return function o(s){if(s===Function)return n;let a=t.componentOffset>-1?Sr(t.index,e):e;Qf(a);let c=Xg(e,r,n,s),l=o.__ngNextListenerFn__;for(;l;)c=Xg(e,r,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function S(t=1){return gE(t)}function _n(t,e,r){return m0(t,"",e,"",r),_n}function m0(t,e,r,n,i){let o=ce(),s=h0(o,e,r,n);if(s!==Cn){let a=rt(),c=Tf();Qv(a,c,o,t,s,o[Qe],i,!1)}return m0}function nh(t,e,r){lx(t,e,r)}function $c(t){let e=ce(),r=rt(),n=qy();If(n+1);let i=Xf(r,n);if(t.dirty&&KD(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=fx(e,n);t.reset(o,kE),t.notifyOnChanges()}return!0}return!1}function Hc(){return ax(ce(),qy())}function c1(t,e,r,n){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),e[r]=n}function It(t){let e=cE();return xc(e,Dt+t)}function g(t,e=""){let r=ce(),n=rt(),i=t+Dt,o=n.firstCreatePass?cs(n,i,1,e,null):n.data[i],s=l1(n,r,o,e,t);r[i]=s,Mc()&&Fc(n,r,s,o),fi(o,!1)}var l1=(t,e,r,n,i)=>(Tc(!0),bS(e[Qe],n));function pe(t){return Ne("",t,""),pe}function Ne(t,e,r){let n=ce(),i=h0(n,t,e,r);return i!==Cn&&n0(n,hi(),i),Ne}function vi(t,e,r,n,i){let o=ce(),s=Px(o,t,e,r,n,i);return s!==Cn&&n0(o,hi(),s),vi}function u1(t,e,r){let n=rt();if(n.firstCreatePass){let i=Cr(t);of(r,n.data,n.blueprint,i,!0),of(e,n.data,n.blueprint,i,!1)}}function of(t,e,r,n,i){if(t=ht(t),Array.isArray(t))for(let o=0;o<t.length;o++)of(t[o],e,r,n,i);else{let o=rt(),s=ce(),a=Et(),c=Ki(t)?t:ht(t.provide),l=My(t),u=a.providerIndexes&1048575,d=a.directiveStart,m=a.providerIndexes>>20;if(Ki(t)||!t.multi){let v=new oi(l,i,L),b=ud(c,e,i?u:u+m,d);b===-1?(_d(sc(a,s),o,c),ld(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),r.push(v),s.push(v)):(r[b]=v,s[b]=v)}else{let v=ud(c,e,u+m,d),b=ud(c,e,u,u+m),D=v>=0&&r[v],x=b>=0&&r[b];if(i&&!x||!i&&!D){_d(sc(a,s),o,c);let I=h1(i?f1:d1,r.length,i,n,l);!i&&x&&(r[b].providerFactory=I),ld(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),r.push(I),s.push(I)}else{let I=g0(r[i?b:v],l,!i&&n);ld(o,t,v>-1?v:b,I)}!i&&n&&x&&r[b].componentProviders++}}}function ld(t,e,r,n){let i=Ki(e),o=FD(e);if(i||o){let c=(o?ht(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(r);u===-1?l.push(r,[n,c]):l[u+1].push(n,c)}else l.push(r,c)}}}function g0(t,e,r){return r&&t.componentProviders++,t.multi.push(e)-1}function ud(t,e,r,n){for(let i=r;i<n;i++)if(e[i]===t)return i;return-1}function d1(t,e,r,n){return sf(this.multi,[])}function f1(t,e,r,n){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=si(r,r[ne],this.providerFactory.index,n);o=a.slice(0,s),sf(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],sf(i,o);return o}function sf(t,e){for(let r=0;r<t.length;r++){let n=t[r];e.push(n())}return e}function h1(t,e,r,n,i){let o=new oi(t,r,L);return o.multi=[],o.index=e,o.componentProviders=0,g0(o,i,n&&!r),o}function ls(t,e=[]){return r=>{r.providersResolver=(n,i)=>u1(n,i?i(t):t,e)}}var p1=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=Sy(!1,n.type),o=i.length>0?Uc([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=_({token:e,providedIn:"environment",factory:()=>new e(N(mt))});let t=e;return t})();function y0(t){mi("NgStandalone"),t.getStandaloneInjector=e=>e.get(p1).getOrCreateStandaloneInjector(t)}function co(t,e,r){let n=ss()+t,i=ce();return i[n]===Cn?Bc(i,n,r?e.call(r):e()):Tx(i,n)}function v0(t,e,r,n){return b0(ce(),ss(),t,e,r,n)}function rh(t,e){let r=t[e];return r===Cn?void 0:r}function b0(t,e,r,n,i,o){let s=e+r;return Er(t,s,i)?Bc(t,s+1,o?n.call(o,i):n(i)):rh(t,s+1)}function m1(t,e,r,n,i,o,s){let a=e+r;return th(t,a,i,o)?Bc(t,a+2,s?n.call(s,i,o):n(i,o)):rh(t,a+2)}function g1(t,e,r,n,i,o,s,a){let c=e+r;return Ax(t,c,i,o,s)?Bc(t,c+3,a?n.call(a,i,o,s):n(i,o,s)):rh(t,c+3)}function le(t,e){let r=rt(),n,i=t+Dt;r.firstCreatePass?(n=y1(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks??=[]).push(i,n.onDestroy)):n=r.data[i];let o=n.factory||(n.factory=ti(n.type,!0)),s,a=_t(L);try{let c=oc(!1),l=o();return oc(c),c1(r,ce(),i,l),l}finally{_t(a)}}function y1(t,e){if(e)for(let r=e.length-1;r>=0;r--){let n=e[r];if(t===n.name)return n}}function ye(t,e,r){let n=t+Dt,i=ce(),o=xc(i,n);return ih(i,n)?b0(i,ss(),e,o.transform,r,o):o.transform(r)}function us(t,e,r,n){let i=t+Dt,o=ce(),s=xc(o,i);return ih(o,i)?m1(o,ss(),e,s.transform,r,n,s):s.transform(r,n)}function w0(t,e,r,n,i){let o=t+Dt,s=ce(),a=xc(s,o);return ih(s,o)?g1(s,ss(),e,a.transform,r,n,i,a):a.transform(r,n,i)}function ih(t,e){return t[ne].data[e].pure}function Yt(t,e){return Vc(t,e)}var za=null;function v1(t){za!==null&&(t.defaultEncapsulation!==za.defaultEncapsulation||t.preserveWhitespaces!==za.preserveWhitespaces)||(za=t)}var zc=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var oh=new R(""),ds=new R(""),qc=(()=>{let e=class e{constructor(n,i,o){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,sh||(b1(o),o.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(n)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),n()},i)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:o})}whenStable(n,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,o){return[]}};e.\u0275fac=function(i){return new(i||e)(N(he),N(Wc),N(ds))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Wc=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return sh?.findTestabilityInTree(this,n,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function b1(t){sh=t}var sh;function Mr(t){return!!t&&typeof t.then=="function"}function ah(t){return!!t&&typeof t.subscribe=="function"}var lo=new R(""),C0=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=p(lo,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let s=o();if(Mr(s))n.push(s);else if(ah(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});n.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(o=>{this.reject(o)}),n.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gc=new R("");function w1(){Nm(()=>{throw new E(600,!1)})}function C1(t){return t.isBoundToModule}function _1(t,e,r){try{let n=r();return Mr(n)?n.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}function _0(t,e){return Array.isArray(e)?e.reduce(_0,t):C(C({},t),e)}var tr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=p(lv),this.afterRenderEffectManager=p(Zf),this.externalTestViews=new Set,this.beforeRender=new ge,this.afterTick=new ge,this.componentTypes=[],this.components=[],this.isStable=p(gi).hasPendingTasks.pipe(j(n=>!n)),this._injector=p(mt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){let o=n instanceof lc;if(!this._injector.get(C0).done){let v=!o&&Cy(n),b=!1;throw new E(405,b)}let a;o?a=n:a=this._injector.get(jc).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=C1(a)?void 0:this._injector.get(Dr),l=i||a.selector,u=a.create(St.NULL,[],l,c),d=u.location.nativeElement,m=u.injector.get(oh,null);return m?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Ka(this.components,u),m?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new E(101,!1);let i=de(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,de(i)}}detectChangesInAttachedViews(n){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===i0)throw new E(103,!1);if(n){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:c}of this._views)D1(a,s,c)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>af(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>af(s))))break}}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;Ka(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(Gc,[]);[...this._bootstrapListeners,...i].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ka(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new E(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ka(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}function D1(t,e,r){!e&&!af(t)||E1(t,r,e)}function af(t){return Df(t)}function E1(t,e,r){let n;r?(n=0,t[W]|=1024):t[W]&64?n=0:n=1,o0(t,e,n)}var cf=class{constructor(e,r){this.ngModuleFactory=e,this.componentFactories=r}},Qc=(()=>{let e=class e{compileModuleSync(n){return new pc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),o=_y(n),s=Ov(o.declarations).reduce((a,c)=>{let l=wr(c);return l&&a.push(new to(l)),a},[]);return new cf(i,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),S1=new R("");function I1(t,e,r){let n=new pc(r);return Promise.resolve(n)}function ey(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var x1=(()=>{let e=class e{constructor(){this.zone=p(he),this.applicationRef=p(tr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function M1(t){return[{provide:he,useFactory:t},{provide:Yi,multi:!0,useFactory:()=>{let e=p(x1,{optional:!0});return()=>e.initialize()}},{provide:Yi,multi:!0,useFactory:()=>{let e=p(N1);return()=>{e.initialize()}}},{provide:lv,useFactory:T1}]}function T1(){let t=p(he),e=p(Pn);return r=>t.runOutsideAngular(()=>e.handleError(r))}function A1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var N1=(()=>{let e=class e{constructor(){this.subscription=new se,this.initialized=!1,this.zone=p(he),this.pendingTasks=p(gi)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{he.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function R1(){return typeof $localize<"u"&&$localize.locale||gc}var Yc=new R("",{providedIn:"root",factory:()=>p(Yc,oe.Optional|oe.SkipSelf)||R1()});var D0=new R(""),E0=(()=>{let e=class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){let o=UI(i?.ngZone,A1({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{let s=Ix(n.moduleType,this.injector,M1(()=>o)),a=s.injector.get(Pn,null);return o.runOutsideAngular(()=>{let c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{Ka(this._modules,s),c.unsubscribe()})}),_1(a,o,()=>{let c=s.injector.get(C0);return c.runInitializers(),c.donePromise.then(()=>{let l=s.injector.get(Yc,gc);return o1(l||gc),this._moduleDoBootstrap(s),s})})})}bootstrapModule(n,i=[]){let o=_0({},i);return I1(this.injector,o,n).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(n){let i=n.injector.get(tr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(i);else throw new E(-403,!1);this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let n=this._injector.get(D0,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(N(St))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Go=null,S0=new R("");function O1(t){if(Go&&!Go.get(S0,!1))throw new E(400,!1);w1(),Go=t;let e=t.get(E0);return k1(t),e}function ch(t,e,r=[]){let n=`Platform: ${e}`,i=new R(n);return(o=[])=>{let s=I0();if(!s||s.injector.get(S0,!1)){let a=[...r,...o,{provide:i,useValue:!0}];t?t(a):O1(F1(a,n))}return P1(i)}}function F1(t=[],e){return St.create({name:e,providers:[{provide:Dc,useValue:"platform"},{provide:D0,useValue:new Set([()=>Go=null])},...t]})}function P1(t){let e=I0();if(!e)throw new E(401,!1);return e}function I0(){return Go?.get(E0)??null}function k1(t){t.get(Rf,null)?.forEach(r=>r())}function uo(){return!1}var nr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=L1;let t=e;return t})();function L1(t){return V1(Et(),ce(),(t&16)===16)}function V1(t,e,r){if(Sc(t)&&!r){let n=Sr(t.index,e);return new ai(n,n)}else if(t.type&47){let n=e[On];return new ai(n,e)}return null}var lf=class{constructor(){}supports(e){return f0(e)}create(e){return new uf(e)}},j1=(t,e)=>e,uf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||j1}forEachItem(e){let r;for(r=this._itHead;r!==null;r=r._next)e(r)}forEachOperation(e){let r=this._itHead,n=this._removalsHead,i=0,o=null;for(;r||n;){let s=!n||r&&r.currentIndex<ty(n,i,o)?r:n,a=ty(s,i,o),c=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(r=r._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let m=0;m<l;m++){let v=m<o.length?o[m]:o[m]=0,b=v+m;u<=b&&b<l&&(o[m]=v+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let r;for(r=this._previousItHead;r!==null;r=r._nextPrevious)e(r)}forEachAddedItem(e){let r;for(r=this._additionsHead;r!==null;r=r._nextAdded)e(r)}forEachMovedItem(e){let r;for(r=this._movesHead;r!==null;r=r._nextMoved)e(r)}forEachRemovedItem(e){let r;for(r=this._removalsHead;r!==null;r=r._nextRemoved)e(r)}forEachIdentityChange(e){let r;for(r=this._identityChangesHead;r!==null;r=r._nextIdentityChange)e(r)}diff(e){if(e==null&&(e=[]),!f0(e))throw new E(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r=this._itHead,n=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),r===null||!Object.is(r.trackById,s)?(r=this._mismatch(r,o,s,a),n=!0):(n&&(r=this._verifyReinsertion(r,o,s,a)),Object.is(r.item,o)||this._addIdentityChange(r,o)),r=r._next}else i=0,xx(e,a=>{s=this._trackByFn(i,a),r===null||!Object.is(r.trackById,s)?(r=this._mismatch(r,a,s,i),n=!0):(n&&(r=this._verifyReinsertion(r,a,s,i)),Object.is(r.item,a)||this._addIdentityChange(r,a)),r=r._next,i++}),this.length=i;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,r,n,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),e!==null?(Object.is(e.item,r)||this._addIdentityChange(e,r),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(n,i),e!==null?(Object.is(e.item,r)||this._addIdentityChange(e,r),this._moveAfter(e,o,i)):e=this._addAfter(new df(r,n),o,i)),e}_verifyReinsertion(e,r,n,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let r=e._next;this._addToRemovals(this._unlink(e)),e=r}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,r,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,r,n),this._addToMoves(e,n),e}_moveAfter(e,r,n){return this._unlink(e),this._insertAfter(e,r,n),this._addToMoves(e,n),e}_addAfter(e,r,n){return this._insertAfter(e,r,n),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,r,n){let i=r===null?this._itHead:r._next;return e._next=i,e._prev=r,i===null?this._itTail=e:i._prev=e,r===null?this._itHead=e:r._next=e,this._linkedRecords===null&&(this._linkedRecords=new yc),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let r=e._prev,n=e._next;return r===null?this._itHead=n:r._next=n,n===null?this._itTail=r:n._prev=r,e}_addToMoves(e,r){return e.previousIndex===r||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new yc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,r){return e.item=r,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},df=class{constructor(e,r){this.item=e,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ff=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,r){let n;for(n=this._head;n!==null;n=n._nextDup)if((r===null||r<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){let r=e._prevDup,n=e._nextDup;return r===null?this._head=n:r._nextDup=n,n===null?this._tail=r:n._prevDup=r,this._head===null}},yc=class{constructor(){this.map=new Map}put(e){let r=e.trackById,n=this.map.get(r);n||(n=new ff,this.map.set(r,n)),n.add(e)}get(e,r){let n=e,i=this.map.get(n);return i?i.get(e,r):null}remove(e){let r=e.trackById;return this.map.get(r).remove(e)&&this.map.delete(r),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ty(t,e,r){let n=t.previousIndex;if(n===null)return n;let i=0;return r&&n<r.length&&(i=r[n]),n+e+i}function ny(){return new lh([new lf])}var lh=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,i){if(i!=null){let o=i.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||ny()),deps:[[e,new pf,new Cc]]}}find(n){let i=this.factories.find(o=>o.supports(n));if(i!=null)return i;throw new E(901,!1)}};e.\u0275prov=_({token:e,providedIn:"root",factory:ny});let t=e;return t})();var x0=ch(null,"core",[]),M0=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(i){return new(i||e)(N(tr))},e.\u0275mod=je({type:e}),e.\u0275inj=Ve({});let t=e;return t})();function fo(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Kc(t,e){mi("NgSignals");let r=Mm(t);return e?.equal&&(r[dr].equal=e.equal),r}function Zc(t){let e=de(null);try{return t()}finally{de(e)}}function T0(t){let e=wr(t);if(!e)return null;let r=new to(e);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var P0=null;function jn(){return P0}function k0(t){P0??=t}var sl=class{};var Ye=new R(""),wh=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>p(U1),providedIn:"platform"});let t=e;return t})(),L0=new R(""),U1=(()=>{let e=class e extends wh{constructor(){super(),this._doc=p(Ye),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return jn().getBaseHref(this._doc)}onPopState(n){let i=jn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=jn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,o){this._history.pushState(n,i,o)}replaceState(n,i,o){this._history.replaceState(n,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Ch(t,e){if(t.length==0)return e;if(e.length==0)return t;let r=0;return t.endsWith("/")&&r++,e.startsWith("/")&&r++,r==2?t+e.substring(1):r==1?t+e:t+"/"+e}function A0(t){let e=t.match(/#|\?|$/),r=e&&e.index||t.length,n=r-(t[r-1]==="/"?1:0);return t.slice(0,n)+t.slice(r)}function ir(t){return t&&t[0]!=="?"?"?"+t:t}var sr=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>p(_h),providedIn:"root"});let t=e;return t})(),V0=new R(""),_h=(()=>{let e=class e extends sr{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??p(Ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ch(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+ir(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${i}${o}`:i}pushState(n,i,o,s){let a=this.prepareExternalUrl(o+ir(s));this._platformLocation.pushState(n,i,a)}replaceState(n,i,o,s){let a=this.prepareExternalUrl(o+ir(s));this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(i){return new(i||e)(N(wh),N(V0,8))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),j0=(()=>{let e=class e extends sr{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=Ch(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,o,s){let a=this.prepareExternalUrl(o+ir(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,i,a)}replaceState(n,i,o,s){let a=this.prepareExternalUrl(o+ir(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(i){return new(i||e)(N(wh),N(V0,8))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),po=(()=>{let e=class e{constructor(n){this._subject=new De,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=H1(A0(N0(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+ir(i))}normalize(n){return e.stripTrailingSlash($1(this._basePath,N0(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",o=null){this._locationStrategy.pushState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ir(i)),o)}replaceState(n,i="",o=null){this._locationStrategy.replaceState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ir(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(o=>o(n,i))}subscribe(n,i,o){return this._subject.subscribe({next:n,error:i,complete:o})}};e.normalizeQueryParams=ir,e.joinWithSlash=Ch,e.stripTrailingSlash=A0,e.\u0275fac=function(i){return new(i||e)(N(sr))},e.\u0275prov=_({token:e,factory:()=>B1(),providedIn:"root"});let t=e;return t})();function B1(){return new po(N(sr))}function $1(t,e){if(!t||!e.startsWith(t))return e;let r=e.substring(t.length);return r===""||["/",";","?","#"].includes(r[0])?r:e}function N0(t){return t.replace(/\/index.html$/,"")}function H1(t){if(new RegExp("^(https?:)?//").test(t)){let[,r]=t.split(/\/\/[^\/]+/);return r}return t}var gt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(gt||{}),Ae=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ae||{}),kt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(kt||{}),Tr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function z1(t){return Qt(t)[$e.LocaleId]}function q1(t,e,r){let n=Qt(t),i=[n[$e.DayPeriodsFormat],n[$e.DayPeriodsStandalone]],o=Kt(i,e);return Kt(o,r)}function W1(t,e,r){let n=Qt(t),i=[n[$e.DaysFormat],n[$e.DaysStandalone]],o=Kt(i,e);return Kt(o,r)}function G1(t,e,r){let n=Qt(t),i=[n[$e.MonthsFormat],n[$e.MonthsStandalone]],o=Kt(i,e);return Kt(o,r)}function Q1(t,e){let n=Qt(t)[$e.Eras];return Kt(n,e)}function Xc(t,e){let r=Qt(t);return Kt(r[$e.DateFormat],e)}function Jc(t,e){let r=Qt(t);return Kt(r[$e.TimeFormat],e)}function el(t,e){let n=Qt(t)[$e.DateTimeFormat];return Kt(n,e)}function cl(t,e){let r=Qt(t),n=r[$e.NumberSymbols][e];if(typeof n>"u"){if(e===Tr.CurrencyDecimal)return r[$e.NumberSymbols][Tr.Decimal];if(e===Tr.CurrencyGroup)return r[$e.NumberSymbols][Tr.Group]}return n}function U0(t){if(!t[$e.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[$e.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Y1(t){let e=Qt(t);return U0(e),(e[$e.ExtraData][2]||[]).map(n=>typeof n=="string"?uh(n):[uh(n[0]),uh(n[1])])}function K1(t,e,r){let n=Qt(t);U0(n);let i=[n[$e.ExtraData][0],n[$e.ExtraData][1]],o=Kt(i,e)||[];return Kt(o,r)||[]}function Kt(t,e){for(let r=e;r>-1;r--)if(typeof t[r]<"u")return t[r];throw new Error("Locale data API: locale data undefined")}function uh(t){let[e,r]=t.split(":");return{hours:+e,minutes:+r}}var Z1=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,tl={},X1=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,or=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(or||{}),be=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(be||{}),ve=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ve||{});function J1(t,e,r,n){let i=cM(t);e=rr(r,e)||e;let s=[],a;for(;e;)if(a=X1.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=i.getTimezoneOffset();n&&(c=$0(n,c),i=aM(i,n,!0));let l="";return s.forEach(u=>{let d=oM(u);l+=d?d(i,r,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function al(t,e,r){let n=new Date(0);return n.setFullYear(t,e,r),n.setHours(0,0,0),n}function rr(t,e){let r=z1(t);if(tl[r]??={},tl[r][e])return tl[r][e];let n="";switch(e){case"shortDate":n=Xc(t,kt.Short);break;case"mediumDate":n=Xc(t,kt.Medium);break;case"longDate":n=Xc(t,kt.Long);break;case"fullDate":n=Xc(t,kt.Full);break;case"shortTime":n=Jc(t,kt.Short);break;case"mediumTime":n=Jc(t,kt.Medium);break;case"longTime":n=Jc(t,kt.Long);break;case"fullTime":n=Jc(t,kt.Full);break;case"short":let i=rr(t,"shortTime"),o=rr(t,"shortDate");n=nl(el(t,kt.Short),[i,o]);break;case"medium":let s=rr(t,"mediumTime"),a=rr(t,"mediumDate");n=nl(el(t,kt.Medium),[s,a]);break;case"long":let c=rr(t,"longTime"),l=rr(t,"longDate");n=nl(el(t,kt.Long),[c,l]);break;case"full":let u=rr(t,"fullTime"),d=rr(t,"fullDate");n=nl(el(t,kt.Full),[u,d]);break}return n&&(tl[r][e]=n),n}function nl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(r,n){return e!=null&&n in e?e[n]:r})),t}function Dn(t,e,r="-",n,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=r));let s=String(t);for(;s.length<e;)s="0"+s;return n&&(s=s.slice(s.length-e)),o+s}function eM(t,e){return Dn(t,3).substring(0,e)}function ze(t,e,r=0,n=!1,i=!1){return function(o,s){let a=tM(t,o);if((r>0||a>-r)&&(a+=r),t===be.Hours)a===0&&r===-12&&(a=12);else if(t===be.FractionalSeconds)return eM(a,e);let c=cl(s,Tr.MinusSign);return Dn(a,e,c,n,i)}}function tM(t,e){switch(t){case be.FullYear:return e.getFullYear();case be.Month:return e.getMonth();case be.Date:return e.getDate();case be.Hours:return e.getHours();case be.Minutes:return e.getMinutes();case be.Seconds:return e.getSeconds();case be.FractionalSeconds:return e.getMilliseconds();case be.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Re(t,e,r=gt.Format,n=!1){return function(i,o){return nM(i,o,t,e,r,n)}}function nM(t,e,r,n,i,o){switch(r){case ve.Months:return G1(e,i,n)[t.getMonth()];case ve.Days:return W1(e,i,n)[t.getDay()];case ve.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=Y1(e),u=K1(e,i,n),d=l.findIndex(m=>{if(Array.isArray(m)){let[v,b]=m,D=s>=v.hours&&a>=v.minutes,x=s<b.hours||s===b.hours&&a<b.minutes;if(v.hours<b.hours){if(D&&x)return!0}else if(D||x)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return q1(e,i,n)[s<12?0:1];case ve.Eras:return Q1(e,n)[t.getFullYear()<=0?0:1];default:let c=r;throw new Error(`unexpected translation type ${c}`)}}function rl(t){return function(e,r,n){let i=-1*n,o=cl(r,Tr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case or.Short:return(i>=0?"+":"")+Dn(s,2,o)+Dn(Math.abs(i%60),2,o);case or.ShortGMT:return"GMT"+(i>=0?"+":"")+Dn(s,1,o);case or.Long:return"GMT"+(i>=0?"+":"")+Dn(s,2,o)+":"+Dn(Math.abs(i%60),2,o);case or.Extended:return n===0?"Z":(i>=0?"+":"")+Dn(s,2,o)+":"+Dn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var rM=0,ol=4;function iM(t){let e=al(t,rM,1).getDay();return al(t,0,1+(e<=ol?ol:ol+7)-e)}function B0(t){let e=t.getDay(),r=e===0?-3:ol-e;return al(t.getFullYear(),t.getMonth(),t.getDate()+r)}function dh(t,e=!1){return function(r,n){let i;if(e){let o=new Date(r.getFullYear(),r.getMonth(),1).getDay()-1,s=r.getDate();i=1+Math.floor((s+o)/7)}else{let o=B0(r),s=iM(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Dn(i,t,cl(n,Tr.MinusSign))}}function il(t,e=!1){return function(r,n){let o=B0(r).getFullYear();return Dn(o,t,cl(n,Tr.MinusSign),e)}}var fh={};function oM(t){if(fh[t])return fh[t];let e;switch(t){case"G":case"GG":case"GGG":e=Re(ve.Eras,Ae.Abbreviated);break;case"GGGG":e=Re(ve.Eras,Ae.Wide);break;case"GGGGG":e=Re(ve.Eras,Ae.Narrow);break;case"y":e=ze(be.FullYear,1,0,!1,!0);break;case"yy":e=ze(be.FullYear,2,0,!0,!0);break;case"yyy":e=ze(be.FullYear,3,0,!1,!0);break;case"yyyy":e=ze(be.FullYear,4,0,!1,!0);break;case"Y":e=il(1);break;case"YY":e=il(2,!0);break;case"YYY":e=il(3);break;case"YYYY":e=il(4);break;case"M":case"L":e=ze(be.Month,1,1);break;case"MM":case"LL":e=ze(be.Month,2,1);break;case"MMM":e=Re(ve.Months,Ae.Abbreviated);break;case"MMMM":e=Re(ve.Months,Ae.Wide);break;case"MMMMM":e=Re(ve.Months,Ae.Narrow);break;case"LLL":e=Re(ve.Months,Ae.Abbreviated,gt.Standalone);break;case"LLLL":e=Re(ve.Months,Ae.Wide,gt.Standalone);break;case"LLLLL":e=Re(ve.Months,Ae.Narrow,gt.Standalone);break;case"w":e=dh(1);break;case"ww":e=dh(2);break;case"W":e=dh(1,!0);break;case"d":e=ze(be.Date,1);break;case"dd":e=ze(be.Date,2);break;case"c":case"cc":e=ze(be.Day,1);break;case"ccc":e=Re(ve.Days,Ae.Abbreviated,gt.Standalone);break;case"cccc":e=Re(ve.Days,Ae.Wide,gt.Standalone);break;case"ccccc":e=Re(ve.Days,Ae.Narrow,gt.Standalone);break;case"cccccc":e=Re(ve.Days,Ae.Short,gt.Standalone);break;case"E":case"EE":case"EEE":e=Re(ve.Days,Ae.Abbreviated);break;case"EEEE":e=Re(ve.Days,Ae.Wide);break;case"EEEEE":e=Re(ve.Days,Ae.Narrow);break;case"EEEEEE":e=Re(ve.Days,Ae.Short);break;case"a":case"aa":case"aaa":e=Re(ve.DayPeriods,Ae.Abbreviated);break;case"aaaa":e=Re(ve.DayPeriods,Ae.Wide);break;case"aaaaa":e=Re(ve.DayPeriods,Ae.Narrow);break;case"b":case"bb":case"bbb":e=Re(ve.DayPeriods,Ae.Abbreviated,gt.Standalone,!0);break;case"bbbb":e=Re(ve.DayPeriods,Ae.Wide,gt.Standalone,!0);break;case"bbbbb":e=Re(ve.DayPeriods,Ae.Narrow,gt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Re(ve.DayPeriods,Ae.Abbreviated,gt.Format,!0);break;case"BBBB":e=Re(ve.DayPeriods,Ae.Wide,gt.Format,!0);break;case"BBBBB":e=Re(ve.DayPeriods,Ae.Narrow,gt.Format,!0);break;case"h":e=ze(be.Hours,1,-12);break;case"hh":e=ze(be.Hours,2,-12);break;case"H":e=ze(be.Hours,1);break;case"HH":e=ze(be.Hours,2);break;case"m":e=ze(be.Minutes,1);break;case"mm":e=ze(be.Minutes,2);break;case"s":e=ze(be.Seconds,1);break;case"ss":e=ze(be.Seconds,2);break;case"S":e=ze(be.FractionalSeconds,1);break;case"SS":e=ze(be.FractionalSeconds,2);break;case"SSS":e=ze(be.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=rl(or.Short);break;case"ZZZZZ":e=rl(or.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=rl(or.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=rl(or.Long);break;default:return null}return fh[t]=e,e}function $0(t,e){t=t.replace(/:/g,"");let r=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(r)?e:r}function sM(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function aM(t,e,r){let n=r?-1:1,i=t.getTimezoneOffset(),o=$0(e,i);return sM(t,n*(o-i))}function cM(t){if(R0(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return al(i,o-1,s)}let r=parseFloat(t);if(!isNaN(t-r))return new Date(r);let n;if(n=t.match(Z1))return lM(n)}let e=new Date(t);if(!R0(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function lM(t){let e=new Date(0),r=0,n=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(r=Number(t[9]+t[10]),n=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-r,a=Number(t[5]||0)-n,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,l),e}function R0(t){return t instanceof Date&&!isNaN(t.valueOf())}function ll(t,e){e=encodeURIComponent(e);for(let r of t.split(";")){let n=r.indexOf("="),[i,o]=n==-1?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var hh=class{constructor(e,r,n,i){this.$implicit=e,this.ngForOf=r,this.index=n,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ct=(()=>{let e=class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,o){this._viewContainer=n,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new hh(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),O0(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);O0(s,o)})}static ngTemplateContextGuard(n,i){return!0}};e.\u0275fac=function(i){return new(i||e)(L(Ir),L(ci),L(lh))},e.\u0275dir=at({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function O0(t,e){t.context.$implicit=e.item}var ae=(()=>{let e=class e{constructor(n,i){this._viewContainer=n,this._context=new ph,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){F0("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){F0("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}};e.\u0275fac=function(i){return new(i||e)(L(Ir),L(ci))},e.\u0275dir=at({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),ph=class{constructor(){this.$implicit=null,this.ngIf=null}};function F0(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${pt(e)}'.`)}function Dh(t,e){return new E(2100,!1)}var mh=class{createSubscription(e,r){return Zc(()=>e.subscribe({next:r,error:n=>{throw n}}))}dispose(e){Zc(()=>e.unsubscribe())}},gh=class{createSubscription(e,r){return e.then(r,n=>{throw n})}dispose(e){}},uM=new gh,dM=new mh,qe=(()=>{let e=class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,i=>this._updateLatestValue(n,i))}_selectStrategy(n){if(Mr(n))return uM;if(ah(n))return dM;throw Dh(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,i){n===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(L(nr,16))},e.\u0275pipe=_c({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var fM="mediumDate",hM=new R(""),pM=new R(""),ul=(()=>{let e=class e{constructor(n,i,o){this.locale=n,this.defaultTimezone=i,this.defaultOptions=o}transform(n,i,o,s){if(n==null||n===""||n!==n)return null;try{let a=i??this.defaultOptions?.dateFormat??fM,c=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return J1(n,a,s||this.locale,c)}catch(a){throw Dh(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(L(Yc,16),L(hM,24),L(pM,24))},e.\u0275pipe=_c({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var H0=(()=>{let e=class e{transform(n,i,o){if(n==null)return null;if(!this.supports(n))throw Dh(e,n);return n.slice(i,o)}supports(n){return typeof n=="string"||Array.isArray(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=_c({name:"slice",type:e,pure:!1,standalone:!0});let t=e;return t})();var dl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=je({type:e}),e.\u0275inj=Ve({});let t=e;return t})(),Eh="browser",mM="server";function fl(t){return t===Eh}function Sh(t){return t===mM}var z0=(()=>{let e=class e{};e.\u0275prov=_({token:e,providedIn:"root",factory:()=>fl(p(Pt))?new yh(p(Ye),window):new vh});let t=e;return t})(),yh=class{constructor(e,r){this.document=e,this.window=r,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let r=gM(this.document,e);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let r=e.getBoundingClientRect(),n=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],i-o[1])}};function gM(t,e){let r=t.getElementById(e)||t.getElementsByName(e)[0];if(r)return r;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=n.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=n.nextNode()}}return null}var vh=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ho=class{};var hs=class{},pl=class{},Ke=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(r=>{let n=r.indexOf(":");if(n>0){let i=r.slice(0,n),o=i.toLowerCase(),s=r.slice(n+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let r=this.headers.get(e.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,r){return this.clone({name:e,value:r,op:"a"})}set(e,r){return this.clone({name:e,value:r,op:"s"})}delete(e,r){return this.clone({name:e,value:r,op:"d"})}maybeSetNormalizedName(e,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(r=>{this.headers.set(r,e.headers.get(r)),this.normalizedNames.set(r,e.normalizedNames.get(r))})}clone(e){let r=new t;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([e]),r}applyUpdate(e){let r=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,r);let i=(e.op==="a"?this.headers.get(r):void 0)||[];i.push(...n),this.headers.set(r,i);break;case"d":let o=e.value;if(!o)this.headers.delete(r),this.normalizedNames.delete(r);else{let s=this.headers.get(r);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}break}}setHeaderEntries(e,r){let n=(Array.isArray(r)?r:[r]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>e(this.normalizedNames.get(r),this.headers.get(r)))}};var xh=class{encodeKey(e){return q0(e)}encodeValue(e){return q0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function bM(t,e){let r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=r.get(s)||[];c.push(a),r.set(s,c)}),r}var wM=/%(\d[a-f0-9])/gi,CM={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function q0(t){return encodeURIComponent(t).replace(wM,(e,r)=>CM[r]??e)}function hl(t){return`${t}`}var yt=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new xh,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=bM(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(r=>{let n=e.fromObject[r],i=Array.isArray(n)?n.map(hl):[hl(n)];this.map.set(r,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let r=this.map.get(e);return r?r[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,r){return this.clone({param:e,value:r,op:"a"})}appendAll(e){let r=[];return Object.keys(e).forEach(n=>{let i=e[n];Array.isArray(i)?i.forEach(o=>{r.push({param:n,value:o,op:"a"})}):r.push({param:n,value:i,op:"a"})}),this.clone(r)}set(e,r){return this.clone({param:e,value:r,op:"s"})}delete(e,r){return this.clone({param:e,value:r,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let r=this.encoder.encodeKey(e);return this.map.get(e).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let r=new t({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(e),r}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let r=(e.op==="a"?this.map.get(e.param):void 0)||[];r.push(hl(e.value)),this.map.set(e.param,r);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],i=n.indexOf(hl(e.value));i!==-1&&n.splice(i,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Mh=class{constructor(){this.map=new Map}set(e,r){return this.map.set(e,r),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function _M(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function W0(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function G0(t){return typeof Blob<"u"&&t instanceof Blob}function Q0(t){return typeof FormData<"u"&&t instanceof FormData}function DM(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var fs=class t{constructor(e,r,n,i){this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(_M(this.method)||i?(this.body=n!==void 0?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ke,this.context??=new Mh,!this.params)this.params=new yt,this.urlWithParams=r;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=r;else{let a=r.indexOf("?"),c=a===-1?"?":a<r.length-1?"&":"";this.urlWithParams=r+c+s}}}serializeBody(){return this.body===null?null:W0(this.body)||G0(this.body)||Q0(this.body)||DM(this.body)||typeof this.body=="string"?this.body:this.body instanceof yt?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Q0(this.body)?null:G0(this.body)?this.body.type||null:W0(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof yt?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let r=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,m)=>d.set(m,e.setHeaders[m]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,m)=>d.set(m,e.setParams[m]),l)),new t(r,n,o,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:s})}},mo=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(mo||{}),ps=class{constructor(e,r=yl.Ok,n="OK"){this.headers=e.headers||new Ke,this.status=e.status!==void 0?e.status:r,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Th=class t extends ps{constructor(e={}){super(e),this.type=mo.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ml=class t extends ps{constructor(e={}){super(e),this.type=mo.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},gl=class extends ps{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},yl=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(yl||{});function Ih(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var it=(()=>{let e=class e{constructor(n){this.handler=n}request(n,i,o={}){let s;if(n instanceof fs)s=n;else{let l;o.headers instanceof Ke?l=o.headers:l=new Ke(o.headers);let u;o.params&&(o.params instanceof yt?u=o.params:u=new yt({fromObject:o.params})),s=new fs(n,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=k(s).pipe(Tn(l=>this.handler.handle(l)));if(n instanceof fs||o.observe==="events")return a;let c=a.pipe(Fe(l=>l instanceof ml));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(j(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(j(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(j(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(j(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new yt().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,o={}){return this.request("PATCH",n,Ih(o,i))}post(n,i,o={}){return this.request("POST",n,Ih(o,i))}put(n,i,o={}){return this.request("PUT",n,Ih(o,i))}};e.\u0275fac=function(i){return new(i||e)(N(hs))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function X0(t,e){return e(t)}function EM(t,e){return(r,n)=>e.intercept(r,{handle:i=>t(i,n)})}function SM(t,e,r){return(n,i)=>gn(r,()=>e(n,o=>t(o,i)))}var Ah=new R(""),Nh=new R(""),IM=new R(""),xM=new R("");function MM(){let t=null;return(e,r)=>{t===null&&(t=(p(Ah,{optional:!0})??[]).reduceRight(EM,X0));let n=p(gi),i=n.add();return t(e,r).pipe(Rt(()=>n.remove(i)))}}var Y0=(()=>{let e=class e extends hs{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=p(gi);let o=p(xM,{optional:!0});this.backend=o??n}handle(n){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(Nh),...this.injector.get(IM,[])]));this.chain=o.reduceRight((s,a)=>SM(s,a,this.injector),X0)}let i=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Rt(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(N(pl),N(mt))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();var TM=/^\)\]\}',?\n/;function AM(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var K0=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new E(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?xe(i.\u0275loadImpl()):k(null)).pipe(_e(()=>new K(s=>{let a=i.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((x,I)=>a.setRequestHeader(x,I.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let x=n.detectContentTypeHeader();x!==null&&a.setRequestHeader("Content-Type",x)}if(n.responseType){let x=n.responseType.toLowerCase();a.responseType=x!=="json"?x:"text"}let c=n.serializeBody(),l=null,u=()=>{if(l!==null)return l;let x=a.statusText||"OK",I=new Ke(a.getAllResponseHeaders()),U=AM(a)||n.url;return l=new Th({headers:I,status:a.status,statusText:x,url:U}),l},d=()=>{let{headers:x,status:I,statusText:U,url:re}=u(),Q=null;I!==yl.NoContent&&(Q=typeof a.response>"u"?a.responseText:a.response),I===0&&(I=Q?yl.Ok:0);let He=I>=200&&I<300;if(n.responseType==="json"&&typeof Q=="string"){let Se=Q;Q=Q.replace(TM,"");try{Q=Q!==""?JSON.parse(Q):null}catch(Ie){Q=Se,He&&(He=!1,Q={error:Ie,text:Q})}}He?(s.next(new ml({body:Q,headers:x,status:I,statusText:U,url:re||void 0})),s.complete()):s.error(new gl({error:Q,headers:x,status:I,statusText:U,url:re||void 0}))},m=x=>{let{url:I}=u(),U=new gl({error:x,status:a.status||0,statusText:a.statusText||"Unknown Error",url:I||void 0});s.error(U)},v=!1,b=x=>{v||(s.next(u()),v=!0);let I={type:mo.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(I.total=x.total),n.responseType==="text"&&a.responseText&&(I.partialText=a.responseText),s.next(I)},D=x=>{let I={type:mo.UploadProgress,loaded:x.loaded};x.lengthComputable&&(I.total=x.total),s.next(I)};return a.addEventListener("load",d),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),n.reportProgress&&(a.addEventListener("progress",b),c!==null&&a.upload&&a.upload.addEventListener("progress",D)),a.send(c),s.next({type:mo.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",d),a.removeEventListener("timeout",m),n.reportProgress&&(a.removeEventListener("progress",b),c!==null&&a.upload&&a.upload.removeEventListener("progress",D)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(N(ho))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),J0=new R(""),NM="XSRF-TOKEN",RM=new R("",{providedIn:"root",factory:()=>NM}),OM="X-XSRF-TOKEN",FM=new R("",{providedIn:"root",factory:()=>OM}),vl=class{},PM=(()=>{let e=class e{constructor(n,i,o){this.doc=n,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ll(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(N(Ye),N(Pt),N(RM))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function kM(t,e){let r=t.url.toLowerCase();if(!p(J0)||t.method==="GET"||t.method==="HEAD"||r.startsWith("http://")||r.startsWith("https://"))return e(t);let n=p(vl).getToken(),i=p(FM);return n!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,n)})),e(t)}var eb=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(eb||{});function LM(t,e){return{\u0275kind:t,\u0275providers:e}}function VM(...t){let e=[it,K0,Y0,{provide:hs,useExisting:Y0},{provide:pl,useExisting:K0},{provide:Nh,useValue:kM,multi:!0},{provide:J0,useValue:!0},{provide:vl,useClass:PM}];for(let r of t)e.push(...r.\u0275providers);return ro(e)}var Z0=new R("");function jM(){return LM(eb.LegacyInterceptors,[{provide:Z0,useFactory:MM},{provide:Nh,useExisting:Z0,multi:!0}])}var tb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=je({type:e}),e.\u0275inj=Ve({providers:[VM(jM())]});let t=e;return t})();var Fh=class extends sl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ph=class t extends Fh{static makeCurrent(){k0(new t)}onAndCancel(e,r,n){return e.addEventListener(r,n),()=>{e.removeEventListener(r,n)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,r){return r=r||this.getDefaultDocument(),r.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return r==="window"?window:r==="document"?e:r==="body"?e.body:null}getBaseHref(e){let r=BM();return r==null?null:$M(r)}resetBaseElement(){ms=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ll(document.cookie,e)}},ms=null;function BM(){return ms=ms||document.querySelector("base"),ms?ms.getAttribute("href"):null}function $M(t){return new URL(t,document.baseURI).pathname}var kh=class{addToWindow(e){Be.getAngularTestability=(n,i=!0)=>{let o=e.findTestabilityInTree(n,i);if(o==null)throw new E(5103,!1);return o},Be.getAllAngularTestabilities=()=>e.getAllTestabilities(),Be.getAllAngularRootElements=()=>e.getAllRootElements();let r=n=>{let i=Be.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&n()};i.forEach(a=>{a.whenStable(s)})};Be.frameworkStabilizers||(Be.frameworkStabilizers=[]),Be.frameworkStabilizers.push(r)}findTestabilityInTree(e,r,n){if(r==null)return null;let i=e.getTestability(r);return i??(n?jn().isShadowRoot(r)?this.findTestabilityInTree(e,r.host,!0):this.findTestabilityInTree(e,r.parentElement,!0):null)}},HM=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Lh=new R(""),ib=(()=>{let e=class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,o){return this._findPluginFor(i).addEventListener(n,i,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(s=>s.supports(n)),!i)throw new E(5101,!1);return this._eventNameToPlugin.set(n,i),i}};e.\u0275fac=function(i){return new(i||e)(N(Lh),N(he))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),bl=class{constructor(e){this._doc=e}},Rh="ng-app-id",ob=(()=>{let e=class e{constructor(n,i,o,s={}){this.doc=n,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Sh(s),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(o=>o.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Rh}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(n,i){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=i,s.usage}return o.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===n)return o.delete(i),s.removeAttribute(Rh),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Rh,this.appId),n.appendChild(a),a}}addStyleToHost(n,i){let o=this.getStyleElement(n,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(N(Ye),N(Nc),N(Ff,8),N(Pt))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Oh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jh=/%COMP%/g,sb="%COMP%",zM=`_nghost-${sb}`,qM=`_ngcontent-${sb}`,WM=!0,GM=new R("",{providedIn:"root",factory:()=>WM});function QM(t){return qM.replace(jh,t)}function YM(t){return zM.replace(jh,t)}function ab(t,e){return e.map(r=>r.replace(jh,t))}var wl=(()=>{let e=class e{constructor(n,i,o,s,a,c,l,u=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Sh(c),this.defaultRenderer=new gs(n,a,l,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Rn.ShadowDom&&(i=$(C({},i),{encapsulation:Rn.Emulated}));let o=this.getOrCreateRenderer(n,i);return o instanceof Cl?o.applyToHost(n):o instanceof ys&&o.applyStyles(),o}getOrCreateRenderer(n,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case Rn.Emulated:s=new Cl(l,u,i,this.appId,d,a,c,m);break;case Rn.ShadowDom:return new Vh(l,u,n,i,a,c,this.nonce,m);default:s=new ys(l,u,i,d,a,c,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(N(ib),N(ob),N(Nc),N(GM),N(Ye),N(Pt),N(he),N(Ff))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),gs=class{constructor(e,r,n,i){this.eventManager=e,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,r){return r?this.doc.createElementNS(Oh[r]||r,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,r){(nb(e)?e.content:e).appendChild(r)}insertBefore(e,r,n){e&&(nb(e)?e.content:e).insertBefore(r,n)}removeChild(e,r){e&&e.removeChild(r)}selectRootElement(e,r){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new E(-5104,!1);return r||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,n,i){if(i){r=i+":"+r;let o=Oh[i];o?e.setAttributeNS(o,r,n):e.setAttribute(r,n)}else e.setAttribute(r,n)}removeAttribute(e,r,n){if(n){let i=Oh[n];i?e.removeAttributeNS(i,r):e.removeAttribute(`${n}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,n,i){i&(Yn.DashCase|Yn.Important)?e.style.setProperty(r,n,i&Yn.Important?"important":""):e.style[r]=n}removeStyle(e,r,n){n&Yn.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,n){e!=null&&(e[r]=n)}setValue(e,r){e.nodeValue=r}listen(e,r,n){if(typeof e=="string"&&(e=jn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${r}`);return this.eventManager.addEventListener(e,r,this.decoratePreventDefault(n))}decoratePreventDefault(e){return r=>{if(r==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(r)):e(r))===!1&&r.preventDefault()}}};function nb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Vh=class extends gs{constructor(e,r,n,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=ab(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,n){return super.insertBefore(this.nodeOrShadowRoot(e),r,n)}removeChild(e,r){return super.removeChild(this.nodeOrShadowRoot(e),r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ys=class extends gs{constructor(e,r,n,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=c?ab(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Cl=class extends ys{constructor(e,r,n,i,o,s,a,c){let l=i+"-"+n.id;super(e,r,n,o,s,a,c,l),this.contentAttr=QM(l),this.hostAttr=YM(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,r){let n=super.createElement(e,r);return super.setAttribute(n,this.contentAttr,""),n}},KM=(()=>{let e=class e extends bl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,o){return n.addEventListener(i,o,!1),()=>this.removeEventListener(n,i,o)}removeEventListener(n,i,o){return n.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(N(Ye))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),rb=["alt","control","meta","shift"],ZM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XM={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},JM=(()=>{let e=class e extends bl{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jn().onAndCancel(n,s.domEventName,a))}static parseEventName(n){let i=n.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),rb.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(n,i){let o=ZM[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),rb.forEach(a=>{if(a!==o){let c=XM[a];c(n)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(n,i,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>i(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(i){return new(i||e)(N(Ye))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function eT(){Ph.makeCurrent()}function tT(){return new Pn}function nT(){return mv(document),document}var rT=[{provide:Pt,useValue:Eh},{provide:Rf,useValue:eT,multi:!0},{provide:Ye,useFactory:nT,deps:[]}],cb=ch(x0,"browser",rT),iT=new R(""),oT=[{provide:ds,useClass:kh,deps:[]},{provide:oh,useClass:qc,deps:[he,Wc,ds]},{provide:qc,useClass:qc,deps:[he,Wc,ds]}],sT=[{provide:Dc,useValue:"root"},{provide:Pn,useFactory:tT,deps:[]},{provide:Lh,useClass:KM,multi:!0,deps:[Ye,he,Pt]},{provide:Lh,useClass:JM,multi:!0,deps:[Ye]},wl,ob,ib,{provide:li,useExisting:wl},{provide:ho,useClass:HM,deps:[]},[]],_l=(()=>{let e=class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Nc,useValue:n.appId}]}}};e.\u0275fac=function(i){return new(i||e)(N(iT,12))},e.\u0275mod=je({type:e}),e.\u0275inj=Ve({providers:[...sT,...oT],imports:[dl,M0]});let t=e;return t})();var lb=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(i){return new(i||e)(N(Ye))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ub=new R("HammerLoader");var vs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:function(i){let o=null;return i?o=new(i||e):o=N(aT),o},providedIn:"root"});let t=e;return t})(),aT=(()=>{let e=class e extends vs{constructor(n){super(),this._doc=n}sanitize(n,i){if(i==null)return null;switch(n){case wn.NONE:return i;case wn.HTML:return Xn(i,"HTML")?bn(i):kf(this._doc,String(i)).toString();case wn.STYLE:return Xn(i,"Style")?bn(i):i;case wn.SCRIPT:if(Xn(i,"Script"))return bn(i);throw new E(5200,!1);case wn.URL:return Xn(i,"URL")?bn(i):Oc(String(i));case wn.RESOURCE_URL:if(Xn(i,"ResourceURL"))return bn(i);throw new E(5201,!1);default:throw new E(5202,!1)}}bypassSecurityTrustHtml(n){return bv(n)}bypassSecurityTrustStyle(n){return wv(n)}bypassSecurityTrustScript(n){return Cv(n)}bypassSecurityTrustUrl(n){return _v(n)}bypassSecurityTrustResourceUrl(n){return Dv(n)}};e.\u0275fac=function(i){return new(i||e)(N(Ye))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ee="primary",Os=Symbol("RouteTitle"),qh=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function wo(t){return new qh(t)}function cT(t,e,r){let n=r.path.split("/");if(n.length>t.length||r.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let i={};for(let o=0;o<n.length;o++){let s=n[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}function lT(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!Un(t[r],e[r]))return!1;return!0}function Un(t,e){let r=t?Wh(t):void 0,n=e?Wh(e):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let o=0;o<r.length;o++)if(i=r[o],!bb(t[i],e[i]))return!1;return!0}function Wh(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function bb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let r=[...t].sort(),n=[...e].sort();return r.every((i,o)=>n[o]===i)}else return t===e}function wb(t){return t.length>0?t[t.length-1]:null}function Or(t){return Vi(t)?t:Mr(t)?xe(Promise.resolve(t)):k(t)}var uT={exact:_b,subset:Db},Cb={exact:dT,subset:fT,ignored:()=>!0};function db(t,e,r){return uT[r.paths](t.root,e.root,r.matrixParams)&&Cb[r.queryParams](t.queryParams,e.queryParams)&&!(r.fragment==="exact"&&t.fragment!==e.fragment)}function dT(t,e){return Un(t,e)}function _b(t,e,r){if(!wi(t.segments,e.segments)||!Sl(t.segments,e.segments,r)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!_b(t.children[n],e.children[n],r))return!1;return!0}function fT(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(r=>bb(t[r],e[r]))}function Db(t,e,r){return Eb(t,e,e.segments,r)}function Eb(t,e,r,n){if(t.segments.length>r.length){let i=t.segments.slice(0,r.length);return!(!wi(i,r)||e.hasChildren()||!Sl(i,r,n))}else if(t.segments.length===r.length){if(!wi(t.segments,r)||!Sl(t.segments,r,n))return!1;for(let i in e.children)if(!t.children[i]||!Db(t.children[i],e.children[i],n))return!1;return!0}else{let i=r.slice(0,t.segments.length),o=r.slice(t.segments.length);return!wi(t.segments,i)||!Sl(t.segments,i,n)||!t.children[ee]?!1:Eb(t.children[ee],e,o,n)}}function Sl(t,e,r){return e.every((n,i)=>Cb[r](t[i].parameters,n.parameters))}var Ar=class{constructor(e=new we([],{}),r={},n=null){this.root=e,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap??=wo(this.queryParams),this._queryParamMap}toString(){return mT.serialize(this)}},we=class{constructor(e,r){this.segments=e,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Il(this)}},bi=class{constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap??=wo(this.parameters),this._parameterMap}toString(){return Ib(this)}};function hT(t,e){return wi(t,e)&&t.every((r,n)=>Un(r.parameters,e[n].parameters))}function wi(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.path===e[n].path)}function pT(t,e){let r=[];return Object.entries(t.children).forEach(([n,i])=>{n===ee&&(r=r.concat(e(i,n)))}),Object.entries(t.children).forEach(([n,i])=>{n!==ee&&(r=r.concat(e(i,n)))}),r}var Fs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>new Ss,providedIn:"root"});let t=e;return t})(),Ss=class{parse(e){let r=new Qh(e);return new Ar(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){let r=`/${bs(e.root,!0)}`,n=vT(e.queryParams),i=typeof e.fragment=="string"?`#${gT(e.fragment)}`:"";return`${r}${n}${i}`}},mT=new Ss;function Il(t){return t.segments.map(e=>Ib(e)).join("/")}function bs(t,e){if(!t.hasChildren())return Il(t);if(e){let r=t.children[ee]?bs(t.children[ee],!1):"",n=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ee&&n.push(`${i}:${bs(o,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}else{let r=pT(t,(n,i)=>i===ee?[bs(t.children[ee],!1)]:[`${i}:${bs(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[ee]!=null?`${Il(t)}/${r[0]}`:`${Il(t)}/(${r.join("//")})`}}function Sb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dl(t){return Sb(t).replace(/%3B/gi,";")}function gT(t){return encodeURI(t)}function Gh(t){return Sb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xl(t){return decodeURIComponent(t)}function fb(t){return xl(t.replace(/\+/g,"%20"))}function Ib(t){return`${Gh(t.path)}${yT(t.parameters)}`}function yT(t){return Object.entries(t).map(([e,r])=>`;${Gh(e)}=${Gh(r)}`).join("")}function vT(t){let e=Object.entries(t).map(([r,n])=>Array.isArray(n)?n.map(i=>`${Dl(r)}=${Dl(i)}`).join("&"):`${Dl(r)}=${Dl(n)}`).filter(r=>r);return e.length?`?${e.join("&")}`:""}var bT=/^[^\/()?;#]+/;function Bh(t){let e=t.match(bT);return e?e[0]:""}var wT=/^[^\/()?;=#]+/;function CT(t){let e=t.match(wT);return e?e[0]:""}var _T=/^[^=?&#]+/;function DT(t){let e=t.match(_T);return e?e[0]:""}var ET=/^[^&#]+/;function ST(t){let e=t.match(ET);return e?e[0]:""}var Qh=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(n[ee]=new we(e,r)),n}parseSegment(){let e=Bh(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(e),new bi(xl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let r=CT(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let i=Bh(this.remaining);i&&(n=i,this.capture(n))}e[xl(r)]=xl(n)}parseQueryParam(e){let r=DT(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let s=ST(this.remaining);s&&(n=s,this.capture(n))}let i=fb(r),o=fb(n);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Bh(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new E(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ee);let s=this.parseChildren();r[o]=Object.keys(s).length===1?s[ee]:new we([],s),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new E(4011,!1)}};function xb(t){return t.segments.length>0?new we([],{[ee]:t}):t}function Mb(t){let e={};for(let[n,i]of Object.entries(t.children)){let o=Mb(i);if(n===ee&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[n]=o)}let r=new we(t.segments,e);return IT(r)}function IT(t){if(t.numberOfChildren===1&&t.children[ee]){let e=t.children[ee];return new we(t.segments.concat(e.segments),e.children)}return t}function Co(t){return t instanceof Ar}function xT(t,e,r=null,n=null){let i=Tb(t);return Ab(i,e,r,n)}function Tb(t){let e;function r(o){let s={};for(let c of o.children){let l=r(c);s[c.outlet]=l}let a=new we(o.url,s);return o===t&&(e=a),a}let n=r(t.root),i=xb(n);return e??i}function Ab(t,e,r,n){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return $h(i,i,i,r,n);let o=MT(e);if(o.toRoot())return $h(i,i,new we([],{}),r,n);let s=TT(o,i,t),a=s.processChildren?_s(s.segmentGroup,s.index,o.commands):Rb(s.segmentGroup,s.index,o.commands);return $h(i,s.segmentGroup,a,r,n)}function Ml(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Is(t){return typeof t=="object"&&t!=null&&t.outlets}function $h(t,e,r,n,i){let o={};n&&Object.entries(n).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=r:s=Nb(t,e,r);let a=xb(Mb(s));return new Ar(a,o,i)}function Nb(t,e,r){let n={};return Object.entries(t.children).forEach(([i,o])=>{o===e?n[i]=r:n[i]=Nb(o,e,r)}),new we(t.segments,n)}var Tl=class{constructor(e,r,n){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=n,e&&n.length>0&&Ml(n[0]))throw new E(4003,!1);let i=n.find(Is);if(i&&i!==wb(n))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function MT(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Tl(!0,0,t);let e=0,r=!1,n=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?r=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Tl(r,e,n)}var vo=class{constructor(e,r,n){this.segmentGroup=e,this.processChildren=r,this.index=n}};function TT(t,e,r){if(t.isAbsolute)return new vo(e,!0,0);if(!r)return new vo(e,!1,NaN);if(r.parent===null)return new vo(r,!0,0);let n=Ml(t.commands[0])?0:1,i=r.segments.length-1+n;return AT(r,i,t.numberOfDoubleDots)}function AT(t,e,r){let n=t,i=e,o=r;for(;o>i;){if(o-=i,n=n.parent,!n)throw new E(4005,!1);i=n.segments.length}return new vo(n,!1,i-o)}function NT(t){return Is(t[0])?t[0].outlets:{[ee]:t}}function Rb(t,e,r){if(t??=new we([],{}),t.segments.length===0&&t.hasChildren())return _s(t,e,r);let n=RT(t,e,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let o=new we(t.segments.slice(0,n.pathIndex),{});return o.children[ee]=new we(t.segments.slice(n.pathIndex),t.children),_s(o,0,i)}else return n.match&&i.length===0?new we(t.segments,{}):n.match&&!t.hasChildren()?Yh(t,e,r):n.match?_s(t,0,i):Yh(t,e,r)}function _s(t,e,r){if(r.length===0)return new we(t.segments,{});{let n=NT(r),i={};if(Object.keys(n).some(o=>o!==ee)&&t.children[ee]&&t.numberOfChildren===1&&t.children[ee].segments.length===0){let o=_s(t.children[ee],e,r);return new we(t.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Rb(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{n[o]===void 0&&(i[o]=s)}),new we(t.segments,i)}}function RT(t,e,r){let n=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(n>=r.length)return o;let s=t.segments[i],a=r[n];if(Is(a))break;let c=`${a}`,l=n<r.length-1?r[n+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!pb(c,l,s))return o;n+=2}else{if(!pb(c,{},s))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function Yh(t,e,r){let n=t.segments.slice(0,e),i=0;for(;i<r.length;){let o=r[i];if(Is(o)){let c=OT(o.outlets);return new we(n,c)}if(i===0&&Ml(r[0])){let c=t.segments[e];n.push(new bi(c.path,hb(r[0]))),i++;continue}let s=Is(o)?o.outlets[ee]:`${o}`,a=i<r.length-1?r[i+1]:null;s&&a&&Ml(a)?(n.push(new bi(s,hb(a))),i+=2):(n.push(new bi(s,{})),i++)}return new we(n,{})}function OT(t){let e={};return Object.entries(t).forEach(([r,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[r]=Yh(new we([],{}),0,n))}),e}function hb(t){let e={};return Object.entries(t).forEach(([r,n])=>e[r]=`${n}`),e}function pb(t,e,r){return t==r.path&&Un(e,r.parameters)}var Ds="imperative",Je=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Je||{}),Zt=class{constructor(e,r){this.id=e,this.url=r}},_o=class extends Zt{constructor(e,r,n="imperative",i=null){super(e,r),this.type=Je.NavigationStart,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},xt=class extends Zt{constructor(e,r,n){super(e,r),this.urlAfterRedirects=n,this.type=Je.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Vt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Vt||{}),Al=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Al||{}),Nr=class extends Zt{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=Je.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Rr=class extends Zt{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=Je.NavigationSkipped}},xs=class extends Zt{constructor(e,r,n,i){super(e,r),this.error=n,this.target=i,this.type=Je.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Nl=class extends Zt{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Je.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kh=class extends Zt{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Je.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zh=class extends Zt{constructor(e,r,n,i,o){super(e,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=Je.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Xh=class extends Zt{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Je.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jh=class extends Zt{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Je.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ep=class{constructor(e){this.route=e,this.type=Je.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},tp=class{constructor(e){this.route=e,this.type=Je.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},np=class{constructor(e){this.snapshot=e,this.type=Je.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rp=class{constructor(e){this.snapshot=e,this.type=Je.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ip=class{constructor(e){this.snapshot=e,this.type=Je.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},op=class{constructor(e){this.snapshot=e,this.type=Je.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rl=class{constructor(e,r,n){this.routerEvent=e,this.position=r,this.anchor=n,this.type=Je.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ms=class{},Ts=class{constructor(e){this.url=e}};var sp=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ps,this.attachRef=null}},Ps=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){let o=this.getOrCreateContext(n);o.outlet=i,this.contexts.set(n,o)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new sp,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ol=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){let r=ap(e,this._root);return r?r.children.map(n=>n.value):[]}firstChild(e){let r=ap(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){let r=cp(e,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return cp(e,this._root).map(r=>r.value)}};function ap(t,e){if(t===e.value)return e;for(let r of e.children){let n=ap(t,r);if(n)return n}return null}function cp(t,e){if(t===e.value)return[e];for(let r of e.children){let n=cp(t,r);if(n.length)return n.unshift(e),n}return[]}var Lt=class{constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}};function yo(t){let e={};return t&&t.children.forEach(r=>e[r.value.outlet]=r),e}var Fl=class extends Ol{constructor(e,r){super(e),this.snapshot=r,vp(this,e)}toString(){return this.snapshot.toString()}};function Ob(t){let e=FT(t),r=new Le([new bi("",{})]),n=new Le({}),i=new Le({}),o=new Le({}),s=new Le(""),a=new jt(r,n,o,s,i,ee,t,e.root);return a.snapshot=e.root,new Fl(new Lt(a,[]),e)}function FT(t){let e={},r={},n={},i="",o=new As([],e,n,i,r,ee,t,null,{});return new Pl("",new Lt(o,[]))}var jt=class{constructor(e,r,n,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(j(l=>l[Os]))??k(void 0),this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(e=>wo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(e=>wo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function yp(t,e,r="emptyOnly"){let n,{routeConfig:i}=t;return e!==null&&(r==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:C(C({},e.params),t.params),data:C(C({},e.data),t.data),resolve:C(C(C(C({},t.data),e.data),i?.data),t._resolvedData)}:n={params:C({},t.params),data:C({},t.data),resolve:C(C({},t.data),t._resolvedData??{})},i&&Pb(i)&&(n.resolve[Os]=i.title),n}var As=class{get title(){return this.data?.[Os]}constructor(e,r,n,i,o,s,a,c,l){this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${r}')`}},Pl=class extends Ol{constructor(e,r){super(r),this.url=e,vp(this,r)}toString(){return Fb(this._root)}};function vp(t,e){e.value._routerState=t,e.children.forEach(r=>vp(t,r))}function Fb(t){let e=t.children.length>0?` { ${t.children.map(Fb).join(", ")} } `:"";return`${t.value}${e}`}function Hh(t){if(t.snapshot){let e=t.snapshot,r=t._futureSnapshot;t.snapshot=r,Un(e.queryParams,r.queryParams)||t.queryParamsSubject.next(r.queryParams),e.fragment!==r.fragment&&t.fragmentSubject.next(r.fragment),Un(e.params,r.params)||t.paramsSubject.next(r.params),lT(e.url,r.url)||t.urlSubject.next(r.url),Un(e.data,r.data)||t.dataSubject.next(r.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function lp(t,e){let r=Un(t.params,e.params)&&hT(t.url,e.url),n=!t.parent!=!e.parent;return r&&!n&&(!t.parent||lp(t.parent,e.parent))}function Pb(t){return typeof t.title=="string"||t.title===null}var ks=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new De,this.deactivateEvents=new De,this.attachEvents=new De,this.detachEvents=new De,this.parentContexts=p(Ps),this.location=p(Ir),this.changeDetector=p(nr),this.environmentInjector=p(mt),this.inputBinder=p(Ul,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:o}=n.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=n;let o=this.location,a=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new up(n,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=at({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[kn]});let t=e;return t})(),up=class{constructor(e,r,n){this.route=e,this.childContexts=r,this.parent=n}get(e,r){return e===jt?this.route:e===Ps?this.childContexts:this.parent.get(e,r)}},Ul=new R(""),mb=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,o=ln([i.queryParams,i.params,i.data]).pipe(_e(([s,a,c],l)=>(c=C(C(C({},s),a),c),l===0?k(c):Promise.resolve(c)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let a=T0(i.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:c}of a.inputs)n.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(n,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function PT(t,e,r){let n=Ns(t,e._root,r?r._root:void 0);return new Fl(n,e)}function Ns(t,e,r){if(r&&t.shouldReuseRoute(e.value,r.value.snapshot)){let n=r.value;n._futureSnapshot=e.value;let i=kT(t,e,r);return new Lt(n,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ns(t,a)),s}}let n=LT(e.value),i=e.children.map(o=>Ns(t,o));return new Lt(n,i)}}function kT(t,e,r){return e.children.map(n=>{for(let i of r.children)if(t.shouldReuseRoute(n.value,i.value.snapshot))return Ns(t,n,i);return Ns(t,n)})}function LT(t){return new jt(new Le(t.url),new Le(t.params),new Le(t.queryParams),new Le(t.fragment),new Le(t.data),t.outlet,t.component,t)}var kb="ngNavigationCancelingError";function Lb(t,e){let{redirectTo:r,navigationBehaviorOptions:n}=Co(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Vb(!1,Vt.Redirect);return i.url=r,i.navigationBehaviorOptions=n,i}function Vb(t,e){let r=new Error(`NavigationCancelingError: ${t||""}`);return r[kb]=!0,r.cancellationCode=e,r}function VT(t){return jb(t)&&Co(t.url)}function jb(t){return!!t&&t[kb]}var jT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=q({type:e,selectors:[["ng-component"]],standalone:!0,features:[y0],decls:1,vars:0,template:function(i,o){i&1&&A(0,"router-outlet")},dependencies:[ks],encapsulation:2});let t=e;return t})();function UT(t,e){return t.providers&&!t._injector&&(t._injector=Uc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function bp(t){let e=t.children&&t.children.map(bp),r=e?$(C({},t),{children:e}):C({},t);return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==ee&&(r.component=jT),r}function Bn(t){return t.outlet||ee}function BT(t,e){let r=t.filter(n=>Bn(n)===e);return r.push(...t.filter(n=>Bn(n)!==e)),r}function Ls(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let r=e.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var $T=(t,e,r,n)=>j(i=>(new dp(e,i.targetRouterState,i.currentRouterState,r,n).activate(t),i)),dp=class{constructor(e,r,n,i,o){this.routeReuseStrategy=e,this.futureState=r,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,e),Hh(this.futureState.root),this.activateChildRoutes(r,n,e)}deactivateChildRoutes(e,r,n){let i=yo(r);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],n),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,r,n){let i=e.value,o=r?r.value:null;if(i===o)if(i.component){let s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(e,r,s.children)}else this.deactivateChildRoutes(e,r,n);else o&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,o=yo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,o=yo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,r,n){let i=yo(r);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new op(o.value.snapshot))}),e.children.length&&this.forwardEvent(new rp(e.value.snapshot))}activateRoutes(e,r,n){let i=e.value,o=r?r.value:null;if(Hh(i),i===o)if(i.component){let s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,r,s.children)}else this.activateChildRoutes(e,r,n);else if(i.component){let s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Hh(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Ls(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}},kl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},bo=class{constructor(e,r){this.component=e,this.route=r}};function HT(t,e,r){let n=t._root,i=e?e._root:null;return ws(n,i,r,[n.value])}function zT(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Eo(t,e){let r=Symbol(),n=e.get(t,r);return n===r?typeof t=="function"&&!sy(t)?t:e.get(t):n}function ws(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=yo(e);return t.children.forEach(s=>{qT(s,o[s.value.outlet],r,n.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Es(a,r.getContext(s),i)),i}function qT(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=r?r.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=WT(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new kl(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ws(t,e,a?a.children:null,n,i):ws(t,e,r,n,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new bo(a.outlet.component,s))}else s&&Es(e,a,i),i.canActivateChecks.push(new kl(n)),o.component?ws(t,null,a?a.children:null,n,i):ws(t,null,r,n,i);return i}function WT(t,e,r){if(typeof r=="function")return r(t,e);switch(r){case"pathParamsChange":return!wi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!wi(t.url,e.url)||!Un(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lp(t,e)||!Un(t.queryParams,e.queryParams);case"paramsChange":default:return!lp(t,e)}}function Es(t,e,r){let n=yo(t),i=t.value;Object.entries(n).forEach(([o,s])=>{i.component?e?Es(s,e.children.getContext(o),r):Es(s,null,r):Es(s,e,r)}),i.component?e&&e.outlet&&e.outlet.isActivated?r.canDeactivateChecks.push(new bo(e.outlet.component,i)):r.canDeactivateChecks.push(new bo(null,i)):r.canDeactivateChecks.push(new bo(null,i))}function Vs(t){return typeof t=="function"}function GT(t){return typeof t=="boolean"}function QT(t){return t&&Vs(t.canLoad)}function YT(t){return t&&Vs(t.canActivate)}function KT(t){return t&&Vs(t.canActivateChild)}function ZT(t){return t&&Vs(t.canDeactivate)}function XT(t){return t&&Vs(t.canMatch)}function Ub(t){return t instanceof cn||t?.name==="EmptyError"}var El=Symbol("INITIAL_VALUE");function Do(){return _e(t=>ln(t.map(e=>e.pipe(Me(1),Yu(El)))).pipe(j(e=>{for(let r of e)if(r!==!0){if(r===El)return El;if(r===!1||r instanceof Ar)return r}return!0}),Fe(e=>e!==El),Me(1)))}function JT(t,e){return Pe(r=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=r;return s.length===0&&o.length===0?k($(C({},r),{guardsResult:!0})):eA(s,n,i,t).pipe(Pe(a=>a&&GT(a)?tA(n,o,t,e):k(a)),j(a=>$(C({},r),{guardsResult:a})))})}function eA(t,e,r,n){return xe(t).pipe(Pe(i=>sA(i.component,i.route,r,e,n)),Ht(i=>i!==!0,!0))}function tA(t,e,r,n){return xe(e).pipe(Tn(i=>Mn(rA(i.route.parent,n),nA(i.route,n),oA(t,i.path,r),iA(t,i.route,r))),Ht(i=>i!==!0,!0))}function nA(t,e){return t!==null&&e&&e(new ip(t)),k(!0)}function rA(t,e){return t!==null&&e&&e(new np(t)),k(!0)}function iA(t,e,r){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return k(!0);let i=n.map(o=>Gr(()=>{let s=Ls(e)??r,a=Eo(o,s),c=YT(a)?a.canActivate(e,t):gn(s,()=>a(e,t));return Or(c).pipe(Ht())}));return k(i).pipe(Do())}function oA(t,e,r){let n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>zT(s)).filter(s=>s!==null).map(s=>Gr(()=>{let a=s.guards.map(c=>{let l=Ls(s.node)??r,u=Eo(c,l),d=KT(u)?u.canActivateChild(n,t):gn(l,()=>u(n,t));return Or(d).pipe(Ht())});return k(a).pipe(Do())}));return k(o).pipe(Do())}function sA(t,e,r,n,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return k(!0);let s=o.map(a=>{let c=Ls(e)??i,l=Eo(a,c),u=ZT(l)?l.canDeactivate(t,e,r,n):gn(c,()=>l(t,e,r,n));return Or(u).pipe(Ht())});return k(s).pipe(Do())}function aA(t,e,r,n){let i=e.canLoad;if(i===void 0||i.length===0)return k(!0);let o=i.map(s=>{let a=Eo(s,t),c=QT(a)?a.canLoad(e,r):gn(t,()=>a(e,r));return Or(c)});return k(o).pipe(Do(),Bb(n))}function Bb(t){return Ru(ie(e=>{if(Co(e))throw Lb(t,e)}),j(e=>e===!0))}function cA(t,e,r,n){let i=e.canMatch;if(!i||i.length===0)return k(!0);let o=i.map(s=>{let a=Eo(s,t),c=XT(a)?a.canMatch(e,r):gn(t,()=>a(e,r));return Or(c)});return k(o).pipe(Do(),Bb(n))}var Rs=class{constructor(e){this.segmentGroup=e||null}},Ll=class extends Error{constructor(e){super(),this.urlTree=e}};function go(t){return Ct(new Rs(t))}function lA(t){return Ct(new E(4e3,!1))}function uA(t){return Ct(Vb(!1,Vt.GuardRejected))}var fp=class{constructor(e,r){this.urlSerializer=e,this.urlTree=r}lineralizeSegments(e,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return k(n);if(i.numberOfChildren>1||!i.children[ee])return lA(e.redirectTo);i=i.children[ee]}}applyRedirectCommands(e,r,n){let i=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),e,n);if(r.startsWith("/"))throw new Ll(i);return i}applyRedirectCreateUrlTree(e,r,n,i){let o=this.createSegmentGroup(e,r.root,n,i);return new Ar(o,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){let n={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);n[i]=r[a]}else n[i]=o}),n}createSegmentGroup(e,r,n,i){let o=this.createSegments(e,r.segments,n,i),s={};return Object.entries(r.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,n,i)}),new we(o,s)}createSegments(e,r,n,i){return r.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,n))}findPosParam(e,r,n){let i=n[r.path.substring(1)];if(!i)throw new E(4001,!1);return i}findOrReturn(e,r){let n=0;for(let i of r){if(i.path===e.path)return r.splice(n),i;n++}return e}},hp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dA(t,e,r,n,i){let o=wp(t,e,r);return o.matched?(n=UT(e,n),cA(n,e,r,i).pipe(j(s=>s===!0?o:C({},hp)))):k(o)}function wp(t,e,r){if(e.path==="**")return fA(r);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||r.length>0)?C({},hp):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let i=(e.matcher||cT)(r,t,e);if(!i)return C({},hp);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?C(C({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function fA(t){return{matched:!0,parameters:t.length>0?wb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function gb(t,e,r,n){return r.length>0&&mA(t,r,n)?{segmentGroup:new we(e,pA(n,new we(r,t.children))),slicedSegments:[]}:r.length===0&&gA(t,r,n)?{segmentGroup:new we(t.segments,hA(t,r,n,t.children)),slicedSegments:r}:{segmentGroup:new we(t.segments,t.children),slicedSegments:r}}function hA(t,e,r,n){let i={};for(let o of r)if(Bl(t,e,o)&&!n[Bn(o)]){let s=new we([],{});i[Bn(o)]=s}return C(C({},n),i)}function pA(t,e){let r={};r[ee]=e;for(let n of t)if(n.path===""&&Bn(n)!==ee){let i=new we([],{});r[Bn(n)]=i}return r}function mA(t,e,r){return r.some(n=>Bl(t,e,n)&&Bn(n)!==ee)}function gA(t,e,r){return r.some(n=>Bl(t,e,n))}function Bl(t,e,r){return(t.hasChildren()||e.length>0)&&r.pathMatch==="full"?!1:r.path===""}function yA(t,e,r,n){return Bn(t)!==n&&(n===ee||!Bl(e,r,t))?!1:wp(e,t,r).matched}function vA(t,e,r){return e.length===0&&!t.children[r]}var pp=class{};function bA(t,e,r,n,i,o,s="emptyOnly"){return new mp(t,e,r,n,i,s,o).recognize()}var wA=31,mp=class{constructor(e,r,n,i,o,s,a){this.injector=e,this.configLoader=r,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new fp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new E(4002,`'${e.segmentGroup}'`)}recognize(){let e=gb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(j(r=>{let n=new As([],Object.freeze({}),Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,{},ee,this.rootComponentType,null,{}),i=new Lt(n,r),o=new Pl("",i),s=xT(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ee).pipe(tt(n=>{if(n instanceof Ll)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Rs?this.noMatchError(n):n}))}inheritParamsAndData(e,r){let n=e.value,i=yp(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(e,r,n,i){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,r,n):this.processSegment(e,r,n,n.segments,i,!0).pipe(j(o=>o instanceof Lt?[o]:[]))}processChildren(e,r,n){let i=[];for(let o of Object.keys(n.children))o==="primary"?i.unshift(o):i.push(o);return xe(i).pipe(Tn(o=>{let s=n.children[o],a=BT(r,o);return this.processSegmentGroup(e,a,s,o)}),Wu((o,s)=>(o.push(...s),o)),yr(null),zu(),Pe(o=>{if(o===null)return go(n);let s=$b(o);return CA(s),k(s)}))}processSegment(e,r,n,i,o,s){return xe(r).pipe(Tn(a=>this.processSegmentAgainstRoute(a._injector??e,r,a,n,i,o,s).pipe(tt(c=>{if(c instanceof Rs)return k(null);throw c}))),Ht(a=>!!a),tt(a=>{if(Ub(a))return vA(n,i,o)?k(new pp):go(n);throw a}))}processSegmentAgainstRoute(e,r,n,i,o,s,a){return yA(n,i,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,n,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,r,n,o,s):go(i):go(i)}expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=wp(r,i,o);if(!a)return go(r);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>wA&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(Pe(m=>this.processSegment(e,n,r,m.concat(u),s,!1)))}matchSegmentAgainstRoute(e,r,n,i,o){let s=dA(r,n,i,e,this.urlSerializer);return n.path==="**"&&(r.children={}),s.pipe(_e(a=>a.matched?(e=n._injector??e,this.getChildConfig(e,n,i).pipe(_e(({routes:c})=>{let l=n._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:m}=a,v=new As(u,m,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,DA(n),Bn(n),n.component??n._loadedComponent??null,n,EA(n)),{segmentGroup:b,slicedSegments:D}=gb(r,u,d,c);if(D.length===0&&b.hasChildren())return this.processChildren(l,c,b).pipe(j(I=>I===null?null:new Lt(v,I)));if(c.length===0&&D.length===0)return k(new Lt(v,[]));let x=Bn(n)===o;return this.processSegment(l,c,b,D,x?ee:o,!0).pipe(j(I=>new Lt(v,I instanceof Lt?[I]:[])))}))):go(r)))}getChildConfig(e,r,n){return r.children?k({routes:r.children,injector:e}):r.loadChildren?r._loadedRoutes!==void 0?k({routes:r._loadedRoutes,injector:r._loadedInjector}):aA(e,r,n,this.urlSerializer).pipe(Pe(i=>i?this.configLoader.loadChildren(e,r).pipe(ie(o=>{r._loadedRoutes=o.routes,r._loadedInjector=o.injector})):uA(r))):k({routes:[],injector:e})}};function CA(t){t.sort((e,r)=>e.value.outlet===ee?-1:r.value.outlet===ee?1:e.value.outlet.localeCompare(r.value.outlet))}function _A(t){let e=t.value.routeConfig;return e&&e.path===""}function $b(t){let e=[],r=new Set;for(let n of t){if(!_A(n)){e.push(n);continue}let i=e.find(o=>n.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...n.children),r.add(i)):e.push(n)}for(let n of r){let i=$b(n.children);e.push(new Lt(n.value,i))}return e.filter(n=>!r.has(n))}function DA(t){return t.data||{}}function EA(t){return t.resolve||{}}function SA(t,e,r,n,i,o){return Pe(s=>bA(t,e,r,n,s.extractedUrl,i,o).pipe(j(({state:a,tree:c})=>$(C({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function IA(t,e){return Pe(r=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return k(r);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of Hb(c))s.add(l);let a=0;return xe(s).pipe(Tn(c=>o.has(c)?xA(c,n,t,e):(c.data=yp(c,c.parent,t).resolve,k(void 0))),ie(()=>a++),Bi(1),Pe(c=>a===s.size?k(r):Ge))})}function Hb(t){let e=t.children.map(r=>Hb(r)).flat();return[t,...e]}function xA(t,e,r,n){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Pb(i)&&(o[Os]=i.title),MA(o,t,e,n).pipe(j(s=>(t._resolvedData=s,t.data=yp(t,t.parent,r).resolve,null)))}function MA(t,e,r,n){let i=Wh(t);if(i.length===0)return k({});let o={};return xe(i).pipe(Pe(s=>TA(t[s],e,r,n).pipe(Ht(),ie(a=>{o[s]=a}))),Bi(1),qo(o),tt(s=>Ub(s)?Ge:Ct(s)))}function TA(t,e,r,n){let i=Ls(e)??n,o=Eo(t,i),s=o.resolve?o.resolve(e,r):gn(i,()=>o(e,r));return Or(s)}function zh(t){return _e(e=>{let r=t(e);return r?xe(r).pipe(j(()=>e)):k(e)})}var zb=(()=>{let e=class e{buildTitle(n){let i,o=n.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===ee);return i}getResolvedTitleForRoute(n){return n.data[Os]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>p(AA),providedIn:"root"});let t=e;return t})(),AA=(()=>{let e=class e extends zb{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(N(lb))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),js=new R("",{providedIn:"root",factory:()=>({})}),Vl=new R(""),Cp=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=p(Qc)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return k(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Or(n.loadComponent()).pipe(j(qb),ie(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Rt(()=>{this.componentLoaders.delete(n)})),o=new fr(i,()=>new ge).pipe(Fi());return this.componentLoaders.set(n,o),o}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return k({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=NA(i,this.compiler,n,this.onLoadEndListener).pipe(Rt(()=>{this.childrenLoaders.delete(i)})),a=new fr(s,()=>new ge).pipe(Fi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NA(t,e,r,n){return Or(t.loadChildren()).pipe(j(qb),Pe(i=>i instanceof ts||Array.isArray(i)?k(i):xe(e.compileModuleAsync(i))),j(i=>{n&&n(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(r).injector,s=o.get(Vl,[],{optional:!0,self:!0}).flat()),{routes:s.map(bp),injector:o}}))}function RA(t){return t&&typeof t=="object"&&"default"in t}function qb(t){return RA(t)?t.default:t}var _p=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>p(OA),providedIn:"root"});let t=e;return t})(),OA=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wb=new R(""),Gb=new R("");function FA(t,e,r){let n=t.get(Gb),i=t.get(Ye);return t.get(he).runOutsideAngular(()=>{if(!i.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),PA(t))),{onViewTransitionCreated:c}=n;return c&&gn(t,()=>c({transition:a,from:e,to:r})),s})}function PA(t){return new Promise(e=>{Kf(e,{injector:t})})}var Dp=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ge,this.transitionAbortSubject=new ge,this.configLoader=p(Cp),this.environmentInjector=p(mt),this.urlSerializer=p(Fs),this.rootContexts=p(Ps),this.location=p(po),this.inputBindingEnabled=p(Ul,{optional:!0})!==null,this.titleStrategy=p(zb),this.options=p(js,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=p(_p),this.createViewTransition=p(Wb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>k(void 0),this.rootComponentType=null;let n=o=>this.events.next(new ep(o)),i=o=>this.events.next(new tp(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next($(C(C({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,o){return this.transitions=new Le({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ds,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Fe(s=>s.id!==0),j(s=>$(C({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),_e(s=>{let a=!1,c=!1;return k(s).pipe(_e(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Vt.SupersededByNewNavigation),Ge;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?$(C({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){let m="";return this.events.next(new Rr(l.id,this.urlSerializer.serialize(l.rawUrl),m,Al.IgnoredSameUrlNavigation)),l.resolve(null),Ge}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return k(l).pipe(_e(m=>{let v=this.transitions?.getValue();return this.events.next(new _o(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?Ge:Promise.resolve(m)}),SA(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ie(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=$(C({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new Nl(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:v,source:b,restoredState:D,extras:x}=l,I=new _o(m,this.urlSerializer.serialize(v),b,D);this.events.next(I);let U=Ob(this.rootComponentType).snapshot;return this.currentTransition=s=$(C({},l),{targetSnapshot:U,urlAfterRedirects:v,extras:$(C({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,k(s)}else{let m="";return this.events.next(new Rr(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Al.IgnoredByUrlHandlingStrategy)),l.resolve(null),Ge}}),ie(l=>{let u=new Kh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),j(l=>(this.currentTransition=s=$(C({},l),{guards:HT(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),JT(this.environmentInjector,l=>this.events.next(l)),ie(l=>{if(s.guardsResult=l.guardsResult,Co(l.guardsResult))throw Lb(this.urlSerializer,l.guardsResult);let u=new Zh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Fe(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Vt.GuardRejected),!1)),zh(l=>{if(l.guards.canActivateChecks.length)return k(l).pipe(ie(u=>{let d=new Xh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),_e(u=>{let d=!1;return k(u).pipe(IA(this.paramsInheritanceStrategy,this.environmentInjector),ie({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Vt.NoDataFromResolver)}}))}),ie(u=>{let d=new Jh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),zh(l=>{let u=d=>{let m=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(d.routeConfig).pipe(ie(v=>{d.component=v}),j(()=>{})));for(let v of d.children)m.push(...u(v));return m};return ln(u(l.targetSnapshot.root)).pipe(yr(null),Me(1))}),zh(()=>this.afterPreactivation()),_e(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?xe(d).pipe(j(()=>s)):k(s)}),j(l=>{let u=PT(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=$(C({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),ie(()=>{this.events.next(new Ms)}),$T(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Me(1),ie({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xt(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),dn(this.transitionAbortSubject.pipe(ie(l=>{throw l}))),Rt(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",Vt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),tt(l=>{if(c=!0,jb(l))this.events.next(new Nr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),VT(l)?this.events.next(new Ts(l.url)):s.resolve(!1);else{this.events.next(new xs(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Ge}))}))}cancelNavigationTransition(n,i,o){let s=new Nr(n.id,this.urlSerializer.serialize(n.extractedUrl),i,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kA(t){return t!==Ds}var LA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>p(VA),providedIn:"root"});let t=e;return t})(),gp=class{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}},VA=(()=>{let e=class e extends gp{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=oo(e)))(o||e)}})(),e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>p(jA),providedIn:"root"});let t=e;return t})(),jA=(()=>{let e=class e extends Qb{constructor(){super(...arguments),this.location=p(po),this.urlSerializer=p(Fs),this.options=p(js,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=p(_p),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ar,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ob(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof _o)this.stateMemento=this.createStateMemento();else if(n instanceof Rr)this.rawUrlTree=i.initialUrl;else if(n instanceof Nl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else n instanceof Ms?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):n instanceof Nr&&(n.code===Vt.GuardRejected||n.code===Vt.NoDataFromResolver)?this.restoreHistory(i):n instanceof xs?this.restoreHistory(i,!0):n instanceof xt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=C(C({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=C(C({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=oo(e)))(o||e)}})(),e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cs=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Cs||{});function Yb(t,e){t.events.pipe(Fe(r=>r instanceof xt||r instanceof Nr||r instanceof xs||r instanceof Rr),j(r=>r instanceof xt||r instanceof Rr?Cs.COMPLETE:(r instanceof Nr?r.code===Vt.Redirect||r.code===Vt.SupersededByNewNavigation:!1)?Cs.REDIRECTING:Cs.FAILED),Fe(r=>r!==Cs.REDIRECTING),Me(1)).subscribe(()=>{e()})}function UA(t){throw t}var BA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$A={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},me=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=p(zc),this.stateManager=p(Qb),this.options=p(js,{optional:!0})||{},this.pendingTasks=p(gi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=p(Dp),this.urlSerializer=p(Fs),this.location=p(po),this.urlHandlingStrategy=p(_p),this._events=new ge,this.errorHandler=this.options.errorHandler||UA,this.navigated=!1,this.routeReuseStrategy=p(LA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=p(Vl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!p(Ul,{optional:!0}),this.eventsSubscription=new se,this.isNgZoneEnabled=p(he)instanceof he&&he.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Nr&&i.code!==Vt.Redirect&&i.code!==Vt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof xt)this.navigated=!0;else if(i instanceof Ts){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||kA(o.source)};this.scheduleNavigation(a,Ds,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}zA(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ds,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=C({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(n);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(bp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=C(C({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let m;try{let v=o?o.snapshot:this.routerState.snapshot.root;m=Tb(v)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),m=this.currentUrlTree.root}return Ab(m,n,d,u??null)}navigateByUrl(n,i={skipLocationChange:!1}){let o=Co(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Ds,null,i)}navigate(n,i={skipLocationChange:!1}){return HA(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let o;if(i===!0?o=C({},BA):i===!1?o=C({},$A):o=i,Co(n))return db(this.currentUrlTree,n,o);let s=this.parseUrl(n);return db(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(n,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((m,v)=>{c=m,l=v});let d=this.pendingTasks.add();return Yb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HA(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new E(4008,!1)}function zA(t){return!(t instanceof Ms)&&!(t instanceof Ts)}var $n=(()=>{let e=class e{constructor(n,i,o,s,a,c){this.router=n,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new ge,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof xt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,i,o,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let i=this.href===null?null:Av(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(n,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,n,i):o.removeAttribute(s,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(L(me),L(jt),Nf("tabindex"),L(pi),L(vn),L(sr))},e.\u0275dir=at({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&M("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&yi("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[st.HasDecoratorInputTransform,"preserveFragment","preserveFragment",fo],skipLocationChange:[st.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",fo],replaceUrl:[st.HasDecoratorInputTransform,"replaceUrl","replaceUrl",fo],routerLink:"routerLink"},standalone:!0,features:[eh,kn]});let t=e;return t})();var jl=class{};var qA=(()=>{let e=class e{constructor(n,i,o,s,a){this.router=n,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Fe(n=>n instanceof xt),Tn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Uc(s.providers,n,`Route: ${s.path}`));let a=s._injector??n,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return xe(o).pipe(gr())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(n,i):o=k(null);let s=o.pipe(Pe(a=>a===null?k(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return xe([s,a]).pipe(gr())}else return s})}};e.\u0275fac=function(i){return new(i||e)(N(me),N(Qc),N(mt),N(jl),N(Cp))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Kb=new R(""),WA=(()=>{let e=class e{constructor(n,i,o,s,a={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof _o?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof xt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Rr&&n.code===Al.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Rl&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Rl(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){Hv()},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function GA(t){return t.routerState.root}function Us(t,e){return{\u0275kind:t,\u0275providers:e}}function QA(){let t=p(St);return e=>{let r=t.get(tr);if(e!==r.components[0])return;let n=t.get(me),i=t.get(Zb);t.get(Ep)===1&&n.initialNavigation(),t.get(Xb,null,oe.Optional)?.setUpPreloading(),t.get(Kb,null,oe.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Zb=new R("",{factory:()=>new ge}),Ep=new R("",{providedIn:"root",factory:()=>1});function YA(){return Us(2,[{provide:Ep,useValue:0},{provide:lo,multi:!0,deps:[St],useFactory:e=>{let r=e.get(L0,Promise.resolve());return()=>r.then(()=>new Promise(n=>{let i=e.get(me),o=e.get(Zb);Yb(i,()=>{n(!0)}),e.get(Dp).afterPreactivation=()=>(n(!0),o.closed?k(void 0):o),i.initialNavigation()}))}}])}function KA(){return Us(3,[{provide:lo,multi:!0,useFactory:()=>{let e=p(me);return()=>{e.setUpLocationChangeListener()}}},{provide:Ep,useValue:2}])}var Xb=new R("");function ZA(t){return Us(0,[{provide:Xb,useExisting:qA},{provide:jl,useExisting:t}])}function XA(){return Us(8,[mb,{provide:Ul,useExisting:mb}])}function JA(t){let e=[{provide:Wb,useValue:FA},{provide:Gb,useValue:C({skipNextTransition:!!t?.skipInitialTransition},t)}];return Us(9,e)}var yb=new R("ROUTER_FORROOT_GUARD"),eN=[po,{provide:Fs,useClass:Ss},me,Ps,{provide:jt,useFactory:GA,deps:[me]},Cp,[]],Sp=(()=>{let e=class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[eN,[],{provide:Vl,multi:!0,useValue:n},{provide:yb,useFactory:iN,deps:[[me,new Cc,new pf]]},{provide:js,useValue:i||{}},i?.useHash?nN():rN(),tN(),i?.preloadingStrategy?ZA(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?oN(i):[],i?.bindToComponentInputs?XA().\u0275providers:[],i?.enableViewTransitions?JA().\u0275providers:[],sN()]}}static forChild(n){return{ngModule:e,providers:[{provide:Vl,multi:!0,useValue:n}]}}};e.\u0275fac=function(i){return new(i||e)(N(yb,8))},e.\u0275mod=je({type:e}),e.\u0275inj=Ve({});let t=e;return t})();function tN(){return{provide:Kb,useFactory:()=>{let t=p(z0),e=p(he),r=p(js),n=p(Dp),i=p(Fs);return r.scrollOffset&&t.setOffset(r.scrollOffset),new WA(i,n,t,e,r)}}}function nN(){return{provide:sr,useClass:j0}}function rN(){return{provide:sr,useClass:_h}}function iN(t){return"guarded"}function oN(t){return[t.initialNavigation==="disabled"?KA().\u0275providers:[],t.initialNavigation==="enabledBlocking"?YA().\u0275providers:[]]}var vb=new R("");function sN(){return[{provide:vb,useFactory:QA},{provide:Gc,multi:!0,useExisting:vb}]}function Ip(t,e){let r=!e?.manualCleanup;r&&!e?.injector&&bf(Ip);let n=r?e?.injector?.get(so)??p(so):null,i;e?.requireSync?i=Jf({kind:0}):i=Jf({kind:1,value:e?.initialValue});let o=t.subscribe({next:s=>i.set({kind:1,value:s}),error:s=>{if(e?.rejectErrors)throw s;i.set({kind:2,error:s})}});return n?.onDestroy(o.unsubscribe.bind(o)),Kc(()=>{let s=i();switch(s.kind){case 1:return s.value;case 2:throw s.error;case 0:throw new E(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}function Bs(t,e,r){let n=typeof t=="function"?{next:t,error:e,complete:r}:t;return i=>i.pipe(ie({next:n.next,complete:n.complete}),tt(o=>(n.error(o),Ge)),n.finalize?Rt(n.finalize):o=>o)}function aN(){return t=>new K(e=>{let r,n,i=new se;return i.add(t.subscribe({complete:()=>{r&&e.next(n),e.complete()},error:o=>{e.error(o)},next:o=>{n=o,r||(r=ba.schedule(()=>{e.next(n),r=void 0}),i.add(r))}})),i})}function Jb(t){return typeof t.ngrxOnStoreInit=="function"}function ew(t){return typeof t.ngrxOnStateInit=="function"}var cN=new R("@ngrx/component-store Initial State"),Xt=(()=>{let e=class e{constructor(n){this.destroySubject$=new hr(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new hr(1),this.isInitialized=!1,this.state$=this.select(i=>i),this.state=Ip(this.stateSubject$.pipe(dn(this.destroy$)),{requireSync:!1,manualCleanup:!0}),this.\u0275hasProvider=!1,n&&this.initState(n),this.checkProviderForHooks()}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next()}updater(n){return i=>{let o=!0,s,c=(Vi(i)?i:k(i)).pipe(Wr(_a),ie(()=>this.assertStateIsInitialized()),Kr(this.stateSubject$),j(([l,u])=>n(u,l)),ie(l=>this.stateSubject$.next(l)),tt(l=>o?(s=l,Ge):Ct(l)),dn(this.destroy$)).subscribe();if(s)throw s;return o=!1,c}}initState(n){zo([n],_a).subscribe(i=>{this.isInitialized=!0,this.stateSubject$.next(i)})}setState(n){typeof n!="function"?this.initState(n):this.updater(n)()}patchState(n){let i=typeof n=="function"?n(this.get()):n;this.updater((o,s)=>C(C({},o),s))(i)}get(n){this.assertStateIsInitialized();let i;return this.stateSubject$.pipe(Me(1)).subscribe(o=>{i=n?n(o):o}),i}select(...n){let{observablesOrSelectorsObject:i,projector:o,config:s}=lN(n);return(dN(i,o)?this.stateSubject$:ln(i)).pipe(s.debounce?aN():tw(),o?j(c=>i.length>0&&Array.isArray(c)?o(...c):o(c)):tw(),Hu(s.equal),Qu({refCount:!0,bufferSize:1}),dn(this.destroy$))}selectSignal(...n){let i=[...n],o=typeof i[n.length-1]=="object"?i.pop():{},s=i.pop(),a=i,c=a.length===0?()=>s(this.state()):()=>{let l=a.map(u=>u());return s(...l)};return Kc(c,o)}effect(n){let i=new ge;return n(i).pipe(dn(this.destroy$)).subscribe(),o=>(Vi(o)?o:k(o)).pipe(dn(this.destroy$)).subscribe(a=>{i.next(a)})}checkProviderForHooks(){ba.schedule(()=>{if(uo()&&(Jb(this)||ew(this))&&!this.\u0275hasProvider){let n=[Jb(this)?"OnStoreInit":"",ew(this)?"OnStateInit":""].filter(i=>i);console.warn(`@ngrx/component-store: ${this.constructor.name} has the ${n.join(" and ")} lifecycle hook(s) implemented without being provided using the provideComponentStore(${this.constructor.name}) function. To resolve this, provide the component store via provideComponentStore(${this.constructor.name})`)}})}assertStateIsInitialized(){if(!this.isInitialized)throw new Error(`${this.constructor.name} has not been initialized yet. Please make sure it is initialized before updating/getting.`)}};e.\u0275fac=function(i){return new(i||e)(N(cN,8))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function lN(t){let e=Array.from(t),n={debounce:!1,equal:(s,a)=>s===a};if(uN(e[e.length-1])&&(n=C(C({},n),e.pop())),e.length===1&&typeof e[0]!="function")return{observablesOrSelectorsObject:e[0],projector:void 0,config:n};let i=e.pop();return{observablesOrSelectorsObject:e,projector:i,config:n}}function uN(t){let e=t;return typeof e.debounce<"u"||typeof e.equal<"u"}function dN(t,e){return Array.isArray(t)&&t.length===0&&e}function tw(){return t=>t}var fN={courseListing:[]},So=(()=>{let e=class e extends Xt{constructor(){super(fN),this.storeCourseSearchResults=this.updater((n,i)=>({courseListing:[...i]})),this.getCourseSearchResults=this.select(n=>n.courseListing)}storeCourses(n){this.storeCourseSearchResults(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();var Fr=function(t){return t.UDEMY="UDEMY",t.EDX="EDX",t.COURSERA="COURSERA",t.OTHER="OTHER",t}(Fr||{}),nw={platform:Fr.OTHER,platformId:"-1",title:"Loading course details",headline:"",category:"",urlToCourse:"",imageUrl:"",isPaid:!1,price:0,instructor:"",curriculum:[]},xp={userId:"",email:"",passwordHash:"",firstName:"",lastName:"",profilePicUrl:"",interests:[],courseNotes:[],registeredCourses:[],friendIds:[],role:""};var hN={courseDetails:nw,currentCourseId:"-1",currentPlatform:Fr.OTHER},Io=(()=>{let e=class e extends Xt{constructor(){super(hN),this.storeCourseDetailsResult=this.updater((n,i)=>({courseDetails:i,currentCourseId:i.platformId,currentPlatform:i.platform})),this.getCourseDetails=this.select(n=>n.courseDetails),this.updateCurrentCourse=this.updater((n,{courseId:i,platform:o})=>$(C({},n),{currentCourseId:i,currentPlatform:o})),this.getCurrentCourseId=this.select(n=>n.currentCourseId),this.getCurrentPlatform=this.select(n=>n.currentPlatform)}storeCourseDetails(n){this.storeCourseDetailsResult(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();var pN={originalHomePageCourseListing:[],homePageCourseListing:[]},xo=(()=>{let e=class e extends Xt{constructor(){super(pN),this.homePageCourseListing$=this.select(n=>n.homePageCourseListing),this.originalHomePageCourseListing$=this.select(n=>n.originalHomePageCourseListing),this.setHomePageCourseListing=this.updater((n,i)=>({originalHomePageCourseListing:i,homePageCourseListing:[...i]})),this.filterCoursesByCategory=this.updater((n,i)=>{let o=n.homePageCourseListing.filter(s=>s.category===i);return $(C({},n),{homePageCourseListing:o})}),this.filterHomePageCourseListing=this.updater((n,i)=>$(C({},n),{homePageCourseListing:n.originalHomePageCourseListing.filter(o=>o.category===i)})),this.resetFilter=this.updater(n=>$(C({},n),{homePageCourseListing:[...n.originalHomePageCourseListing]}))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();var Jt=(()=>{let e=class e{constructor(){this.httpClient=p(it),this.searchStore=p(So),this.courseDetailsStore=p(Io),this.homepageCourseStore=p(xo),this.router=p(me),this.currentPage=0}querySearch(n,i,o,s){this.query=n;let a=new yt().set("query",n);i!==void 0&&(this.currentPage=i,a=a.append("page",this.currentPage.toString())),o&&(a=a.append("platform",o.toString())),s&&(a=a.append("byRating",!0)),ji(this.httpClient.get("/api/courses/search",{params:a})).then(c=>{this.searchStore.storeCourses(c),this.router.navigate(["/courses/search"],{queryParams:{query:n,page:this.currentPage}})}).catch(c=>{console.error("Error fetching courses:",c)})}getCourseById(n,i){console.log("courseid ",n);let o=new yt().set("courseId",n).append("platform",i.toString());ji(this.httpClient.get("/api/course",{params:o})).then(s=>{this.courseDetailsStore.storeCourseDetails(s)}).catch(s=>{console.error("Error fetching course details:",s)})}loadHomepageCourses(){return this.httpClient.get("/api/courses/loadhomepage")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();var Hn=(()=>{let e=class e{convertPlatformToStringFormatter(n){return n.toString().charAt(0).toUpperCase()+n.toString().slice(1).toLowerCase()}capitaliseFirstLetterFormatter(n){return n.charAt(0).toUpperCase()+n.slice(1)}displayPlatformLogo(n){switch(n){case Fr.UDEMY:return"logo-udemy.png";case Fr.EDX:return"logo-edX.png";case Fr.COURSERA:return"logo-coursera.png";default:return""}}passwordValidator(){return n=>{let i=n.value;if(!i)return null;let o=/[0-9]/.test(i),s=/[!@#$%^&*(),.?":{}|<>]/.test(i);return o&&s?null:{invalidPassword:!0}}}isTokenExpired(){let n=localStorage.getItem("expiration"),i=n?parseInt(n,10):0;return Date.now()>=i*1e3}formatResponse(n){let i=n.replace(new RegExp("(?<=^|\\s)\\d+\\.","g"),a=>`
${a}`),o=/"([^"]+)"/g;return i.replace(o,(a,c)=>`<a href="${`/#/courses/search?query=${encodeURIComponent(c)}&page=1`}" target="_blank" class="text-teal-500 underline">${c}</a>`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function mN(t,e){if(t&1&&(f(0,"div"),g(1),h()),t&2){let r=S().$implicit;y(),Ne(" Rating: ",r.rating," ")}}function gN(t,e){if(t&1){let r=J();f(0,"div",21),M("click",function(){let i=O(r).$implicit,o=S();return F(o.getCourseDetails(i.platformId,i.platform))}),f(1,"div",22),A(2,"img",23),h(),f(3,"div",24)(4,"div",25),g(5),h(),f(6,"div",26),g(7),h(),f(8,"div",27),g(9),h(),T(10,mN,2,1,"div",28),h(),f(11,"div",29)(12,"div",30),g(13),h(),A(14,"img",31),h()()}if(t&2){let r=e.$implicit,n=S();y(2),_n("src",r.imageUrl,Ee),y(3),pe(r.title),y(2),pe(r.headline),y(2),pe(r.instructor),y(),w("ngIf",r.rating),y(3),pe(r.price),y(),_n("alt",r.platform),w("src","assets/"+n.getPlatformLogo(r.platform),Ee)}}function yN(t,e){if(t&1){let r=J();f(0,"span",32),M("click",function(){O(r);let i=S();return F(i.navigateToPage(1))}),g(1,"1 ... "),h()}}function vN(t,e){if(t&1){let r=J();f(0,"span",33),M("click",function(){O(r);let i=S();return F(i.navigateToPage(i.currentPage-1))}),g(1),h()}if(t&2){let r=S();y(),Ne(" ",r.currentPage-1," ")}}function bN(t,e){if(t&1&&(f(0,"div",34),g(1),A(2,"span",35),h()),t&2){let r=S();y(),Ne(" ",r.currentPage," ")}}function wN(t,e){if(t&1){let r=J();f(0,"span",33),M("click",function(){O(r);let i=S();return F(i.navigateToPage(i.currentPage+1))}),g(1),h()}if(t&2){let r=S();y(),Ne(" ",r.currentPage+1," ")}}function CN(t,e){if(t&1&&(f(0,"span",36),g(1),h()),t&2){let r=S();y(),Ne(" ... ",r.totalPages," ")}}var rw=(()=>{let e=class e{constructor(){this.searchStore=p(So),this.activatedRoute=p(jt),this.searchSvc=p(Jt),this.utilsSvc=p(Hn),this.router=p(me),this.lastQuery=null,this.lastPage=null,this.currentPage=1,this.totalPages=100,this.currentSort="Most relevant"}ngOnInit(){this.courseSearchResults$=this.searchStore.getCourseSearchResults,this.activatedRoute.queryParams.subscribe(n=>{let i=n.query,o=+n.page||1;(i!==this.lastQuery||o!==this.lastPage)&&(this.performSearch(i,o),this.lastQuery=i,this.lastPage=o)})}performSearch(n,i,o,s){this.currentPage=i,this.searchSvc.querySearch(n,this.currentPage,o,s)}filterBy(n){if(this.lastQuery){this.lastPage=1;let i,o;n==="mostRelevant"?this.performSearch(this.lastQuery,1):n==="Udemy"||n==="Coursera"?(i=n,this.currentSort=n):n==="rating"&&(o="byRating",this.currentSort="Rating"),this.performSearch(this.lastQuery,1,i,o)}}getPlatformLogo(n){return this.utilsSvc.displayPlatformLogo(n)}getCourseDetails(n,i){console.log("course id in result comp ",n),this.searchSvc.getCourseById(n,i),this.router.navigate(["/course",i.toString().toLowerCase(),n])}navigateToPage(n){n<1||n>this.totalPages||(this.performSearch(this.lastQuery||"",n),this.currentPage=n,this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{query:this.lastQuery,page:n},queryParamsHandling:"merge"}))}nextPage(){this.navigateToPage(this.currentPage+1)}previousPage(){this.navigateToPage(this.currentPage-1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=q({type:e,selectors:[["app-search-results"]],decls:38,vars:10,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"mb-4"],[1,"text-3xl","mb-2"],[1,"group","inline-block","relative","w-full","lg:w-1/5"],[1,"inline-flex","w-full","px-4","py-2","bg-white","border","border-black","text-sm","font-medium","text-gray-700"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"-mr-1","ml-2","h-5","w-5"],["fill-rule","evenodd","d","M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"dropdown-menu","absolute","hidden","text-gray-700","pt-1","group-hover:block"],[3,"click"],[1,"rounded-b","bg-gray-200","hover:bg-gray-400","py-2","px-4","block","whitespace-no-wrap"],[1,"rounded-t","bg-gray-200","hover:bg-gray-400","py-2","px-4","block","whitespace-no-wrap"],[1,"bg-gray-200","hover:bg-gray-400","py-2","px-4","block","whitespace-no-wrap"],[1,"grid","gap-4"],["class","flex border-b border-gray-200 py-4",3,"click",4,"ngFor","ngForOf"],[1,"flex","justify-center","items-center","space-x-4","mt-4"],[1,"rounded-full","w-10","h-10","flex","justify-center","items-center","border","border-black","bg-transparent",3,"click"],[1,"flex","space-x-2"],["class","cursor-pointer",3,"click",4,"ngIf"],["class","cursor-pointer text-purple-600 hover:text-purple-800",3,"click",4,"ngIf"],["class","text-purple-600 relative inline-block",4,"ngIf"],["class","cursor-pointer text-purple-600 hover:text-purple-800",4,"ngIf"],[1,"flex","border-b","border-gray-200","py-4",3,"click"],[1,"flex-none","w-1/5"],["alt","Course Image",1,"w-full","h-auto","max-h-32",3,"src"],[1,"flex-grow","pl-4"],[1,"text-lg","font-bold","dark:text-white-800"],[1,"text-sm"],[1,"text-xs","text-gray-600"],[4,"ngIf"],[1,"flex-none","w-1/5","pl-4"],[1,"text-left","text-lg"],[1,"mt-2","max-h-8",3,"src","alt"],[1,"cursor-pointer",3,"click"],[1,"cursor-pointer","text-purple-600","hover:text-purple-800",3,"click"],[1,"text-purple-600","relative","inline-block"],[1,"underline-custom"],[1,"cursor-pointer","text-purple-600","hover:text-purple-800"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"div",1)(2,"h2",2),g(3),h(),f(4,"div",3)(5,"button",4),g(6),Ft(),f(7,"svg",5),A(8,"path",6),h()(),Wt(),f(9,"ul",7)(10,"li",8),M("click",function(){return o.filterBy("mostRelevant")}),f(11,"a",9),g(12,"Most relevant"),h()(),f(13,"li",8),M("click",function(){return o.filterBy("Udemy")}),f(14,"a",10),g(15,"Udemy"),h()(),f(16,"li",8),M("click",function(){return o.filterBy("Coursera")}),f(17,"a",11),g(18,"Coursera"),h()(),f(19,"li",8),M("click",function(){return o.filterBy("rating")}),f(20,"a",9),g(21,"Rating"),h()()()()(),f(22,"div",12),T(23,gN,15,8,"div",13),le(24,"async"),f(25,"div",0)(26,"div",14)(27,"button",15),M("click",function(){return o.previousPage()}),g(28," < "),h(),f(29,"div",16)(30,"div"),T(31,yN,2,0,"span",17)(32,vN,2,1,"span",18)(33,bN,3,1,"div",19)(34,wN,2,1,"span",18)(35,CN,2,1,"span",20),h()(),f(36,"button",15),M("click",function(){return o.nextPage()}),g(37," > "),h()()()()()),i&2&&(y(3),Ne('Search results for "',o.lastQuery,'"'),y(3),Ne(" Sort by: ",o.currentSort," "),y(17),w("ngForOf",ye(24,8,o.courseSearchResults$)),y(8),w("ngIf",o.currentPage>3),y(),w("ngIf",o.currentPage-1>0),y(),w("ngIf",o.currentPage),y(),w("ngIf",o.currentPage+1<=o.totalPages),y(),w("ngIf",o.totalPages>o.currentPage+1))},dependencies:[ct,ae,qe]});let t=e;return t})();var _N={accountDetails:xp,isAuthenticated:!1},ue=(()=>{let e=class e extends Xt{constructor(){super(_N),this.isLoggedIn$=this.select(n=>n.isAuthenticated),this.firstName$=this.select(n=>n.accountDetails.firstName),this.userId$=this.select(n=>n.accountDetails.userId),this.email$=this.select(n=>n.accountDetails.email),this.profilePic$=this.select(n=>n.accountDetails.profilePicUrl),this.loginSuccess=this.updater((n,{accountDetails:i,isAuthenticated:o})=>$(C({},n),{accountDetails:i,isAuthenticated:o})),this.updateUserDetails=this.updater((n,i)=>$(C({},n),{accountDetails:i})),this.addCourseToUser=this.updater((n,i)=>$(C({},n),{accountDetails:$(C({},n.accountDetails),{registeredCourses:[...n.accountDetails.registeredCourses,i]})})),this.updateProfilePicUrl=this.updater((n,i)=>$(C({},n),{accountDetails:$(C({},n.accountDetails),{profilePicUrl:i})}))}courseExists(n){return this.get(i=>i.accountDetails.registeredCourses.some(o=>o.platformId===n.platformId))}resetState(){this.setState({accountDetails:xp,isAuthenticated:!1})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();var $l=(()=>{let e=class e{constructor(n){this.httpClient=n}addTokenToHeader(){let n=localStorage.getItem("jwtToken");return new Ke().set("Authorization",`Bearer ${n}`)}getFriends(n){return console.log("calling get friends"),this.httpClient.get(`/api/user/${n}/friends`,{headers:this.addTokenToHeader()})}};e.\u0275fac=function(i){return new(i||e)(N(it))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var DN={friendList:[]},Pr=(()=>{let e=class e extends Xt{constructor(){super(DN),this.friendSvc=p($l),this.setFriendList=this.updater((n,i)=>$(C({},n),{friendList:i})),this.friendList$=this.select(n=>n.friendList),this.loadFriendsEffect()}loadFriendsEffect(){this.effect(()=>k(localStorage.getItem("userId")).pipe(_e(n=>n?this.friendSvc.getFriends(n):(console.error("No user ID found in localStorage"),k([]))),Bs(n=>this.setFriendList(n),n=>console.error("Error loading friends:",n))))}loadFriends(n){this.friendSvc.getFriends(n).subscribe(i=>this.setFriendList(i),i=>console.error("Error loading friends:",i))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();var lt=class{constructor(){this.httpClient=p(it),this.userSessionStore=p(ue),this.friendStore=p(Pr),this.foundFriendSubject=new Le(null),this.foundFriend$=this.foundFriendSubject.asObservable()}addTokenToHeader(){let e=localStorage.getItem("jwtToken");return new Ke().set("Authorization",`Bearer ${e}`)}get isLoggedIn(){return this.userSessionStore.isLoggedIn$}get firstName(){return this.userSessionStore.firstName$}get userProfilePicUrl$(){return this.userSessionStore.select(e=>e.accountDetails?.profilePicUrl)}fetchUserDetails(){return this.httpClient.get("/api/auth/loaduser",{headers:this.addTokenToHeader()}).pipe(ie(e=>this.userSessionStore.loginSuccess({accountDetails:e,isAuthenticated:!0})))}addRegisteredCourseToUser(e,r){return this.httpClient.post(`/api/user/${e}/courses`,r,{headers:this.addTokenToHeader()})}searchForFriendByEmail(e,r){let n=new yt().set("userId",e).set("email",r);this.httpClient.get("/api/user/friend-search",{headers:this.addTokenToHeader(),params:n}).subscribe({next:i=>{this.foundFriendSubject.next(i)},error:i=>{console.error(i)}})}addFriend(e){return this.httpClient.post("/api/user/addfriend",e,{headers:this.addTokenToHeader()})}getFriends(e){return this.httpClient.get(`/api/user/${e}/friends`,{headers:this.addTokenToHeader()})}updateFoundFriendStatus(e,r){let n=this.foundFriendSubject.value;if(n&&n.userId===e){let i=$(C({},n),{status:r});console.log("updated status"),this.foundFriendSubject.next(i)}}amendFriendRequest(e,r,n){let i={notification:e,friendRequest:r,status:n};return this.httpClient.put("/api/user/addfriend/amend",i,{headers:this.addTokenToHeader()}).pipe(ie(o=>{this.friendStore.setFriendList(o)}))}uploadPicture(e,r){console.log("userId ",e,"croppedImg ",r);let n=new FormData;return n.append("image",r,"cropped-image.png"),this.httpClient.post(`/api/user/${e}/upload-picture`,n,{headers:this.addTokenToHeader()}).pipe(ie(i=>{let o=i.profilePicUrl;this.userSessionStore.updateProfilePicUrl(o)}),tt(i=>(console.error("Error uploading profile picture:",i),Ct(()=>new Error("Error uploading profile picture")))))}};function EN(t,e){if(t&1&&(f(0,"tr")(1,"td"),g(2),h(),f(3,"td"),g(4),h()()),t&2){let r=e.$implicit;y(2),pe(r.lectureNumber),y(2),pe(r.title)}}function SN(t,e){if(t&1){let r=J();f(0,"div",3)(1,"div",4)(2,"div",5)(3,"h1",6),g(4),h(),f(5,"h2",7),g(6),h(),f(7,"div",8)(8,"p",9),g(9),h(),A(10,"img",10),h(),f(11,"div",11)(12,"h3",12),g(13,"Curriculum"),h(),f(14,"table",13)(15,"thead")(16,"tr")(17,"th"),g(18,"Section"),h(),f(19,"th"),g(20,"Description"),h()()(),f(21,"tbody"),T(22,EN,5,2,"tr",14),h()()()(),f(23,"div",15),A(24,"img",16),f(25,"button",17),M("click",function(){let i=O(r).ngIf,o=S();return F(o.addCourseToList(i))}),g(26," Add to Course List "),h(),f(27,"a",18),g(28),h()()()()}if(t&2){let r=e.ngIf,n=S();y(4),pe(r.title),y(2),pe(r.headline),y(3),Ne("Instructor: ",r.instructor,""),y(),_n("alt",r.platform),w("src","assets/"+n.getPlatformLogo(r.platform),Ee),y(12),w("ngForOf",r.curriculum),y(2),w("src",r.imageUrl,Ee),y(3),w("href",r.urlToCourse,Ee),y(),Ne(" View on ",n.displayPlatformName(r.platform)," ")}}function IN(t,e){t&1&&(f(0,"div",19)(1,"div",20)(2,"div",21)(3,"span"),g(4,"Course added successfully!"),h()()()())}function xN(t,e){t&1&&(f(0,"div",22)(1,"div",20)(2,"div",23)(3,"span"),g(4,"You've already added this course"),h()()()())}var iw=(()=>{let e=class e{constructor(){this.showSuccessNotification=!1,this.showAddFailNotification=!1,this.activatedRoute=p(jt),this.searchSvc=p(Jt),this.courseDetailsStore=p(Io),this.utilsSvc=p(Hn),this.userSessionStore=p(ue),this.userSvc=p(lt)}ngOnInit(){this.activatedRoute.params.subscribe(n=>{let i=n.platform,o=n.courseId;this.courseDetailsStore.getCurrentCourseId.pipe(Me(1),Kr(this.courseDetailsStore.getCurrentPlatform.pipe(Me(1)))).subscribe(([s,a])=>{(s!==o||a!==i)&&(this.searchSvc.getCourseById(o,i),this.courseDetailsStore.updateCurrentCourse({courseId:o,platform:i})),this.courseDetails$=this.courseDetailsStore.getCourseDetails})}),this.userSessionStore.userId$.subscribe(n=>{this.userId=n,console.log("User ID from store:",this.userId)})}getPlatformLogo(n){return this.utilsSvc.displayPlatformLogo(n)}displayPlatformName(n){return this.utilsSvc.convertPlatformToStringFormatter(n)}visitExternalUrl(n){n&&(window.location.href=n)}addCourseToList(n){this.userSessionStore.courseExists(n)?(this.showAddFailNotificationMethod(),console.log("course already exists")):this.userSvc.addRegisteredCourseToUser(this.userId,n).subscribe({next:o=>{this.userSessionStore.addCourseToUser(o),this.showSuccessNotificationMethod()},error:o=>{console.error("Failed to add the course",o)}})}showSuccessNotificationMethod(){this.showSuccessNotification=!0,setTimeout(()=>{this.showSuccessNotification=!1},3e3)}showAddFailNotificationMethod(){this.showAddFailNotification=!0,setTimeout(()=>{this.showAddFailNotification=!1},3e3)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=q({type:e,selectors:[["app-course-details"]],decls:4,vars:5,consts:[["class","container mx-auto px-4 py-8",4,"ngIf"],["role","alert","class","alert alert-success",4,"ngIf"],["role","alert","class","alert alert-info",4,"ngIf"],[1,"container","mx-auto","px-4","py-8"],[1,"flex","gap-4"],[1,"flex-grow","w-2/3"],[1,"text-4xl","font-bold"],[1,"text-2xl"],[1,"flex","justify-between","items-center","mt-4"],[1,"text-lg"],[1,"max-h-8",3,"src","alt"],[1,"mt-4"],[1,"text-xl","font-semibold"],[1,"w-full","mt-2"],[4,"ngFor","ngForOf"],[1,"w-1/3"],["alt","Course Image",1,"w-auto","max-h-64",3,"src"],[1,"mt-4","w-full","btn","btn-accent","text-base-100","py-2","rounded-md",3,"click"],["target","_blank","rel","noopener noreferrer",1,"mt-4","w-full","inline-block","text-center","btn","btn-secondary","text-white","py-2","rounded-md",2,"padding-top","15px","padding-bottom","10px",3,"href"],["role","alert",1,"alert","alert-success"],[1,"toast","toast-top","toast-center"],[1,"alert","alert-success"],["role","alert",1,"alert","alert-info"],[1,"alert","alert-info"]],template:function(i,o){i&1&&(T(0,SN,29,9,"div",0),le(1,"async"),T(2,IN,5,0,"div",1)(3,xN,5,0,"div",2)),i&2&&(w("ngIf",ye(1,3,o.courseDetails$)),y(2),w("ngIf",o.showSuccessNotification),y(),w("ngIf",o.showAddFailNotification))},dependencies:[ct,ae,qe]});let t=e;return t})();var hw=(()=>{let e=class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.\u0275fac=function(i){return new(i||e)(L(pi),L(vn))},e.\u0275dir=at({type:e});let t=e;return t})(),pw=(()=>{let e=class e extends hw{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=oo(e)))(o||e)}})(),e.\u0275dir=at({type:e,features:[er]});let t=e;return t})(),Np=new R("");var MN={provide:Np,useExisting:di(()=>ut),multi:!0};function TN(){let t=jn()?jn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var AN=new R(""),ut=(()=>{let e=class e extends hw{constructor(n,i,o){super(n,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!TN())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.\u0275fac=function(i){return new(i||e)(L(pi),L(vn),L(AN,8))},e.\u0275dir=at({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&M("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[ls([MN]),er]});let t=e;return t})();function kr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function mw(t){return t!=null&&typeof t.length=="number"}var gw=new R(""),yw=new R(""),NN=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ce=class{static min(e){return RN(e)}static max(e){return ON(e)}static required(e){return FN(e)}static requiredTrue(e){return PN(e)}static email(e){return kN(e)}static minLength(e){return LN(e)}static maxLength(e){return VN(e)}static pattern(e){return jN(e)}static nullValidator(e){return vw(e)}static compose(e){return Ew(e)}static composeAsync(e){return Iw(e)}};function RN(t){return e=>{if(kr(e.value)||kr(t))return null;let r=parseFloat(e.value);return!isNaN(r)&&r<t?{min:{min:t,actual:e.value}}:null}}function ON(t){return e=>{if(kr(e.value)||kr(t))return null;let r=parseFloat(e.value);return!isNaN(r)&&r>t?{max:{max:t,actual:e.value}}:null}}function FN(t){return kr(t.value)?{required:!0}:null}function PN(t){return t.value===!0?null:{required:!0}}function kN(t){return kr(t.value)||NN.test(t.value)?null:{email:!0}}function LN(t){return e=>kr(e.value)||!mw(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function VN(t){return e=>mw(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function jN(t){if(!t)return vw;let e,r;return typeof t=="string"?(r="",t.charAt(0)!=="^"&&(r+="^"),r+=t,t.charAt(t.length-1)!=="$"&&(r+="$"),e=new RegExp(r)):(r=t.toString(),e=t),n=>{if(kr(n.value))return null;let i=n.value;return e.test(i)?null:{pattern:{requiredPattern:r,actualValue:i}}}}function vw(t){return null}function bw(t){return t!=null}function ww(t){return Mr(t)?xe(t):t}function Cw(t){let e={};return t.forEach(r=>{e=r!=null?C(C({},e),r):e}),Object.keys(e).length===0?null:e}function _w(t,e){return e.map(r=>r(t))}function UN(t){return!t.validate}function Dw(t){return t.map(e=>UN(e)?e:r=>e.validate(r))}function Ew(t){if(!t)return null;let e=t.filter(bw);return e.length==0?null:function(r){return Cw(_w(r,e))}}function Sw(t){return t!=null?Ew(Dw(t)):null}function Iw(t){if(!t)return null;let e=t.filter(bw);return e.length==0?null:function(r){let n=_w(r,e).map(ww);return ju(n).pipe(j(Cw))}}function xw(t){return t!=null?Iw(Dw(t)):null}function ow(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Mw(t){return t._rawValidators}function Tw(t){return t._rawAsyncValidators}function Mp(t){return t?Array.isArray(t)?t:[t]:[]}function ql(t,e){return Array.isArray(t)?t.includes(e):t===e}function sw(t,e){let r=Mp(e);return Mp(t).forEach(i=>{ql(r,i)||r.push(i)}),r}function aw(t,e){return Mp(e).filter(r=>!ql(t,r))}var Wl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Sw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return this.control?this.control.hasError(e,r):!1}getError(e,r){return this.control?this.control.getError(e,r):null}},To=class extends Wl{get formDirective(){return null}get path(){return null}},zs=class extends Wl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Gl=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},BN={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ez=$(C({},BN),{"[class.ng-submitted]":"isSubmitted"}),Mt=(()=>{let e=class e extends Gl{constructor(n){super(n)}};e.\u0275fac=function(i){return new(i||e)(L(zs,2))},e.\u0275dir=at({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Gt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[er]});let t=e;return t})(),Tt=(()=>{let e=class e extends Gl{constructor(n){super(n)}};e.\u0275fac=function(i){return new(i||e)(L(To,10))},e.\u0275dir=at({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Gt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[er]});let t=e;return t})();var $s="VALID",Hl="INVALID",Mo="PENDING",Hs="DISABLED";function Rp(t){return(Zl(t)?t.validators:t)||null}function $N(t){return Array.isArray(t)?Sw(t):t||null}function Op(t,e){return(Zl(e)?e.asyncValidators:t)||null}function HN(t){return Array.isArray(t)?xw(t):t||null}function Zl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Aw(t,e,r){let n=t.controls;if(!(e?Object.keys(n):n).length)throw new E(1e3,"");if(!n[r])throw new E(1001,"")}function Nw(t,e,r){t._forEachChild((n,i)=>{if(r[i]===void 0)throw new E(1002,"")})}var Ao=class{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===$s}get invalid(){return this.status===Hl}get pending(){return this.status==Mo}get disabled(){return this.status===Hs}get enabled(){return this.status!==Hs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(sw(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sw(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(aw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(aw(e,this._rawAsyncValidators))}hasValidator(e){return ql(this._rawValidators,e)}hasAsyncValidator(e){return ql(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Mo,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=Hs,this.errors=null,this._forEachChild(n=>{n.disable($(C({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($(C({},e),{skipPristineCheck:r})),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=$s,this._forEachChild(n=>{n.enable($(C({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors($(C({},e),{skipPristineCheck:r})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$s||this.status===Mo)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hs:$s}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Mo,this._hasOwnPendingAsyncValidator=!0;let r=ww(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(r.emitEvent!==!1)}get(e){let r=e;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((n,i)=>n&&n._find(i),this)}getError(e,r){let n=r?this.get(r):this;return n&&n.errors?n.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new De,this.statusChanges=new De}_calculateStatus(){return this._allControlsDisabled()?Hs:this.errors?Hl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mo)?Mo:this._anyControlsHaveStatus(Hl)?Hl:$s}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Zl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let r=this._parent&&this._parent.dirty;return!e&&!!r&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=$N(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=HN(this._rawAsyncValidators)}},Ql=class extends Ao{constructor(e,r,n){super(Rp(r),Op(n,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,r){return this.controls[e]?this.controls[e]:(this.controls[e]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(e,r,n={}){this.registerControl(e,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(e,r,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],r&&this.registerControl(e,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,r={}){Nw(this,!0,e),Object.keys(e).forEach(n=>{Aw(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(Object.keys(e).forEach(n=>{let i=this.controls[n];i&&i.patchValue(e[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e={},r={}){this._forEachChild((n,i)=>{n.reset(e?e[i]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(e,r,n)=>(e[n]=r.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(r,n)=>n._syncPendingControls()?!0:r);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(r=>{let n=this.controls[r];n&&e(n,r)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[r,n]of Object.entries(this.controls))if(this.contains(r)&&e(n))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(r,n,i)=>((n.enabled||this.disabled)&&(r[i]=n.value),r))}_reduceChildren(e,r){let n=e;return this._forEachChild((i,o)=>{n=r(n,i,o)}),n}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Tp=class extends Ql{};var Rw=new R("CallSetDisabledState",{providedIn:"root",factory:()=>Fp}),Fp="always";function zN(t,e){return[...e.path,t]}function cw(t,e,r=Fp){Pp(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||r==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),WN(t,e),QN(t,e),GN(t,e),qN(t,e)}function lw(t,e,r=!0){let n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),Kl(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Yl(t,e){t.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function qN(t,e){if(e.valueAccessor.setDisabledState){let r=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(r),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(r)})}}function Pp(t,e){let r=Mw(t);e.validator!==null?t.setValidators(ow(r,e.validator)):typeof r=="function"&&t.setValidators([r]);let n=Tw(t);e.asyncValidator!==null?t.setAsyncValidators(ow(n,e.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let i=()=>t.updateValueAndValidity();Yl(e._rawValidators,i),Yl(e._rawAsyncValidators,i)}function Kl(t,e){let r=!1;if(t!==null){if(e.validator!==null){let i=Mw(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(r=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=Tw(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(r=!0,t.setAsyncValidators(o))}}}let n=()=>{};return Yl(e._rawValidators,n),Yl(e._rawAsyncValidators,n),r}function WN(t,e){e.valueAccessor.registerOnChange(r=>{t._pendingValue=r,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Ow(t,e)})}function GN(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Ow(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Ow(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function QN(t,e){let r=(n,i)=>{e.valueAccessor.writeValue(n),i&&e.viewToModelUpdate(n)};t.registerOnChange(r),e._registerOnDestroy(()=>{t._unregisterOnChange(r)})}function YN(t,e){t==null,Pp(t,e)}function KN(t,e){return Kl(t,e)}function ZN(t,e){if(!t.hasOwnProperty("model"))return!1;let r=t.model;return r.isFirstChange()?!0:!Object.is(e,r.currentValue)}function XN(t){return Object.getPrototypeOf(t.constructor)===pw}function JN(t,e){t._syncPendingControls(),e.forEach(r=>{let n=r.control;n.updateOn==="submit"&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function eR(t,e){if(!e)return null;Array.isArray(e);let r,n,i;return e.forEach(o=>{o.constructor===ut?r=o:XN(o)?n=o:i=o}),i||n||r||null}function tR(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}function uw(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}function dw(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var zl=class extends Ao{constructor(e=null,r,n){super(Rp(r),Op(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zl(r)&&(r.nonNullable||r.initialValueIsDefault)&&(dw(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){uw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){uw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){dw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var nR=t=>t instanceof zl;var At=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=at({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),rR={provide:Np,useExisting:di(()=>kp),multi:!0},kp=(()=>{let e=class e extends pw{writeValue(n){let i=n??"";this.setProperty("value",i)}registerOnChange(n){this.onChange=i=>{n(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=oo(e)))(o||e)}})(),e.\u0275dir=at({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&M("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[ls([rR]),er]});let t=e;return t})();var Fw=new R("");var iR={provide:To,useExisting:di(()=>vt)},vt=(()=>{let e=class e extends To{constructor(n,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new De,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Kl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let i=this.form.get(n.path);return cw(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){lw(n.control||null,n,!1),tR(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this.submitted=!0,JN(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let i=n.control,o=this.form.get(n.path);i!==o&&(lw(i||null,n),nR(o)&&(cw(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let i=this.form.get(n.path);YN(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let i=this.form.get(n.path);i&&KN(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pp(this.form,this),this._oldForm&&Kl(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(L(gw,10),L(yw,10),L(Rw,8))},e.\u0275dir=at({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&M("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[st.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ls([iR]),er,kn]});let t=e;return t})();var oR={provide:zs,useExisting:di(()=>bt)},bt=(()=>{let e=class e extends zs{set isDisabled(n){}constructor(n,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new De,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=eR(this,s)}ngOnChanges(n){this._added||this._setUpControl(),ZN(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return zN(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(L(To,13),L(gw,10),L(yw,10),L(Np,10),L(Fw,8))},e.\u0275dir=at({type:e,selectors:[["","formControlName",""]],inputs:{name:[st.None,"formControlName","name"],isDisabled:[st.None,"disabled","isDisabled"],model:[st.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ls([oR]),er,kn]});let t=e;return t})();var sR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=je({type:e}),e.\u0275inj=Ve({});let t=e;return t})(),Ap=class extends Ao{constructor(e,r,n){super(Rp(r),Op(n,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,r={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(e,r,n={}){this.controls.splice(e,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,r={}){let n=this._adjustIndex(e);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(e,r,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),r&&(this.controls.splice(i,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,r={}){Nw(this,!1,e),e.forEach((n,i)=>{Aw(this,!1,i),this.at(i).setValue(n,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(e.forEach((n,i)=>{this.at(i)&&this.at(i).patchValue(n,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e=[],r={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((r,n)=>n._syncPendingControls()?!0:r,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((r,n)=>{e(r,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(r=>r.enabled&&e(r))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function fw(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var dt=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,i=null){let o=this._reduceControls(n),s={};return fw(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Ql(o,s)}record(n,i=null){let o=this._reduceControls(n);return new Tp(o,i)}control(n,i,o){let s={};return this.useNonNullable?(fw(i)?s=i:(s.validators=i,s.asyncValidators=o),new zl(n,$(C({},s),{nonNullable:!0}))):new zl(n,i,o)}array(n,i,o){let s=n.map(a=>this._createControl(a));return new Ap(s,i,o)}_reduceControls(n){let i={};return Object.keys(n).forEach(o=>{i[o]=this._createControl(n[o])}),i}_createControl(n){if(n instanceof zl)return n;if(n instanceof Ao)return n;if(Array.isArray(n)){let i=n[0],o=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(i,o,s)}else return this.control(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Pw=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:Fw,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Rw,useValue:n.callSetDisabledState??Fp}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=je({type:e}),e.\u0275inj=Ve({imports:[sR]});let t=e;return t})();var _i=class extends Error{};_i.prototype.name="InvalidTokenError";function aR(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function cR(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return aR(e)}catch{return atob(e)}}function qs(t,e){if(typeof t!="string")throw new _i("Invalid token specified: must be a string");e||(e={});let r=e.header===!0?0:1,n=t.split(".")[r];if(typeof n!="string")throw new _i(`Invalid token specified: missing part #${r+1}`);let i;try{i=cR(n)}catch(o){throw new _i(`Invalid token specified: invalid base64 for part #${r+1} (${o.message})`)}try{return JSON.parse(i)}catch(o){throw new _i(`Invalid token specified: invalid json for part #${r+1} (${o.message})`)}}var Vr=(()=>{let e=class e{constructor(){this.httpClient=p(it),this.userSessionStore=p(ue),this.notificationsSubject=new Le([]),this.notifications$=this.notificationsSubject.asObservable(),this.subscription=new se}addTokenToHeader(){let n=localStorage.getItem("jwtToken");return new Ke().set("Authorization",`Bearer ${n}`)}ngOnInit(){this.subscription.add(this.userSessionStore.userId$.subscribe(n=>{this.userId=n,this.fetchAndSetNotifications()}))}ngOnDestroy(){this.subscription.unsubscribe()}fetchAndSetNotifications(){let n=localStorage.getItem("userId");n&&(this.userId=n,this.getNotifications(n).subscribe(i=>{this.setNotifications(i)}))}getNotifications(n){let i=localStorage.getItem("userId");i||console.error("User ID not found in local storage.");let o=`/api/user/notifications/${i}`;return console.log("Request URL: "+o),this.httpClient.get(o,{headers:this.addTokenToHeader()})}setNotifications(n){this.notificationsSubject.next(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ze=(()=>{let e=class e{constructor(){this.httpClient=p(it),this.router=p(me),this.userSessionStore=p(ue),this.userSvc=p(lt),this.notificationSvc=p(Vr),this.friendStore=p(Pr),this.loginFailed=!1,this.loginAttempted=!1,this.isLoggedInSubject=new Le(this.hasToken())}hasToken(){return!!localStorage.getItem("jwtToken")}get isLoggedIn$(){return this.isLoggedInSubject.asObservable()}processLogin(n,i){this.loginAttempted=!0;let o={email:n,password:i};this.httpClient.post("/api/auth/login",o,{headers:{"Content-Type":"application/json"}}).subscribe({next:s=>{this.loginFailed=!1,this.loginAttempted=!1,localStorage.setItem("jwtToken",s.token),localStorage.setItem("userId",s.user.userId),this.isLoggedInSubject.next(!0),this.userSessionStore.loginSuccess({accountDetails:s.user,isAuthenticated:!0}),this.notificationSvc.setNotifications(s.notifications),console.log("userdetails",s.user),s.friendList&&this.friendStore.setFriendList(s.friendList),this.router.navigate(["/"])},error:s=>{this.loginFailed=!0,console.error(s)}})}processRegister(n,i,o,s){let a={firstName:n,lastName:i,email:o,password:s};this.httpClient.post("/api/auth/register",a,{headers:{"Content-Type":"application/json"}}).subscribe({next:c=>{console.log(c),this.processLogin(o,s),this.router.navigate(["/"])},error:c=>{console.error("Registration or Login Error",c)}})}logout(){localStorage.removeItem("jwtToken"),localStorage.removeItem("userId"),this.isLoggedInSubject.next(!1),this.userSessionStore.resetState()}checkTokenOnStartup(){this.isLoggedInSubject.next(this.hasToken())}hasRole(n){let i=localStorage.getItem("jwtToken");return i?(qs(i).scope||[]).includes(n):!1}isSubscriber(){let n=localStorage.getItem("jwtToken");if(!n)return console.log("No token found. The user is not logged in or the session has expired."),!1;try{return(qs(n).scope||[]).includes("ROLE_SUBSCRIBER")?(console.log("The user is a subscriber."),!0):(console.log("The user is not a subscriber."),!1)}catch(i){return console.error("Failed to decode the token:",i),!1}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();var lR=()=>["/join/register"];function uR(t,e){t&1&&(f(0,"div"),g(1,"Email is required."),h())}function dR(t,e){t&1&&(f(0,"div"),g(1,"Please enter a valid email address."),h())}function fR(t,e){if(t&1&&(f(0,"div",16),T(1,uR,2,0,"div",17)(2,dR,2,0,"div",17),h()),t&2){let r,n,i=S();y(),w("ngIf",(r=i.loginForm.get("email"))==null||r.errors==null?null:r.errors.required),y(),w("ngIf",(n=i.loginForm.get("email"))==null||n.errors==null?null:n.errors.email)}}function hR(t,e){t&1&&(f(0,"div"),g(1,"Password is required."),h())}function pR(t,e){if(t&1&&(f(0,"div",16),T(1,hR,2,0,"div",17),h()),t&2){let r,n=S();y(),w("ngIf",(r=n.loginForm.get("password"))==null||r.errors==null?null:r.errors.required)}}function mR(t,e){t&1&&(f(0,"div",18),g(1," Email or password is incorrect. "),h())}var kw=(()=>{let e=class e{constructor(n){this.fb=n,this.authSvc=p(Ze)}ngOnInit(){this.loginForm=this.fb.group({email:this.fb.control("",[Ce.required,Ce.email]),password:this.fb.control("",[Ce.required])})}processLogin(){this.loginForm.valid&&this.authSvc.processLogin(this.loginForm.value.email,this.loginForm.value.password)}getLoginFailed(){return this.authSvc.loginFailed}getLoginAttempted(){return this.authSvc.loginAttempted}};e.\u0275fac=function(i){return new(i||e)(L(dt))},e.\u0275cmp=q({type:e,selectors:[["app-login"]],decls:24,vars:6,consts:[[1,"flex","items-start","justify-center","min-h-screen","bg-gray-800","pt-20"],[1,"w-1/3"],[1,"bg-white","shadow-md","px-8","pt-6","pb-8","mb-4","flex","flex-col"],[1,"mb-4"],[1,"text-gray-700","text-center","font-bold"],[1,"mb-4",3,"submit","formGroup"],["type","text","formControlName","email","placeholder","Email",1,"bg-white","appearance-none","border","border-gray-700","w-full","py-2","px-4","text-gray-700","leading-tight","focus:outline-none","focus:bg-white","focus:border-purple-500"],["class","text-red-500 text-xs italic",4,"ngIf"],[1,"mb-6"],["type","password","formControlName","password","placeholder","Password",1,"bg-white","appearance-none","border","border-gray-700","w-full","py-2","px-4","text-gray-700","leading-tight","focus:outline-none","focus:bg-white","focus:border-purple-500"],["class","text-red-500 text-sm mb-2",4,"ngIf"],[1,"flex","items-center","justify-between"],["type","submit",1,"bg-purple-600","hover:bg-purple-400","text-white","font-semibold","py-2","px-4","w-full","transition-colors","duration-200","ease-in-out"],[1,"text-center","text-gray-500","text-xs"],["href","#",1,"text-primary","hover:text-purple-600"],[1,"text-primary","hover:text-purple-600",3,"routerLink"],[1,"text-red-500","text-xs","italic"],[4,"ngIf"],[1,"text-red-500","text-sm","mb-2"]],template:function(i,o){if(i&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),g(5,"Login to your Study Trek account"),h()(),f(6,"form",5),M("submit",function(){return o.processLogin()}),f(7,"div",3),A(8,"input",6),T(9,fR,3,2,"div",7),h(),f(10,"div",8),A(11,"input",9),T(12,pR,2,1,"div",7),h(),T(13,mR,2,0,"div",10),f(14,"div",11)(15,"button",12),g(16," Login "),h()()(),f(17,"p",13)(18,"a",14),g(19,"Forgot Password?"),h()(),f(20,"p",13),g(21," Don't have an account? "),f(22,"a",15),g(23,"Sign up"),h()()()()()),i&2){let s,a;y(6),w("formGroup",o.loginForm),y(3),w("ngIf",((s=o.loginForm.get("email"))==null?null:s.touched)&&((s=o.loginForm.get("email"))==null?null:s.errors)),y(3),w("ngIf",((a=o.loginForm.get("password"))==null?null:a.touched)&&((a=o.loginForm.get("password"))==null?null:a.errors)),y(),w("ngIf",o.getLoginAttempted()&&o.getLoginFailed()),y(9),w("routerLink",co(5,lR))}},dependencies:[ae,$n,At,ut,Mt,Tt,vt,bt]});let t=e;return t})();function gR(t,e){if(t&1){let r=J();f(0,"div",13)(1,"div",14)(2,"button",15),M("click",function(){O(r);let i=S(3);return F(i.dismissScheduleCard())}),g(3," \u2715 "),h(),f(4,"div",16)(5,"h2",17),g(6," Schedule time to learn "),h(),f(7,"p",18),g(8," Small progress adds up over time. Get reminders from Google calendar. "),h(),f(9,"div",19)(10,"a",20),g(11,"Get started"),h()()()()()}}function yR(t,e){if(t&1){let r=J();Ln(0),f(1,"div",21)(2,"div",14)(3,"figure"),A(4,"img",22),h(),f(5,"div",16)(6,"h2",17),g(7),h(),f(8,"p",18),g(9),h(),f(10,"div",19)(11,"p",23),M("click",function(){let i=O(r).$implicit,o=S(3);return F(o.getCourseById(i.platformId,i.platform))}),g(12," Go to Course "),h()()()()(),Vn()}if(t&2){let r=e.$implicit;y(4),_n("src",r.imageUrl,Ee),y(3),Ne(" ",r.title," "),y(2),pe(r.headline)}}function vR(t,e){t&1&&(f(0,"a",24),g(1,"1"),h())}function bR(t,e){if(t&1&&(f(0,"div")(1,"div",2)(2,"h2",7),g(3),h(),f(4,"div",8),T(5,gR,12,0,"div",9)(6,yR,13,3,"ng-container",10),h(),f(7,"div",11),T(8,vR,2,0,"a",12),h()()()),t&2){let r=e.ngIf,n=S(2);y(3),Ne(" Hi ",r.firstName,", let's start learning. "),y(2),w("ngIf",n.showScheduleCard),y(),w("ngForOf",r.registeredCourses),y(2),w("ngIf",n.showScheduleCard)}}function wR(t,e){if(t&1&&(f(0,"div"),T(1,bR,9,4,"div",1),le(2,"async"),h()),t&2){let r=S(),n=It(4);y(),w("ngIf",ye(2,2,r.accountDetails$))("ngIfElse",n)}}function CR(t,e){t&1&&(f(0,"div")(1,"a",25),A(2,"img",26),h()())}function _R(t,e){if(t&1){let r=J();f(0,"button",27),M("click",function(){let i=O(r).$implicit,o=S();return F(o.selectCategory(i))}),g(1),h()}if(t&2){let r=e.$implicit,n=S();Gt("btn-primary",r===n.selectedCategory),y(),Ne(" ",r," ")}}function DR(t,e){if(t&1&&(Ln(0),f(1,"div",30)(2,"div",14)(3,"figure",31),A(4,"img",32),h(),f(5,"div",33)(6,"h2",34),g(7),h(),f(8,"p"),g(9),h(),A(10,"div",35),h()()(),Vn()),t&2){let r=e.$implicit;y(4),_n("src",r.imageUrl,Ee),y(3),pe(r.title),y(2),pe(r.headline)}}function ER(t,e){if(t&1&&(f(0,"div",28),T(1,DR,11,3,"ng-container",10),A(2,"div",29),h()),t&2){let r=e.ngIf;y(),w("ngForOf",r)}}var Lw=(()=>{let e=class e{constructor(){this.userSessionStore=p(ue),this.searchSvc=p(Jt),this.router=p(me),this.notificationSvc=p(Vr),this.homepageCourseListingStore=p(xo),this.showScheduleCard=!0,this.categories=["Business","Coding","Marketing","Design","Video"],this.selectedCategory="Business"}ngOnInit(){this.accountDetails$=this.userSessionStore.select(i=>i.accountDetails),this.loadHomepageCourses(),this.homepageCourses$=this.homepageCourseListingStore.select(i=>i.homePageCourseListing);let n=localStorage.getItem("userId");n&&(console.log("found user id "+n),this.userId=n),this.router.events.pipe(Fe(i=>i instanceof xt)).subscribe(()=>{this.notificationSvc.fetchAndSetNotifications()}),this.isLoggedIn$=this.userSessionStore.isLoggedIn$}dismissScheduleCard(){this.showScheduleCard=!1}loadHomepageCourses(){this.searchSvc.loadHomepageCourses().subscribe({next:n=>{this.homepageCourseListingStore.setHomePageCourseListing(n)},error:n=>console.error("Error loading homepage courses:",n)})}getCourseById(n,i){this.searchSvc.getCourseById(n,i),this.router.navigate(["/course",i.toString().toLowerCase(),n])}getCourseDetails(n,i){console.log("course id in result comp ",n),this.searchSvc.getCourseById(n,i),this.router.navigate(["/course",i.toString().toLowerCase(),n])}selectCategory(n){this.selectedCategory=n,this.homepageCourseListingStore.filterHomePageCourseListing(n.toLowerCase())}resetFilters(){this.homepageCourseListingStore.resetFilter()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=q({type:e,selectors:[["app-home"]],decls:12,vars:8,consts:[["guestView",""],[4,"ngIf","ngIfElse"],[1,"container","mx-auto","px-4","py-8"],[1,"text-xl","font-semibold","mb-4"],[1,"flex","gap-4","mb-4","overflow-auto"],["class","btn",3,"btn-primary","click",4,"ngFor","ngForOf"],["class","carousel w-full",4,"ngIf"],[1,"text-2xl","font-semibold","mb-4"],[1,"carousel","rounded-box","w-full"],["class","carousel-item relative mr-2",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"flex","justify-center","gap-2","mt-4"],["href","#scheduleLearning","class","btn btn-xs",4,"ngIf"],[1,"carousel-item","relative","mr-2"],[1,"card","bg-base-100","shadow-xl"],[1,"btn","btn-sm","btn-circle","absolute","right-2","top-2",3,"click"],[1,"card-body"],[1,"card-title","text-white","dark:text-white"],[1,"text-white","dark:text-white"],[1,"card-actions","justify-end"],["href","#",1,"btn","btn-primary"],[1,"carousel-item","mr-2","max-w-xs","md:max-w-md","lg:max-w-lg"],["alt","Course Image",1,"w-full","h-48","object-cover",3,"src"],["target","_blank",1,"btn","btn-primary",3,"click"],["href","#scheduleLearning",1,"btn","btn-xs"],["routerLink","/join/login"],["src","/assets/banner-starttoday.png","alt","Login Banner"],[1,"btn",3,"click"],[1,"carousel","w-full"],[1,"flex","justify-center","gap-4","mt-4"],[1,"carousel-item","mr-2"],[1,"px-10","pt-10"],["alt","Course image",1,"rounded-xl",3,"src"],[1,"card-body","items-center","text-center"],[1,"card-title"],[1,"card-actions"]],template:function(i,o){if(i&1&&(f(0,"div"),T(1,wR,3,4,"div",1),le(2,"async"),T(3,CR,3,0,"ng-template",null,0,Yt),f(5,"div",2)(6,"h2",3),g(7,"Learners are viewing"),h(),f(8,"div",4),T(9,_R,2,3,"button",5),h(),T(10,ER,3,1,"div",6),le(11,"async"),h()()),i&2){let s=It(4);y(),w("ngIf",ye(2,4,o.isLoggedIn$))("ngIfElse",s),y(8),w("ngForOf",o.categories),y(),w("ngIf",ye(11,6,o.homepageCourses$))}},dependencies:[ct,ae,$n,qe]});let t=e;return t})();function SR(t,e){t&1&&(f(0,"div",17),g(1," First name is required. "),h())}function IR(t,e){t&1&&(f(0,"div",17),g(1," Last name is required. "),h())}function xR(t,e){t&1&&(f(0,"div",17),g(1," Email is required. "),h())}function MR(t,e){t&1&&(f(0,"div",17),g(1," Enter a valid email. "),h())}function TR(t,e){t&1&&(f(0,"div",17),g(1," Password is required. "),h())}function AR(t,e){t&1&&(f(0,"div",17),g(1," Password must contain at least one number and one special character. "),h())}function NR(t,e){t&1&&(f(0,"div",17),g(1," Passwords must match. "),h())}var Vw=(()=>{let e=class e{constructor(n){this.fb=n,this.authSvc=p(Ze),this.utilsSvc=p(Hn)}ngOnInit(){this.registerForm=this.fb.group({firstName:this.fb.control("",[Ce.required]),lastName:this.fb.control("",[Ce.required]),email:this.fb.control("",[Ce.required,Ce.email]),password:this.fb.control("",[Ce.required,this.utilsSvc.passwordValidator()]),confirmPassword:this.fb.control("",[Ce.required])},{validators:this.checkPasswordsEqual})}checkPasswordsEqual(n){let i=n.get("password")?.value,o=n.get("confirmPassword")?.value;return i===o?null:{passwordMismatch:!0}}processRegistration(){if(this.registerForm.valid){let n=this.registerForm.value,i=n.firstName,o=n.lastName,s=n.email,a=n.password;this.authSvc.processRegister(i,o,s,a)}}};e.\u0275fac=function(i){return new(i||e)(L(dt))},e.\u0275cmp=q({type:e,selectors:[["app-register"]],decls:31,vars:9,consts:[[1,"flex","items-start","justify-center","min-h-screen","bg-gray-800","pt-20"],[1,"w-1/3"],[1,"bg-white","shadow-md","px-8","pt-6","pb-8","mb-4","flex","flex-col"],[1,"mb-4"],[1,"text-gray-700","text-left","font-bold"],[1,"mb-4",3,"ngSubmit","formGroup"],["type","text","formControlName","firstName","placeholder","First Name",1,"bg-white","appearance-none","border","border-gray-700","w-full","py-2","px-4","text-black","leading-tight","focus:outline-none","focus:bg-white","focus:border-purple-500"],["class","text-red-500 text-xs italic",4,"ngIf"],["type","text","formControlName","lastName","placeholder","Last Name",1,"bg-white","appearance-none","border","border-gray-700","w-full","py-2","px-4","text-black","leading-tight","focus:outline-none","focus:bg-white","focus:border-purple-500"],["type","email","formControlName","email","placeholder","Email",1,"bg-white","appearance-none","border","border-gray-700","w-full","py-2","px-4","text-black","leading-tight","focus:outline-none","focus:bg-white","focus:border-purple-500"],["type","password","formControlName","password","placeholder","Password",1,"bg-white","appearance-none","border","border-gray-700","w-full","py-2","px-4","text-black","leading-tight","focus:outline-none","focus:bg-white","focus:border-purple-500"],[1,"mb-6"],["type","password","formControlName","confirmPassword","placeholder","Confirm Password",1,"bg-white","appearance-none","border","border-gray-700","w-full","py-2","px-4","text-black","leading-tight","focus:outline-none","focus:bg-white","focus:border-purple-500"],[1,"flex","items-center","justify-between"],["type","submit",1,"bg-purple-600","hover:bg-purple-500","text-white","font-bold","py-2","px-4","w-full","rounded",3,"disabled"],[1,"text-center","text-gray-500","text-xs"],["href","#",1,"text-primary","hover:text-purple-600"],[1,"text-red-500","text-xs","italic"]],template:function(i,o){if(i&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),g(5," Sign up to start learning "),h()(),f(6,"form",5),M("ngSubmit",function(){return o.processRegistration()}),f(7,"div",3),A(8,"input",6),T(9,SR,2,0,"div",7),h(),f(10,"div",3),A(11,"input",8),T(12,IR,2,0,"div",7),h(),f(13,"div",3),A(14,"input",9),T(15,xR,2,0,"div",7)(16,MR,2,0,"div",7),h(),f(17,"div",3),A(18,"input",10),T(19,TR,2,0,"div",7)(20,AR,2,0,"div",7),h(),f(21,"div",11),A(22,"input",12),T(23,NR,2,0,"div",7),h(),f(24,"div",13)(25,"button",14),g(26," Register "),h()()(),f(27,"p",15),g(28," Already have an account? "),f(29,"a",16),g(30,"Login"),h()()()()()),i&2){let s,a,c,l,u,d;y(6),w("formGroup",o.registerForm),y(3),w("ngIf",((s=o.registerForm.get("firstName"))==null||s.errors==null?null:s.errors.required)&&((s=o.registerForm.get("firstName"))==null?null:s.touched)),y(3),w("ngIf",((a=o.registerForm.get("lastName"))==null||a.errors==null?null:a.errors.required)&&((a=o.registerForm.get("lastName"))==null?null:a.touched)),y(3),w("ngIf",((c=o.registerForm.get("email"))==null||c.errors==null?null:c.errors.required)&&((c=o.registerForm.get("email"))==null?null:c.touched)),y(),w("ngIf",(l=o.registerForm.get("email"))==null||l.errors==null?null:l.errors.email),y(3),w("ngIf",((u=o.registerForm.get("password"))==null||u.errors==null?null:u.errors.required)&&((u=o.registerForm.get("password"))==null?null:u.touched)),y(),w("ngIf",((d=o.registerForm.get("password"))==null||d.errors==null?null:d.errors.invalidPassword)&&((d=o.registerForm.get("password"))==null?null:d.touched)),y(3),w("ngIf",o.registerForm.errors==null?null:o.registerForm.errors.passwordMismatch),y(2),w("disabled",o.registerForm.invalid)}},dependencies:[ae,At,ut,Mt,Tt,vt,bt]});let t=e;return t})();function RR(t,e){if(t&1){let r=J();f(0,"div",13)(1,"div",14),M("click",function(){let i=O(r).$implicit,o=S(3);return F(o.getCourseById(i.platformId,i.platform))}),A(2,"img",15),f(3,"div",16)(4,"h3",17),g(5),h(),f(6,"p",18),g(7),h()()()()}if(t&2){let r=e.$implicit;y(2),w("src",r.imageUrl,Ee),y(3),pe(r.title),y(2),Ne("Instructor: ",r.instructor,"")}}function OR(t,e){if(t&1&&(f(0,"div")(1,"div",11),T(2,RR,8,3,"div",12),h()()),t&2){let r=S().ngIf;y(2),w("ngForOf",r.registeredCourses)}}function FR(t,e){if(t&1&&(f(0,"div",9),T(1,OR,3,1,"div",10),h()),t&2){let r=e.ngIf;S();let n=It(12);y(),w("ngIf",r.registeredCourses.length>0)("ngIfElse",n)}}function PR(t,e){t&1&&(f(0,"p",19),g(1,"No saved courses yet."),h())}var jw=(()=>{let e=class e{constructor(){this.userSessionStore=p(ue),this.searchSvc=p(Jt),this.router=p(me)}ngOnInit(){this.accountDetails$=this.userSessionStore.select(n=>n.accountDetails)}getCourseById(n,i){this.searchSvc.getCourseById(n,i),this.router.navigate(["/course",i.toString().toLowerCase(),n])}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=q({type:e,selectors:[["app-courses"]],decls:13,vars:3,consts:[["noCourses",""],[1,"container","mx-auto","px-4","py-8"],[1,"bg-gray-700","text-white","w-full"],[1,"px-4","py-4"],[1,"text-3xl","mb-2","font-bold"],[1,"relative"],[1,"text-lg","pb-2"],[1,"absolute","bottom-0","left-0","w-1/6","border-b-2","border-white"],["class","px-4 py-8",4,"ngIf"],[1,"px-4","py-8"],[4,"ngIf","ngIfElse"],["tabindex","0","aria-label","My Learning Courses",1,"carousel","w-full"],["class","carousel-item space-x-4",4,"ngFor","ngForOf"],[1,"carousel-item","space-x-4"],[1,"group","relative","cursor-pointer","mr-2",3,"click"],["alt","Course Image",1,"w-full","h-60","object-cover","mb-2",3,"src"],[1,"text-black","p-4"],[1,"text-lg","text-black"],[1,"text-sm"],[1,"text-center","mt-4"]],template:function(i,o){i&1&&(f(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),g(4,"My Learning"),h(),f(5,"div",5)(6,"h3",6),g(7,"All Courses"),h(),A(8,"div",7),h()()(),T(9,FR,2,2,"div",8),le(10,"async"),T(11,PR,2,0,"ng-template",null,0,Yt),h()),i&2&&(y(9),w("ngIf",ye(10,1,o.accountDetails$)))},dependencies:[ct,ae,qe],styles:[".container[_ngcontent-%COMP%]{padding:20px}.course-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:20px}.course-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:200px;height:auto;margin-bottom:10px}"]});let t=e;return t})();function kR(t,e){if(t&1&&A(0,"img",11),t&2){let r=S(2);w("src",r.profilePicUrl,Ee)}}function LR(t,e){if(t&1&&(f(0,"div",1)(1,"div",2)(2,"div",3),T(3,kR,1,1,"img",4),h()(),f(4,"h2",5),g(5),h(),f(6,"nav")(7,"ul")(8,"li")(9,"a",6),g(10,"Edit account"),h()(),f(11,"li")(12,"a",7),g(13,"My courses"),h()(),f(14,"li")(15,"a",8),g(16,"Photo"),h()(),f(17,"li")(18,"a",9),g(19,"Friends"),h()(),f(20,"li")(21,"a",10),g(22,"Subscription"),h()()()()()),t&2){let r=e.ngIf,n=S();y(3),w("ngIf",n.profilePicUrl),y(2),vi("",r.firstName," ",r.lastName,"")}}var Uw=(()=>{let e=class e{constructor(){this.userSessionStore=p(ue)}ngOnInit(){this.accountDetails$=this.userSessionStore.select(n=>n.accountDetails),this.userSessionStore.profilePic$.subscribe(n=>{this.profilePicUrl=n})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=q({type:e,selectors:[["app-profile-nav"]],decls:2,vars:3,consts:[["class","flex flex-col items-center",4,"ngIf"],[1,"flex","flex-col","items-center"],[1,"avatar","online"],[1,"w-24","rounded-full"],["alt","Profile Picture",3,"src",4,"ngIf"],[1,"font-bold","mt-4"],["routerLink","/home/profile/edit-account"],["routerLink","/home/my-courses"],["routerLink","/home/profile/photo"],["routerLink","/home/profile/friends"],["routerLink","/home/profile/subscription"],["alt","Profile Picture",3,"src"]],template:function(i,o){i&1&&(T(0,LR,23,3,"div",0),le(1,"async")),i&2&&w("ngIf",ye(1,1,o.accountDetails$))},dependencies:[ae,$n,qe]});let t=e;return t})();var Bw=(()=>{let e=class e{constructor(){this.userSessionStore=p(ue)}ngOnInit(){this.accountDetails$=this.userSessionStore.select(n=>n.accountDetails)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=q({type:e,selectors:[["app-user-profile"]],decls:6,vars:0,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"flex"],[1,"w-1/4"],[1,"w-3/4","relative"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"div",1)(2,"div",2),A(3,"app-profile-nav"),h(),f(4,"div",3),A(5,"router-outlet"),h()()())},dependencies:[ks,Uw]});let t=e;return t})();function jR(t,e){t&1&&(f(0,"div",3)(1,"div",4)(2,"div",5)(3,"span"),g(4,"Profile updated successfully"),h()()()())}var $w=(()=>{let e=class e{constructor(){this.showSuccessNotification=!1}showSuccessfulEditNotification(){this.showSuccessNotification=!0,setTimeout(()=>{this.showSuccessNotification=!1},3e3)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=q({type:e,selectors:[["app-edit-account"]],decls:5,vars:1,consts:[[1,"text-xl","font-bold","text-center","mt-6"],[1,"text-center","mt-4"],["role","alert","class","alert alert-success",4,"ngIf"],["role","alert",1,"alert","alert-success"],[1,"toast","toast-top","toast-center"],[1,"alert","alert-success"]],template:function(i,o){i&1&&(f(0,"div",0),g(1,"Profile information"),h(),f(2,"div",1),g(3,"Edit your details"),h(),T(4,jR,5,0,"div",2)),i&2&&(y(4),w("ngIf",o.showSuccessNotification))},dependencies:[ae]});let t=e;return t})();var X=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(X||{}),zn="*";function Hw(t,e){return{type:X.Trigger,name:t,definitions:e,options:{}}}function zw(t,e=null){return{type:X.Animate,styles:e,timings:t}}function qw(t,e=null){return{type:X.Sequence,steps:t,options:e}}function No(t){return{type:X.Style,styles:t,offset:null}}function Lp(t,e,r){return{type:X.State,name:t,styles:e,options:r}}function Ww(t,e,r=null){return{type:X.Transition,expr:t,animation:e,options:r}}var jr=class{constructor(e=0,r=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+r}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let r=e=="start"?this._onStartFns:this._onDoneFns;r.forEach(n=>n()),r.length=0}},Ws=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let r=0,n=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++r==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let r=e*this.totalTime;this.players.forEach(n=>{let i=n.totalTime?Math.min(1,r/n.totalTime):1;n.setPosition(i)})}getPosition(){let e=this.players.reduce((r,n)=>r===null||n.totalTime>r.totalTime?n:r,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let r=e=="start"?this._onStartFns:this._onDoneFns;r.forEach(n=>n()),r.length=0}},Xl="!";function UR(t,e){if(t&1&&(f(0,"div")(1,"p"),g(2),h()()),t&2){let r=e.$implicit;y(2),vi("",r.title," ",r.instructor,"")}}function BR(t,e){if(t&1&&(f(0,"div")(1,"p"),g(2),h(),T(3,UR,3,2,"div",4),h()),t&2){let r=e.$implicit;y(2),vi("",r.firstName," ",r.lastName,""),y(),w("ngForOf",r.registeredCourses)}}function $R(t,e){if(t&1&&(f(0,"div"),T(1,BR,4,3,"div",4),h()),t&2){let r=e.ngIf;y(),w("ngForOf",r)}}function HR(t,e){t&1&&(f(0,"button",16),g(1,"Friends"),h())}function zR(t,e){if(t&1){let r=J();f(0,"button",17),M("click",function(){O(r);let i=S().ngIf,o=S(2);return F(o.addFriend(i.userId))}),g(1,"Add Friend"),h()}}function qR(t,e){t&1&&(f(0,"button",18),g(1,"Request Pending"),h())}function WR(t,e){if(t&1&&(f(0,"div",11),A(1,"img",12),f(2,"span"),g(3),h(),T(4,HR,2,0,"button",13)(5,zR,2,0,"button",14)(6,qR,2,0,"button",15),h()),t&2){let r=e.ngIf;y(),w("src",r.profilePicUrl,Ee),y(2),vi("",r.firstName," ",r.lastName,""),y(),w("ngIf",r.isFriend),y(),w("ngIf",!r.isFriend&&!r.status),y(),w("ngIf",!r.isFriend&&r.status==="PENDING")}}function GR(t,e){if(t&1){let r=J();f(0,"div",5)(1,"form",6),M("submit",function(i){O(r);let o=S();return F(o.search(i))}),A(2,"input",7),f(3,"button",8),M("click",function(){O(r);let i=S();return F(i.toggleSearchPopUp())}),g(4,"Cancel"),h(),f(5,"button",9),g(6,"Search"),h()(),T(7,WR,7,6,"div",10),le(8,"async"),h()}if(t&2){let r=S();y(),w("formGroup",r.friendSearchForm),y(6),w("ngIf",ye(8,2,r.foundFriend$))}}var Gw=(()=>{let e=class e{constructor(n){this.fb=n,this.userSessionStore=p(ue),this.userSvc=p(lt),this.friendStore=p(Pr),this.showSearchPopUp=!1,this.foundFriend$=this.userSvc.foundFriend$,this.subscription=new se}ngOnInit(){this.accountDetails$=this.userSessionStore.select(i=>i.accountDetails),this.subscription.add(this.userSessionStore.userId$.subscribe(i=>{this.userId=i})),this.friendSearchForm=this.fb.group({friendEmail:this.fb.control("",[Ce.required])});let n=localStorage.getItem("userId");n?this.friendStore.loadFriends(n):console.error("No userId found in localStorage")}toggleSearchPopUp(){this.showSearchPopUp=!this.showSearchPopUp,this.friendSearchForm.reset([""])}search(n){if(n.preventDefault(),this.friendSearchForm.valid){let i=this.friendSearchForm.get("friendEmail").value;this.userSvc.searchForFriendByEmail(this.userId,i)}}addFriend(n){let i={requestId:"",senderId:this.userId,receiverId:n,status:"PENDING"};this.userSvc.addFriend(i).subscribe({next:o=>{console.log("Friend request made successfully",o),this.userSvc.updateFoundFriendStatus(n,"PENDING")},error:o=>{console.error("Error making friend request",o)}})}};e.\u0275fac=function(i){return new(i||e)(L(dt))},e.\u0275cmp=q({type:e,selectors:[["app-friends"]],decls:7,vars:4,consts:[[1,"friends-content"],["type","text","placeholder","Find your friends",3,"click"],[4,"ngIf"],["class","search-pop-up",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"search-pop-up"],[1,"flex","items-center","justify-between","p-4",3,"submit","formGroup"],["type","text","formControlName","friendEmail","placeholder","Search by email",1,"input","flex-grow","mr-4","text-white"],["type","button",1,"cancel-btn",3,"click"],["type","submit",1,"btn","btn-primary"],["class","flex items-center space-x-4 p-2",4,"ngIf"],[1,"flex","items-center","space-x-4","p-2"],["alt","Profile",1,"h-8","w-8","rounded-full","cursor-pointer",3,"src"],["type","button","class","btn btn-disabled","disabled","",4,"ngIf"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],["type","button","class","btn btn-info",4,"ngIf"],["type","button","disabled","",1,"btn","btn-disabled"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-info"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"p"),g(2,"My friends"),h(),f(3,"input",1),M("click",function(){return o.toggleSearchPopUp()}),h(),T(4,$R,2,1,"div",2),le(5,"async"),T(6,GR,9,4,"div",3),h()),i&2&&(y(4),w("ngIf",ye(5,2,o.friendStore.friendList$)),y(2),w("ngIf",o.showSearchPopUp))},dependencies:[ct,ae,At,ut,Mt,Tt,vt,bt,qe],styles:[".main-container[_ngcontent-%COMP%]{position:relative}.sidebar[_ngcontent-%COMP%]{width:25%;float:left}.content[_ngcontent-%COMP%]{width:75%;float:left}.friends-content[_ngcontent-%COMP%]{position:relative}.search-pop-up[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;background-color:#fffffff2;z-index:10;padding:20px;box-shadow:0 4px 6px #0000001a}"],data:{animation:[Hw("popUpAnimation",[Lp("closed",No({transform:"translateY(100%)"})),Lp("open",No({transform:"translateY(0)"})),Ww("closed <=> open",zw("300ms ease-out"))])]}});let t=e;return t})();var ar=(t,e)=>{let r=p(Ze),n=p(me);return console.info("ROLE_USER; can proceed"),r.hasRole("ROLE_USER")||r.hasRole("ROLE_SUBSCRIBER")?!0:(n.navigate(["/join/login"]),!1)},Qw=(t,e)=>{let r=p(Ze),n=p(me);return r.isSubscriber()?(console.info("ROLE_SUBSCRIBER; can proceed"),!0):(n.navigate(["/join/subscribe"]),!1)},Yw=(t,e,r)=>t.createThreadForm.dirty&&!t.isSubmitting?confirm("Would you like to discard your post?"):!0;var QR=["wrapper"],YR=["sourceImage"];function KR(t,e){if(t&1){let r=J();f(0,"img",5,1),M("load",function(){O(r);let i=S();return F(i.imageLoadedInView())})("mousedown",function(i){O(r);let o=S();return F(o.startMove(i,o.moveTypes.Drag))})("touchstart",function(i){O(r);let o=S();return F(o.startMove(i,o.moveTypes.Drag))})("error",function(i){O(r);let o=S();return F(o.loadImageError(i))}),h()}if(t&2){let r=S();xr("visibility",r.imageVisible?"visible":"hidden")("transform",r.safeTransformStyle),Gt("ngx-ic-draggable",!r.disabled&&r.allowMoveImage),w("src",r.safeImgDataUrl,Ee),yi("alt",r.imageAltText)}}function ZR(t,e){if(t&1){let r=J();Ln(0),f(1,"span",9),M("mousedown",function(i){O(r);let o=S(2);return F(o.startMove(i,o.moveTypes.Resize,"topleft"))})("touchstart",function(i){O(r);let o=S(2);return F(o.startMove(i,o.moveTypes.Resize,"topleft"))}),A(2,"span",10),h(),f(3,"span",11),A(4,"span",10),h(),f(5,"span",12),M("mousedown",function(i){O(r);let o=S(2);return F(o.startMove(i,o.moveTypes.Resize,"topright"))})("touchstart",function(i){O(r);let o=S(2);return F(o.startMove(i,o.moveTypes.Resize,"topright"))}),A(6,"span",10),h(),f(7,"span",13),A(8,"span",10),h(),f(9,"span",14),M("mousedown",function(i){O(r);let o=S(2);return F(o.startMove(i,o.moveTypes.Resize,"bottomright"))})("touchstart",function(i){O(r);let o=S(2);return F(o.startMove(i,o.moveTypes.Resize,"bottomright"))}),A(10,"span",10),h(),f(11,"span",15),A(12,"span",10),h(),f(13,"span",16),M("mousedown",function(i){O(r);let o=S(2);return F(o.startMove(i,o.moveTypes.Resize,"bottomleft"))})("touchstart",function(i){O(r);let o=S(2);return F(o.startMove(i,o.moveTypes.Resize,"bottomleft"))}),A(14,"span",10),h(),f(15,"span",17),A(16,"span",10),h(),f(17,"span",18),M("mousedown",function(i){O(r);let o=S(2);return F(o.startMove(i,o.moveTypes.Resize,"top"))})("touchstart",function(i){O(r);let o=S(2);return F(o.startMove(i,o.moveTypes.Resize,"top"))}),h(),f(18,"span",19),M("mousedown",function(i){O(r);let o=S(2);return F(o.startMove(i,o.moveTypes.Resize,"right"))})("touchstart",function(i){O(r);let o=S(2);return F(o.startMove(i,o.moveTypes.Resize,"right"))}),h(),f(19,"span",20),M("mousedown",function(i){O(r);let o=S(2);return F(o.startMove(i,o.moveTypes.Resize,"bottom"))})("touchstart",function(i){O(r);let o=S(2);return F(o.startMove(i,o.moveTypes.Resize,"bottom"))}),h(),f(20,"span",21),M("mousedown",function(i){O(r);let o=S(2);return F(o.startMove(i,o.moveTypes.Resize,"left"))})("touchstart",function(i){O(r);let o=S(2);return F(o.startMove(i,o.moveTypes.Resize,"left"))}),h(),Vn()}}function XR(t,e){if(t&1){let r=J();f(0,"div",6),M("keydown",function(i){O(r);let o=S();return F(o.keyboardAccess(i))}),f(1,"div",7),M("mousedown",function(i){O(r);let o=S();return F(o.startMove(i,o.moveTypes.Move))})("touchstart",function(i){O(r);let o=S();return F(o.startMove(i,o.moveTypes.Move))}),h(),T(2,ZR,21,0,"ng-container",8),h()}if(t&2){let r=S();xr("top",r.cropper.y1,"px")("left",r.cropper.x1,"px")("width",r.cropper.x2-r.cropper.x1,"px")("height",r.cropper.y2-r.cropper.y1,"px")("margin-left",r.alignImage==="center"?r.marginLeft:null)("visibility",r.imageVisible?"visible":"hidden"),Gt("ngx-ic-round",r.roundCropper),yi("aria-label",r.cropperFrameAriaLabel),y(2),w("ngIf",!r.hideResizeSquares)}}var Vp=class{constructor(){this.format="png",this.output="blob",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resetCropOnAspectRatioChange=!0,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=null,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperFrameAriaLabel="Crop photo",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(e){Object.keys(e).filter(r=>r in this).forEach(r=>this[r]=e[r]),this.validateOptions()}setOptionsFromChanges(e){Object.keys(e).filter(r=>r in this).forEach(r=>this[r]=e[r].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}},en=function(t){return t.Drag="drag",t.Move="move",t.Resize="resize",t.Pinch="pinch",t}(en||{});function JR(t){switch(t){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}function eO(t){switch(t){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}function tO(t,e){switch(t){case"ArrowUp":return{clientX:0,clientY:e*-1};case"ArrowRight":return{clientX:e,clientY:0};case"ArrowDown":return{clientX:0,clientY:e};case"ArrowLeft":default:return{clientX:e*-1,clientY:0}}}function nO(t,e,r){let n=t.width,i=t.height;e=Math.round(e),r=Math.round(r);let o=n/e,s=i/r,a=Math.ceil(o/2),c=Math.ceil(s/2),l=t.getContext("2d");if(l){let u=l.getImageData(0,0,n,i),d=l.createImageData(e,r),m=u.data,v=d.data;for(let b=0;b<r;b++)for(let D=0;D<e;D++){let x=(D+b*e)*4,I=b*s,U=0,re=0,Q=0,He=0,Se=0,Ie=0,Ue=0,nn=Math.floor(D*o),Sn=Math.floor(b*s),Mi=Math.ceil((D+1)*o),rn=Math.ceil((b+1)*s);Mi=Math.min(Mi,n),rn=Math.min(rn,i);for(let lr=Sn;lr<rn;lr++){let Vo=Math.abs(I-lr)/c,ra=D*o,P=Vo*Vo;for(let V=nn;V<Mi;V++){let H=Math.abs(ra-V)/a,te=Math.sqrt(P+H*H);if(te>=1)continue;U=2*te*te*te-3*te*te+1;let Oe=4*(V+lr*n);Ue+=U*m[Oe+3],Q+=U,m[Oe+3]<255&&(U=U*m[Oe+3]/250),He+=U*m[Oe],Se+=U*m[Oe+1],Ie+=U*m[Oe+2],re+=U}}v[x]=He/re,v[x+1]=Se/re,v[x+2]=Ie/re,v[x+3]=Ue/Q}t.width=e,t.height=r,l.putImageData(d,0,0)}}function Kw(t,e){return t/100*e}var rO=(()=>{class t{crop(r,n,i,o,s){let a=this.getImagePosition(r,n,i,s),c=a.x2-a.x1,l=a.y2-a.y1,u=document.createElement("canvas");u.width=c,u.height=l;let d=u.getContext("2d");if(!d)return null;i.backgroundColor!=null&&(d.fillStyle=i.backgroundColor,d.fillRect(0,0,c,l));let m=(i.transform.scale||1)*(i.transform.flipH?-1:1),v=(i.transform.scale||1)*(i.transform.flipV?-1:1),{translateH:b,translateV:D}=this.getCanvasTranslate(r,i,s),x=r.transformed;d.setTransform(m,0,0,v,x.size.width/2+b,x.size.height/2+D),d.translate(-a.x1/m,-a.y1/v),d.rotate((i.transform.rotate||0)*Math.PI/180),d.drawImage(x.image,-x.size.width/2,-x.size.height/2);let I={width:c,height:l,imagePosition:a,cropperPosition:C({},n)};i.containWithinAspectRatio&&(I.offsetImagePosition=this.getOffsetImagePosition(r,n,i,s));let U=this.getResizeRatio(c,l,i);return U!==1&&(I.width=Math.round(c*U),I.height=i.maintainAspectRatio?Math.round(I.width/i.aspectRatio):Math.round(l*U),nO(u,I.width,I.height)),o==="blob"?this.cropToBlob(I,u,i):(I.base64=u.toDataURL("image/"+i.format,this.getQuality(i)),I)}cropToBlob(r,n,i){return ft(this,null,function*(){return r.blob=yield new Promise(o=>n.toBlob(o,"image/"+i.format,this.getQuality(i))),r.blob&&(r.objectUrl=URL.createObjectURL(r.blob)),r})}getCanvasTranslate(r,n,i){if(n.transform.translateUnit==="px"){let o=this.getRatio(r,i);return{translateH:(n.transform.translateH||0)*o,translateV:(n.transform.translateV||0)*o}}else return{translateH:n.transform.translateH?Kw(n.transform.translateH,r.transformed.size.width):0,translateV:n.transform.translateV?Kw(n.transform.translateV,r.transformed.size.height):0}}getRatio(r,n){return r.transformed.size.width/n.width}getImagePosition(r,n,i,o){let s=this.getRatio(r,o),a={x1:Math.round(n.x1*s),y1:Math.round(n.y1*s),x2:Math.round(n.x2*s),y2:Math.round(n.y2*s)};return i.containWithinAspectRatio||(a.x1=Math.max(a.x1,0),a.y1=Math.max(a.y1,0),a.x2=Math.min(a.x2,r.transformed.size.width),a.y2=Math.min(a.y2,r.transformed.size.height)),a}getOffsetImagePosition(r,n,i,o){let s=i.canvasRotation+r.exifTransform.rotate,a=this.getRatio(r,o),c,l;s%2?(c=(r.transformed.size.width-r.original.size.height)/2,l=(r.transformed.size.height-r.original.size.width)/2):(c=(r.transformed.size.width-r.original.size.width)/2,l=(r.transformed.size.height-r.original.size.height)/2);let u={x1:Math.round(n.x1*a)-c,y1:Math.round(n.y1*a)-l,x2:Math.round(n.x2*a)-c,y2:Math.round(n.y2*a)-l};return i.containWithinAspectRatio||(u.x1=Math.max(u.x1,0),u.y1=Math.max(u.y1,0),u.x2=Math.min(u.x2,r.transformed.size.width),u.y2=Math.min(u.y2,r.transformed.size.height)),u}getResizeRatio(r,n,i){let o=i.resizeToWidth/r,s=i.resizeToHeight/n,a=new Array;i.resizeToWidth>0&&a.push(o),i.resizeToHeight>0&&a.push(s);let c=a.length===0?1:Math.min(...a);return c>1&&!i.onlyScaleDown?c:Math.min(c,1)}getQuality(r){return Math.min(1,Math.max(0,r.imageQuality/100))}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),iO=(()=>{class t{resetCropperPosition(r,n,i,o){if(r?.nativeElement)if(i.cropperStaticHeight&&i.cropperStaticWidth)n.x1=0,n.x2=o.width>i.cropperStaticWidth?i.cropperStaticWidth:o.width,n.y1=0,n.y2=o.height>i.cropperStaticHeight?i.cropperStaticHeight:o.height;else{let s=Math.min(i.cropperScaledMaxWidth,o.width),a=Math.min(i.cropperScaledMaxHeight,o.height);if(!i.maintainAspectRatio)n.x1=0,n.x2=s,n.y1=0,n.y2=a;else if(o.width/i.aspectRatio<o.height){n.x1=0,n.x2=s;let c=s/i.aspectRatio;n.y1=(o.height-c)/2,n.y2=n.y1+c}else{n.y1=0,n.y2=a;let c=a*i.aspectRatio;n.x1=(o.width-c)/2,n.x2=n.x1+c}}}move(r,n,i){let o=this.getClientX(r)-n.clientX,s=this.getClientY(r)-n.clientY;i.x1=n.x1+o,i.y1=n.y1+s,i.x2=n.x2+o,i.y2=n.y2+s}resize(r,n,i,o,s){let a=this.getClientX(r)-n.clientX,c=this.getClientY(r)-n.clientY;switch(n.position){case"left":i.x1=Math.min(Math.max(n.x1+a,i.x2-s.cropperScaledMaxWidth),i.x2-s.cropperScaledMinWidth);break;case"topleft":i.x1=Math.min(Math.max(n.x1+a,i.x2-s.cropperScaledMaxWidth),i.x2-s.cropperScaledMinWidth),i.y1=Math.min(Math.max(n.y1+c,i.y2-s.cropperScaledMaxHeight),i.y2-s.cropperScaledMinHeight);break;case"top":i.y1=Math.min(Math.max(n.y1+c,i.y2-s.cropperScaledMaxHeight),i.y2-s.cropperScaledMinHeight);break;case"topright":i.x2=Math.max(Math.min(n.x2+a,i.x1+s.cropperScaledMaxWidth),i.x1+s.cropperScaledMinWidth),i.y1=Math.min(Math.max(n.y1+c,i.y2-s.cropperScaledMaxHeight),i.y2-s.cropperScaledMinHeight);break;case"right":i.x2=Math.max(Math.min(n.x2+a,i.x1+s.cropperScaledMaxWidth),i.x1+s.cropperScaledMinWidth);break;case"bottomright":i.x2=Math.max(Math.min(n.x2+a,i.x1+s.cropperScaledMaxWidth),i.x1+s.cropperScaledMinWidth),i.y2=Math.max(Math.min(n.y2+c,i.y1+s.cropperScaledMaxHeight),i.y1+s.cropperScaledMinHeight);break;case"bottom":i.y2=Math.max(Math.min(n.y2+c,i.y1+s.cropperScaledMaxHeight),i.y1+s.cropperScaledMinHeight);break;case"bottomleft":i.x1=Math.min(Math.max(n.x1+a,i.x2-s.cropperScaledMaxWidth),i.x2-s.cropperScaledMinWidth),i.y2=Math.max(Math.min(n.y2+c,i.y1+s.cropperScaledMaxHeight),i.y1+s.cropperScaledMinHeight);break;case"center":let l=r.scale,u=Math.min(Math.max(s.cropperScaledMinWidth,Math.abs(n.x2-n.x1)*l),s.cropperScaledMaxWidth),d=Math.min(Math.max(s.cropperScaledMinHeight,Math.abs(n.y2-n.y1)*l),s.cropperScaledMaxHeight);i.x1=n.clientX-u/2,i.x2=n.clientX+u/2,i.y1=n.clientY-d/2,i.y2=n.clientY+d/2,i.x1<0?(i.x2-=i.x1,i.x1=0):i.x2>o.width&&(i.x1-=i.x2-o.width,i.x2=o.width),i.y1<0?(i.y2-=i.y1,i.y1=0):i.y2>o.height&&(i.y1-=i.y2-o.height,i.y2=o.height);break}s.maintainAspectRatio&&this.checkAspectRatio(n.position,i,o,s)}checkAspectRatio(r,n,i,o){let s=0,a=0;switch(r){case"top":n.x2=n.x1+(n.y2-n.y1)*o.aspectRatio,s=Math.max(n.x2-i.width,0),a=Math.max(0-n.y1,0),(s>0||a>0)&&(n.x2-=a*o.aspectRatio>s?a*o.aspectRatio:s,n.y1+=a*o.aspectRatio>s?a:s/o.aspectRatio);break;case"bottom":n.x2=n.x1+(n.y2-n.y1)*o.aspectRatio,s=Math.max(n.x2-i.width,0),a=Math.max(n.y2-i.height,0),(s>0||a>0)&&(n.x2-=a*o.aspectRatio>s?a*o.aspectRatio:s,n.y2-=a*o.aspectRatio>s?a:s/o.aspectRatio);break;case"topleft":n.y1=n.y2-(n.x2-n.x1)/o.aspectRatio,s=Math.max(0-n.x1,0),a=Math.max(0-n.y1,0),(s>0||a>0)&&(n.x1+=a*o.aspectRatio>s?a*o.aspectRatio:s,n.y1+=a*o.aspectRatio>s?a:s/o.aspectRatio);break;case"topright":n.y1=n.y2-(n.x2-n.x1)/o.aspectRatio,s=Math.max(n.x2-i.width,0),a=Math.max(0-n.y1,0),(s>0||a>0)&&(n.x2-=a*o.aspectRatio>s?a*o.aspectRatio:s,n.y1+=a*o.aspectRatio>s?a:s/o.aspectRatio);break;case"right":case"bottomright":n.y2=n.y1+(n.x2-n.x1)/o.aspectRatio,s=Math.max(n.x2-i.width,0),a=Math.max(n.y2-i.height,0),(s>0||a>0)&&(n.x2-=a*o.aspectRatio>s?a*o.aspectRatio:s,n.y2-=a*o.aspectRatio>s?a:s/o.aspectRatio);break;case"left":case"bottomleft":n.y2=n.y1+(n.x2-n.x1)/o.aspectRatio,s=Math.max(0-n.x1,0),a=Math.max(n.y2-i.height,0),(s>0||a>0)&&(n.x1+=a*o.aspectRatio>s?a*o.aspectRatio:s,n.y2-=a*o.aspectRatio>s?a:s/o.aspectRatio);break;case"center":n.x2=n.x1+(n.y2-n.y1)*o.aspectRatio,n.y2=n.y1+(n.x2-n.x1)/o.aspectRatio;let c=Math.max(0-n.x1,0),l=Math.max(n.x2-i.width,0),u=Math.max(n.y2-i.height,0),d=Math.max(0-n.y1,0);(c>0||l>0||u>0||d>0)&&(n.x1+=u*o.aspectRatio>c?u*o.aspectRatio:c,n.x2-=d*o.aspectRatio>l?d*o.aspectRatio:l,n.y1+=d*o.aspectRatio>l?d:l/o.aspectRatio,n.y2-=u*o.aspectRatio>c?u:c/o.aspectRatio);break}}getClientX(r){return r.touches?.[0].clientX||r.clientX||0}getClientY(r){return r.touches?.[0].clientY||r.clientY||0}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),oO="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==";function sO(){return new Promise(t=>{let e=new Image;e.onload=()=>{let r=e.width===1&&e.height===2;t(r)},e.src=oO})}function aO(t){switch(typeof t=="object"&&(t=cO(t)),t){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}function cO(t){let e=new DataView(t);if(e.getUint16(0,!1)!==65496)return-2;let r=e.byteLength,n=2;for(;n<r;){if(e.getUint16(n+2,!1)<=8)return-1;let i=e.getUint16(n,!1);if(n+=2,i==65505){if(e.getUint32(n+=2,!1)!==1165519206)return-1;let o=e.getUint16(n+=6,!1)==18761;n+=e.getUint32(n+4,o);let s=e.getUint16(n,o);n+=2;for(let a=0;a<s;a++)if(e.getUint16(n+a*12,o)==274)return e.getUint16(n+a*12+8,o)}else{if((i&65280)!==65280)break;n+=e.getUint16(n,!1)}}return-1}var lO=(()=>{class t{constructor(){this.autoRotateSupported=sO()}loadImageFile(r,n){return ft(this,null,function*(){let i=yield r.arrayBuffer();return yield this.checkImageTypeAndLoadImageFromArrayBuffer(i,r.type,n)})}checkImageTypeAndLoadImageFromArrayBuffer(r,n,i){return this.isValidImageType(n)?this.loadImageFromArrayBuffer(r,i,n):Promise.reject(new Error("Invalid image type"))}isValidImageType(r){return/image\/(png|jpg|jpeg|bmp|gif|tiff|svg|webp|x-icon|vnd.microsoft.icon)/.test(r)}loadImageFromURL(r,n){return ft(this,null,function*(){let o=yield(yield fetch(r)).blob(),s=yield o.arrayBuffer();return yield this.loadImageFromArrayBuffer(s,n,o.type)})}loadBase64Image(r,n){let i=this.base64ToArrayBuffer(r);return this.loadImageFromArrayBuffer(i,n)}base64ToArrayBuffer(r){r=r.replace(/^data:([^;]+);base64,/gmi,"");let n=atob(r),i=n.length,o=new Uint8Array(i);for(let s=0;s<i;s++)o[s]=n.charCodeAt(s);return o.buffer}loadImageFromArrayBuffer(r,n,i){return ft(this,null,function*(){let o=yield new Promise((s,a)=>ft(this,null,function*(){try{let c=new Blob([r],i?{type:i}:void 0),l=URL.createObjectURL(c),u=new Image,m=i==="image/svg+xml"?yield this.getSvgImageSize(c):void 0;u.onload=()=>s({originalImage:u,originalImageSize:m,originalObjectUrl:l,originalArrayBuffer:r}),u.onerror=a,u.src=l}catch(c){a(c)}}));return yield this.transformImageFromArrayBuffer(o,n,o.originalImageSize!=null)})}getSvgImageSize(r){return ft(this,null,function*(){let o=new DOMParser().parseFromString(yield r.text(),"image/svg+xml").querySelector("svg");if(!o)throw Error("Failed to parse SVG image");let s=o.getAttribute("width"),a=o.getAttribute("height");if(s&&a)return null;let c=o.getAttribute("viewBox")||o.getAttribute("viewbox");if(c){let l=c.split(" ");return{width:+l[2],height:+l[3]}}throw Error("Failed to load SVG image. SVG must have width + height or viewBox definition.")})}transformImageFromArrayBuffer(r,n,i=!1){return ft(this,null,function*(){let o=yield this.autoRotateSupported,s=aO(o?-1:r.originalArrayBuffer);if(!r.originalImage||!r.originalImage.complete)return Promise.reject(new Error("No image loaded"));let a={original:{objectUrl:r.originalObjectUrl,image:r.originalImage,size:r.originalImageSize??{width:r.originalImage.naturalWidth,height:r.originalImage.naturalHeight}},exifTransform:s};return this.transformLoadedImage(a,n,i)})}transformLoadedImage(r,n,i=!1){return ft(this,null,function*(){let o=n.canvasRotation+r.exifTransform.rotate,s=r.original.size;if(!i&&o===0&&!r.exifTransform.flip&&!n.containWithinAspectRatio)return{original:{objectUrl:r.original.objectUrl,image:r.original.image,size:C({},s)},transformed:{objectUrl:r.original.objectUrl,image:r.original.image,size:C({},s)},exifTransform:r.exifTransform};let a=this.getTransformedSize(s,r.exifTransform,n),c=document.createElement("canvas");c.width=a.width,c.height=a.height;let l=c.getContext("2d");l?.setTransform(r.exifTransform.flip?-1:1,0,0,1,c.width/2,c.height/2),l?.rotate(Math.PI*(o/2)),l?.drawImage(r.original.image,-s.width/2,-s.height/2);let u=yield new Promise(v=>c.toBlob(v,n.format));if(!u)throw new Error("Failed to get Blob for transformed image.");let d=URL.createObjectURL(u),m=yield this.loadImageFromObjectUrl(d);return{original:{objectUrl:r.original.objectUrl,image:r.original.image,size:C({},s)},transformed:{objectUrl:d,image:m,size:{width:m.width,height:m.height}},exifTransform:r.exifTransform}})}loadImageFromObjectUrl(r){return new Promise((n,i)=>{let o=new Image;o.onload=()=>n(o),o.onerror=i,o.src=r})}getTransformedSize(r,n,i){let o=i.canvasRotation+n.rotate;if(i.containWithinAspectRatio)if(o%2){let s=r.width*i.aspectRatio,a=r.height/i.aspectRatio;return{width:Math.max(r.height,s),height:Math.max(r.width,a)}}else{let s=r.height*i.aspectRatio,a=r.width/i.aspectRatio;return{width:Math.max(r.width,s),height:Math.max(r.height,a)}}return o%2?{height:r.width,width:r.height}:{width:r.width,height:r.height}}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Zw=(()=>{class t{constructor(r,n,i,o,s,a,c){this.cropService=r,this.cropperPositionService=n,this.loadImageService=i,this.sanitizer=o,this.cd=s,this.zone=a,this.hammerLoader=c,this.settings=new Vp,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.marginLeft="0px",this.maxSize={width:0,height:0},this.moveTypes=en,this.imageVisible=!1,this.cropperFrameAriaLabel=this.settings.cropperFrameAriaLabel,this.output=this.settings.output,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resetCropOnAspectRatioChange=this.settings.resetCropOnAspectRatioChange,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.allowMoveImage=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.hidden=!1,this.imageCropped=new De,this.startCropImage=new De,this.imageLoaded=new De,this.cropperReady=new De,this.loadImageFailed=new De,this.transformChange=new De,this.reset()}ngOnChanges(r){this.onChangesUpdateSettings(r),this.onChangesInputImage(r),this.loadedImage?.original.image.complete&&(r.containWithinAspectRatio||r.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n)),(r.cropper||r.maintainAspectRatio||r.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.maintainAspectRatio&&(this.resetCropOnAspectRatioChange||!this.aspectRatioIsCorrect())&&(r.maintainAspectRatio||r.aspectRatio)?this.resetCropperPosition():r.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop())),r.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop()),r.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesUpdateSettings(r){this.settings.setOptionsFromChanges(r),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&(this.hideResizeSquares=!0,this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1}))}onChangesInputImage(r){(r.imageChangedEvent||r.imageURL||r.imageBase64||r.imageFile)&&this.reset(),r.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),r.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),r.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),r.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){return this.imageChangedEvent?.target?.files?.length>0}setCssTransform(){let r=this.transform?.translateUnit||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH||0}${r}, ${this.transform.translateV||0}${r}) scaleX(`+(this.transform.scale||1)*(this.transform.flipH?-1:1)+") scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+") rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=void 0,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(r){this.loadImageService.loadImageFile(r,this.settings).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n))}loadBase64Image(r){this.loadImageService.loadBase64Image(r,this.settings).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n))}loadImageFromURL(r){this.loadImageService.loadImageFromURL(r,this.settings).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n))}setLoadedImage(r){this.loadedImage=r,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(r.transformed.objectUrl),this.cd.markForCheck()}loadImageError(r){console.error(r),this.loadImageFailed.emit()}imageLoadedInView(){this.loadedImage!=null&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(C({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage?.nativeElement?.offsetWidth>0}onResize(){if(this.loadedImage)if(this.hidden)this.resizedWhileHidden=!0;else{let r=C({},this.maxSize);this.setMaxSize(),this.resizeCropperPosition(r),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()}}activatePinchGesture(){return ft(this,null,function*(){yield this.hammerLoader?.();let r=window?.Hammer||null;if(r){let n=new r(this.wrapper.nativeElement);n.get("pinch").set({enable:!0}),n.on("pinchmove",this.onPinch.bind(this)),n.on("pinchend",this.pinchStop.bind(this)),n.on("pinchstart",this.startPinch.bind(this))}else uo()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")})}resizeCropperPosition(r){(r.width!==this.maxSize.width||r.height!==this.maxSize.height)&&(this.cropper.x1=this.cropper.x1*this.maxSize.width/r.width,this.cropper.x2=this.cropper.x2*this.maxSize.width/r.width,this.cropper.y1=this.cropper.y1*this.maxSize.height/r.height,this.cropper.y2=this.cropper.y2*this.maxSize.height/r.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings,this.maxSize),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(r){this.changeKeyboardStepSize(r),this.keyboardMoveCropper(r)}changeKeyboardStepSize(r){let n=+r.key;n>=1&&n<=9&&(this.settings.stepSize=n)}keyboardMoveCropper(r){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(r.key))return;let i=r.shiftKey?en.Resize:en.Move,o=r.altKey?eO(r.key):JR(r.key),s=tO(r.key,this.settings.stepSize);r.preventDefault(),r.stopPropagation(),this.startMove({clientX:0,clientY:0},i,o),this.handleMouseMove(s),this.handleMouseUp()}startMove(r,n,i=null){this.disabled||this.moveStart?.active&&this.moveStart?.type===en.Pinch||n===en.Drag&&!this.allowMoveImage||(r.preventDefault&&r.preventDefault(),this.moveStart=C({active:!0,type:n,position:i,transform:C({},this.transform),clientX:this.cropperPositionService.getClientX(r),clientY:this.cropperPositionService.getClientY(r)},this.cropper),this.initMouseMove())}initMouseMove(){Qr(un(document,"mousemove"),un(document,"touchmove")).pipe(dn(Qr(un(document,"mouseup"),un(document,"touchend")).pipe(Ht()))).subscribe({next:r=>this.zone.run(()=>{this.handleMouseMove(r),this.cd.markForCheck()}),complete:()=>this.zone.run(()=>{this.handleMouseUp(),this.cd.markForCheck()})})}startPinch(r){this.safeImgDataUrl&&(r.preventDefault&&r.preventDefault(),this.moveStart=C({active:!0,type:en.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}handleMouseMove(r){if(this.moveStart.active){if(r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault(),this.moveStart.type===en.Move)this.cropperPositionService.move(r,this.moveStart,this.cropper),this.checkCropperPosition(!0);else if(this.moveStart.type===en.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(r,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1);else if(this.moveStart.type===en.Drag){let n=this.cropperPositionService.getClientX(r)-this.moveStart.clientX,i=this.cropperPositionService.getClientY(r)-this.moveStart.clientY;this.transform=$(C({},this.transform),{translateH:(this.moveStart.transform?.translateH||0)+n,translateV:(this.moveStart.transform?.translateV||0)+i}),this.setCssTransform()}}}onPinch(r){this.moveStart.active&&(r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault(),this.moveStart.type===en.Pinch&&(this.cropperPositionService.resize(r,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.markForCheck())}setMaxSize(){if(this.sourceImage){let r=getComputedStyle(this.sourceImage.nativeElement);this.maxSize.width=parseFloat(r.width),this.maxSize.height=parseFloat(r.height),this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){this.loadedImage?.transformed?.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.maintainAspectRatio?this.settings.cropperScaledMinHeight=Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?this.settings.cropperScaledMinHeight=Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):this.settings.cropperScaledMinHeight=20}setCropperScaledMaxSize(){if(this.loadedImage?.transformed?.image){let r=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/r:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/r:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(r=!1){this.cropper.x1<0&&(this.cropper.x2-=r?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=r?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=r?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=r?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}handleMouseUp(){this.moveStart.active&&(this.moveStart.active=!1,this.moveStart?.type===en.Drag?this.transformChange.emit(this.transform):this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(r=this.settings.output){if(this.loadedImage?.transformed?.image!=null){if(this.startCropImage.emit(),r==="blob")return this.cropToBlob();if(r==="base64")return this.cropToBase64()}return null}cropToBlob(){return new Promise((r,n)=>this.zone.run(()=>ft(this,null,function*(){let i=yield this.cropService.crop(this.loadedImage,this.cropper,this.settings,"blob",this.maxSize);i?(this.imageCropped.emit(i),r(i)):n("Crop image failed")})))}cropToBase64(){let r=this.cropService.crop(this.loadedImage,this.cropper,this.settings,"base64",this.maxSize);return r?(this.imageCropped.emit(r),r):null}aspectRatioIsCorrect(){return(this.cropper.x2-this.cropper.x1)/(this.cropper.y2-this.cropper.y1)===this.aspectRatio}}return t.\u0275fac=function(r){return new(r||t)(L(rO),L(iO),L(lO),L(vs),L(nr),L(he),L(ub,8))},t.\u0275cmp=q({type:t,selectors:[["image-cropper"]],viewQuery:function(r,n){if(r&1&&(nh(QR,7),nh(YR,5)),r&2){let i;$c(i=Hc())&&(n.wrapper=i.first),$c(i=Hc())&&(n.sourceImage=i.first)}},hostVars:6,hostBindings:function(r,n){r&1&&M("resize",function(){return n.onResize()},!1,Nv),r&2&&(xr("text-align",n.alignImage),Gt("disabled",n.disabled)("ngx-ix-hidden",n.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",cropperFrameAriaLabel:"cropperFrameAriaLabel",output:"output",format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange"},features:[kn],decls:5,vars:10,consts:[["wrapper",""],["sourceImage",""],["class","ngx-ic-source-image","role","presentation",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart","error",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],["role","presentation",1,"ngx-ic-source-image",3,"load","mousedown","touchstart","error","src"],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],["role","presentation",1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(r,n){r&1&&(f(0,"div",null,0),T(2,KR,2,8,"img",2),A(3,"div",3),T(4,XR,3,16,"div",4),h()),r&2&&(xr("background",n.imageVisible&&n.backgroundColor),y(2),w("ngIf",n.safeImgDataUrl),y(),xr("width",n.maxSize.width,"px")("height",n.maxSize.height,"px")("margin-left",n.alignImage==="center"?n.marginLeft:null),y(),w("ngIf",n.imageVisible))},dependencies:[ae],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ix-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0}),t})(),Xw=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=je({type:t}),t.\u0275inj=Ve({imports:[[dl]]}),t})();function dO(t,e){if(t&1&&(f(0,"div",13),A(1,"img",14),h()),t&2){let r=S();y(),w("src",r.croppedImage,Ee)}}function fO(t,e){if(t&1){let r=J();f(0,"image-cropper",15),M("imageCropped",function(i){O(r);let o=S();return F(o.imageCropped(i))}),h()}if(t&2){let r=S();w("imageChangedEvent",r.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1/1)}}function hO(t,e){t&1&&(f(0,"div",16)(1,"div",17)(2,"div",18)(3,"span"),g(4,"Profile picture updated successfully"),h()()()())}var Jw=(()=>{let e=class e{constructor(){this.imageChangedEvent="",this.croppedImage="",this.fileName="No file selected",this.croppedBlob=null,this.showSuccessNotification=!1,this.userSvc=p(lt),this.userSessionStore=p(ue)}ngOnInit(){this.userSessionStore.profilePic$.subscribe(n=>{this.profilePicUrl=n})}fileChangeEvent(n){console.log("File change event triggered"),this.imageChangedEvent=n,this.fileName=n.target.files[0].name}imageCropped(n){console.log("Image cropped event:",n),n.blob&&(this.croppedImage=URL.createObjectURL(n.blob),console.log("Cropped Image URL:",this.croppedImage),this.croppedBlob=n.blob)}uploadImage(){console.log("Image data to upload:",this.croppedImage)}saveImage(){console.log("Saving cropped image..."),this.showNotification();let n=localStorage.getItem("userId");if(!n){console.error("UserId not found in local storage.");return}this.croppedImage&&(this.croppedBlob?this.userSvc.uploadPicture(n,this.croppedBlob).subscribe({next:()=>{console.log("Profile picture updated successfully."),window.location.reload()},error:i=>console.error("Error updating profile picture:",i)}):console.error("Failed to convert cropped image to Blob"))}triggerFileInput(){document.getElementById("fileInput")?.click()}showNotification(){this.showSuccessNotification=!0,setTimeout(()=>{this.showSuccessNotification=!1},3e3)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=q({type:e,selectors:[["app-photo"]],decls:18,vars:4,consts:[["profilePic",""],[1,"text-xl","font-bold","text-center","mt-6"],[1,"text-center","mt-4"],[1,"mt-4"],["class","border rounded-lg p-4 flex justify-center items-center",4,"ngIf"],[1,"flex","justify-between","items-center","mt-4"],[1,"flex-1","mr-2","p-2","border","h-13"],[1,"btn","flex-none","btn-outline","text-black",3,"click"],[1,"text-left","mt-4"],[1,"btn","btn-primary",3,"click"],["type","file","id","fileInput","hidden","","accept","image/*",3,"change"],["format","png",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","imageCropped",4,"ngIf"],["role","alert","class","alert alert-success",4,"ngIf"],[1,"border","rounded-lg","p-4","flex","justify-center","items-center"],["alt","Cropped Image",1,"w-32","h-auto",3,"src"],["format","png",3,"imageCropped","imageChangedEvent","maintainAspectRatio","aspectRatio"],["role","alert",1,"alert","alert-success"],[1,"toast","toast-top","toast-center"],[1,"alert","alert-success"]],template:function(i,o){if(i&1){let s=J();f(0,"div",1),g(1,"Upload a profile picture"),h(),f(2,"div",2),g(3,"Preview:"),h(),f(4,"div",3),T(5,dO,2,1,"div",4),h(),f(6,"div",5)(7,"div",6),g(8),h(),f(9,"button",7),M("click",function(){return O(s),F(o.triggerFileInput())}),g(10,"Upload"),h()(),f(11,"div",8)(12,"button",9),M("click",function(){return O(s),F(o.saveImage())}),g(13,"Save"),h()(),f(14,"input",10,0),M("change",function(c){return O(s),F(o.fileChangeEvent(c))}),h(),T(16,fO,1,3,"image-cropper",11)(17,hO,5,0,"div",12)}i&2&&(y(5),w("ngIf",o.croppedImage),y(3),pe(o.fileName),y(8),w("ngIf",o.imageChangedEvent),y(),w("ngIf",o.showSuccessNotification))},dependencies:[ae,Zw]});let t=e;return t})();function pO(t,e){t&1&&(f(0,"div")(1,"div",3)(2,"div",4)(3,"p",5),g(4,"Premium Subscription Unlocked"),h()()()())}function mO(t,e){if(t&1){let r=J();f(0,"div",6)(1,"p",7),g(2," Join our community and unlock premium features to enhance your learning experience. "),h(),f(3,"button",8),M("click",function(){O(r);let i=S();return F(i.goToSubscriptionPage())}),g(4," Subscribe Now "),h()()}}var eC=(()=>{let e=class e{constructor(){this.userSessionStore=p(ue),this.authSvc=p(Ze),this.router=p(me),this.subscription=new se,this.isSubscriber=!1}ngOnInit(){this.subscription.add(this.userSessionStore.email$.subscribe(n=>{this.email=n})),this.isSubscriber=this.authSvc.isSubscriber()}goToSubscriptionPage(){this.router.navigate(["/join/subscribe"])}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=q({type:e,selectors:[["app-subscription"]],decls:4,vars:2,consts:[["subscribeContent",""],[1,"container","mx-auto","mt-10"],[4,"ngIf","ngIfElse"],[1,"flex","justify-center","items-center"],[1,"bg-green-500","text-white","p-4","rounded-lg","shadow-lg"],[1,"text-xl","font-semibold"],[1,"flex","flex-col","items-center","justify-center"],[1,"text-gray-700","text-lg","mb-4"],[1,"btn","btn-primary","rounded","px-8","py-3","font-bold","text-white",3,"click"]],template:function(i,o){if(i&1&&(f(0,"div",1),T(1,pO,5,0,"div",2)(2,mO,5,0,"ng-template",null,0,Yt),h()),i&2){let s=It(3);y(),w("ngIf",o.isSubscriber)("ngIfElse",s)}},dependencies:[ae]});let t=e;return t})();var Jl=(()=>{let e=class e{constructor(){this.responseSubject=new ge,this.response$=this.responseSubject.asObservable(),this.httpClient=p(it),this.utilsSvc=p(Hn)}addTokenToHeader(){let n=localStorage.getItem("jwtToken");return new Ke().set("Authorization",`Bearer ${n}`)}processSubmit(n,i){let o=new yt().set("prompt",n).set("number",i);return this.httpClient.get("/api/bot",{responseType:"text",params:o,headers:this.addTokenToHeader()}).pipe(ie(s=>this.responseSubject.next(this.utilsSvc.formatResponse(s))))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function gO(t,e){t&1&&(f(0,"div"),g(1,"Number is required"),h())}function yO(t,e){t&1&&(f(0,"div"),g(1,"Minimum number is 1"),h())}function vO(t,e){t&1&&(f(0,"div"),g(1,"Maximum number is 10"),h())}function bO(t,e){if(t&1&&(f(0,"div",14),T(1,gO,2,0,"div",15)(2,yO,2,0,"div",15)(3,vO,2,0,"div",15),h()),t&2){let r,n,i,o=S();y(),w("ngIf",(r=o.openAIForm.get("number"))==null||r.errors==null?null:r.errors.required),y(),w("ngIf",(n=o.openAIForm.get("number"))==null||n.errors==null?null:n.errors.min),y(),w("ngIf",(i=o.openAIForm.get("number"))==null||i.errors==null?null:i.errors.max)}}function wO(t,e){t&1&&(f(0,"div"),g(1,"Enter a query"),h())}function CO(t,e){if(t&1&&(f(0,"div",14),T(1,wO,2,0,"div",15),h()),t&2){let r,n=S();y(),w("ngIf",(r=n.openAIForm.get("query"))==null||r.errors==null?null:r.errors.required)}}function _O(t,e){t&1&&(f(0,"div",16),A(1,"span",17),h())}function DO(t,e){if(t&1&&(f(0,"div",18),g(1),h()),t&2){let r=e.ngIf,n=S();w("innerHTML",n.safeHTML(r),Tv),y(),Ne(" ",r," ")}}var tC=(()=>{let e=class e{constructor(n){this.fb=n,this.openAISvc=p(Jl),this.sanitiser=p(vs),this.response$=this.openAISvc.response$,this.isLoading=!1}ngOnInit(){this.openAIForm=this.fb.group({query:this.fb.control("",[Ce.required]),number:this.fb.control(1,[Ce.required,Ce.min(1),Ce.max(10)])})}processSubmit(){this.isLoading=!0,this.openAIForm.valid&&this.openAISvc.processSubmit(this.openAIForm.value.query,this.openAIForm.value.number).pipe(Rt(()=>this.isLoading=!1)).subscribe()}safeHTML(n){return this.sanitiser.bypassSecurityTrustHtml(n)}};e.\u0275fac=function(i){return new(i||e)(L(dt))},e.\u0275cmp=q({type:e,selectors:[["app-course-navigator"]],decls:21,vars:7,consts:[[1,"flex","items-start","justify-center","min-h-screen","bg-gray-800","pt-20"],[1,"w-1/3"],[1,"bg-white","shadow-md","px-8","pt-6","pb-8","mb-4","flex","flex-col"],[1,"mb-4"],[1,"text-gray-700","text-center","font-bold"],[1,"mb-4",3,"submit","formGroup"],[1,"mb-6"],["type","number","formControlName","number","placeholder","Enter a number",1,"bg-white","appearance-none","border","border-gray-700","w-full","py-2","px-4","text-gray-700","leading-tight","focus:outline-none","focus:bg-white","focus:border-purple-500"],["class","text-red-500 text-xs italic",4,"ngIf"],["type","text","formControlName","query","placeholder","",1,"bg-white","appearance-none","border","border-gray-700","w-full","py-2","px-4","text-gray-700","leading-tight","focus:outline-none","focus:bg-white","focus:border-purple-500"],[1,"flex","items-center","justify-between"],["type","submit",1,"bg-purple-600","hover:bg-purple-400","text-white","font-semibold","py-2","px-4","w-full","transition-colors","duration-200","ease-in-out"],["class","flex justify-center items-center mt-4",4,"ngIf"],["class","response mt-4",3,"innerHTML",4,"ngIf"],[1,"text-red-500","text-xs","italic"],[4,"ngIf"],[1,"flex","justify-center","items-center","mt-4"],[1,"loading","loading-spinner","text-accent"],[1,"response","mt-4",3,"innerHTML"]],template:function(i,o){if(i&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),g(5,"Enter a query to get course suggestions"),h()(),f(6,"form",5),M("submit",function(){return o.processSubmit()}),f(7,"div",3),g(8," I am looking for "),f(9,"div",6),A(10,"input",7),T(11,bO,4,3,"div",8),g(12," course(s) on: "),A(13,"input",9),T(14,CO,2,1,"div",8),h()(),f(15,"div",10)(16,"button",11),g(17," Get recommendations! "),h()(),T(18,_O,2,0,"div",12)(19,DO,2,2,"div",13),le(20,"async"),h()()()()),i&2){let s,a;y(6),w("formGroup",o.openAIForm),y(5),w("ngIf",((s=o.openAIForm.get("number"))==null?null:s.touched)&&((s=o.openAIForm.get("number"))==null?null:s.errors)),y(3),w("ngIf",((a=o.openAIForm.get("query"))==null?null:a.touched)&&((a=o.openAIForm.get("query"))==null?null:a.errors)),y(4),w("ngIf",o.isLoading),y(),w("ngIf",ye(20,5,o.response$))}},dependencies:[ae,At,ut,kp,Mt,Tt,vt,bt,qe]});let t=e;return t})();var jp={stripePublishableKey:"pk_live_51OxqpgRovknRUrZ7Y67Qv8yWOqCCFAI3qXhxg6zXnNoOPDLRfjt3w59wcCL8d3m3wfCGEYMazus4z3Ri4eml4BVc00UEODHmKc",stripePublishableTest:"pk_test_51OxqpgRovknRUrZ79DvwpgCq7h3HGfTMrPWtz5FtUA2yFOI75Yej19mIDnc5vRH1nhuD55kLvlBVWOMRVX3DS7WH00LdHnsvGJ"};var iC="https://js.stripe.com/v3",EO=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,nC="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",SO=function(){for(var e=document.querySelectorAll('script[src^="'.concat(iC,'"]')),r=0;r<e.length;r++){var n=e[r];if(EO.test(n.src))return n}return null},rC=function(e){var r=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(iC).concat(r);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n},IO=function(e,r){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"3.1.0",startTime:r})},Gs=null,eu=null,tu=null,xO=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},MO=function(e,r){return function(){window.Stripe?e(window.Stripe):r(new Error("Stripe.js not available"))}},TO=function(e){return Gs!==null?Gs:(Gs=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe&&e&&console.warn(nC),window.Stripe){r(window.Stripe);return}try{var i=SO();if(i&&e)console.warn(nC);else if(!i)i=rC(e);else if(i&&tu!==null&&eu!==null){var o;i.removeEventListener("load",tu),i.removeEventListener("error",eu),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=rC(e)}tu=MO(r,n),eu=xO(n),i.addEventListener("load",tu),i.addEventListener("error",eu)}catch(s){n(s);return}}),Gs.catch(function(r){return Gs=null,Promise.reject(r)}))},AO=function(e,r,n){if(e===null)return null;var i=e.apply(void 0,r);return IO(i,n),i},Qs,oC=!1,sC=function(){return Qs||(Qs=TO(null).catch(function(e){return Qs=null,Promise.reject(e)}),Qs)};Promise.resolve().then(function(){return sC()}).catch(function(t){oC||console.warn(t)});var Up=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];oC=!0;var i=Date.now();return sC().then(function(o){return AO(o,r,i)})};var Ro=(()=>{let e=class e{constructor(){this.httpClient=p(it),this.stripePromise=Up(jp.stripePublishableKey),this.stripePromiseTest=Up(jp.stripePublishableTest),this.sucessUrl=`${window.location.origin}/#/join/subscribe/success`,this.cancelUrl=`${window.location.origin}/#/join/subscribe/fail`}addTokenToHeader(){let n=localStorage.getItem("jwtToken");return new Ke().set("Authorization",`Bearer ${n}`)}goToPayment(n,i){return ft(this,null,function*(){console.log(">> PaymentService: function called, requesting /api/subscription/create-link");let o=yield this.stripePromiseTest;ji(this.httpClient.post("/api/subscription/create-link",{userId:n,email:i,successUrl:this.sucessUrl,cancelUrl:this.cancelUrl},{headers:this.addTokenToHeader()})).then(s=>{console.log("PaymentService: Response received"),console.log(s),console.log("PaymentService: Redirecting to Stripe Checkout");let a=`${window.location.origin}/join/subscribe/success`,c=`${window.location.origin}/#/join/subscribe/fail`;o?.redirectToCheckout({sessionId:s.sessionId}).then(function(l){l.error&&alert(l.error.message)})}).catch(s=>{console.log(">> PaymentService: Error"),console.log(s)})})}paymentSuccess(n,i){console.log(">> PaymentService: function called, requesting /api/subscription/process");let o={userId:n,email:i,successUrl:this.sucessUrl,cancelUrl:this.cancelUrl},s=this.addTokenToHeader().set("Content-Type","application/json");return this.httpClient.post("/api/subscription/process",o,{headers:s}).pipe(ie(a=>{console.log("Response received from /api/subscription/process",a),a.token&&(console.log("Updating local storage with new JWT",a.token),localStorage.setItem("jwtToken",a.token))}),tt(a=>(console.error("Error in paymentSuccess",a),Ct(()=>a))))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NO(t,e){t&1&&(f(0,"div")(1,"p"),g(2,"PREMIUM SUBSCRIBER"),h()())}function RO(t,e){if(t&1){let r=J();f(0,"div",3)(1,"h1",4),g(2,"Enhance Your Learning Experience"),h(),f(3,"p",5),g(4," Join our community of learners and get access to premium features that will take your learning to the next level. Our Course Navigator, lecture tracker, and lecture notes features are designed to enhance your educational journey. "),h()(),f(5,"div",6)(6,"div",7)(7,"h2",8),g(8,"PREMIUM PLAN"),h(),f(9,"p",9),g(10," For $5 a month, gain access to Course Navigator, lecture tracker, and lecture notes features. "),h(),f(11,"button",10),M("click",function(){O(r);let i=S();return F(i.subscribe())}),g(12," START YOUR PREMIUM SUBSCRIPTION "),h(),f(13,"p",11),g(14," Digital Subscription. Billed monthly. Renews automatically each month. Cancel at any time. "),h()()()}}var aC=(()=>{let e=class e{constructor(){this.subscribeSvc=p(Ro),this.authSvc=p(Ze),this.userSessionStore=p(ue),this.subscription=new se,this.isSubscriber=!1}ngOnInit(){this.subscription.add(this.userSessionStore.email$.subscribe(n=>{this.email=n})),this.isSubscriber=this.authSvc.isSubscriber()}ngOnDestroy(){this.subscription.unsubscribe()}subscribe(){let n=localStorage.getItem("userId");n!==null?(console.log("Found userId:",n),this.subscribeSvc.goToPayment(n,this.email)):console.log("userId not found in local storage")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=q({type:e,selectors:[["app-subscribe"]],decls:4,vars:2,consts:[["notSubscriberContent",""],[1,"flex","min-h-screen","items-center",2,"margin-top","-8rem"],[4,"ngIf","ngIfElse"],[1,"w-1/2","flex","flex-col","justify-center","px-12","text-gray-700"],[1,"text-4xl","font-bold","mb-4"],[1,"text-lg"],[1,"w-1/2","flex","justify-center","items-center"],[1,"bg-white","border","border-gray-200","p-8","rounded-lg","shadow-lg","text-center"],[1,"text-2xl","font-bold","mb-4"],[1,"mb-8"],[1,"btn","btn-secondary","rounded-full","px-8","py-3","text-white","font-bold","mb-4","w-full",3,"click"],[1,"text-sm"]],template:function(i,o){if(i&1&&(f(0,"div",1),T(1,NO,3,0,"div",2)(2,RO,15,0,"ng-template",null,0,Yt),h()),i&2){let s=It(3);y(),w("ngIf",o.isSubscriber)("ngIfElse",s)}},dependencies:[ae]});let t=e;return t})();var cC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=q({type:e,selectors:[["app-fail"]],decls:2,vars:0,template:function(i,o){i&1&&(f(0,"p"),g(1,"fail works!"),h())}});let t=e;return t})();function OO(t,e){if(t&1){let r=J();Ln(0),f(1,"div",3)(2,"h1",4),g(3,"Welcome to Premium!"),h(),f(4,"p",5),g(5," Congratulations on upgrading to the Premium Plan! You now have full access to all premium features including Course Navigator, lecture tracker, and lecture notes. Start exploring and enhance your learning experience. "),h(),f(6,"button",6),M("click",function(){O(r);let i=S();return F(i.exploreCourses())}),g(7,"Explore Courses"),h()(),Vn()}}function FO(t,e){if(t&1){let r=J();f(0,"div",7)(1,"h1",4),g(2,"Enhance Your Learning Experience"),h(),f(3,"p",5),g(4," Join our community of learners and get access to premium features that will take your learning to the next level. Our Course Navigator, lecture tracker, and lecture notes features are designed to enhance your educational journey. "),h()(),f(5,"div",8)(6,"div",9)(7,"h2",10),g(8,"PREMIUM PLAN"),h(),f(9,"p",11),g(10," For $5 a month, gain access to Course Navigator, lecture tracker, and lecture notes features. "),h(),f(11,"button",12),M("click",function(){O(r);let i=S();return F(i.subscribe())}),g(12," START YOUR PREMIUM SUBSCRIPTION "),h(),f(13,"p",13),g(14," Digital Subscription. Billed monthly. Renews automatically each month. Cancel at any time. "),h()()()}}var lC=(()=>{let e=class e{constructor(){this.userSessionStore=p(ue),this.subscriptionSvc=p(Ro),this.authSvc=p(Ze),this.router=p(me),this.subscription=new se,this.isSubscriber=!1}ngOnInit(){console.log("got to success oninit"),this.subscription.add(this.userSessionStore.email$.subscribe(n=>{if(n){let i=localStorage.getItem("jwtToken");if(i){let s=qs(i).sub;console.log(`Email: ${n}, UserId: ${s}`),s&&this.subscription.add(this.subscriptionSvc.paymentSuccess(s,n).subscribe({next:a=>{console.log("Subscription update successful",a)},error:a=>{console.error("Error updating subscription",a)}}))}}})),this.isSubscriber=this.authSvc.isSubscriber()}exploreCourses(){this.router.navigate(["/course-navigator"])}subscribe(){this.router.navigate(["/join/subscribe"])}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=q({type:e,selectors:[["app-success"]],decls:4,vars:2,consts:[["notSubscriberContent",""],[1,"flex","min-h-screen","items-center",2,"margin-top","-8rem"],[4,"ngIf","ngIfElse"],[1,"w-full","flex","flex-col","justify-center","items-center","px-12","text-gray-700"],[1,"text-4xl","font-bold","mb-4"],[1,"text-lg"],[1,"btn","btn-primary","rounded-full","px-8","py-3","text-white","font-bold","mb-4",3,"click"],[1,"w-1/2","flex","flex-col","justify-center","px-12","text-gray-700"],[1,"w-1/2","flex","justify-center","items-center"],[1,"bg-white","border","border-gray-200","p-8","rounded-lg","shadow-lg","text-center"],[1,"text-2xl","font-bold","mb-4"],[1,"mb-8"],[1,"btn","btn-secondary","rounded-full","px-8","py-3","text-white","font-bold","mb-4","w-full",3,"click"],[1,"text-sm"]],template:function(i,o){if(i&1&&(f(0,"div",1),T(1,OO,8,0,"ng-container",2)(2,FO,15,0,"ng-template",null,0,Yt),h()),i&2){let s=It(3);y(),w("ngIf",o.isSubscriber)("ngIfElse",s)}},dependencies:[ae]});let t=e;return t})();var qn=(()=>{let e=class e{constructor(){this.httpClient=p(it)}addTokenToHeader(){let n=localStorage.getItem("jwtToken");return new Ke().set("Authorization",`Bearer ${n}`)}getAllThreads(){return this.httpClient.get("/api/forum",{headers:this.addTokenToHeader()})}createThread(n){return this.httpClient.post("/api/forum/topic/new",n,{headers:this.addTokenToHeader()})}replyToThread(n,i){return this.httpClient.post(`/api/forum/topic/${n}/reply`,i,{headers:this.addTokenToHeader()})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var kO={threads:[]},Oo=(()=>{let e=class e extends Xt{constructor(n){super(kO),this.forumSvc=n,this.threads$=this.select(i=>i.threads),this.setThreads=this.updater((i,o)=>$(C({},i),{threads:o})),this.loadThreads=this.effect(i=>i.pipe(_e(()=>this.forumSvc.getAllThreads().pipe(Bs(o=>this.setThreads(o),o=>console.error("Error fetching threads:",o)))))),this.addThread=this.updater((i,o)=>$(C({},i),{threads:[...i.threads,o]})),this.loadThreads()}getThreadById(n){return this.threads$.pipe(j(i=>i.find(o=>o.id===n)))}updateThread(n){this.patchState(i=>({threads:i.threads.map(s=>s.id===n.id?n:s)}))}};e.\u0275fac=function(i){return new(i||e)(N(qn))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var LO=t=>["/forum/topic",t];function VO(t,e){t&1&&(f(0,"a",19),g(1,"... Read more"),h())}function jO(t,e){if(t&1&&(f(0,"div",14)(1,"a",15)(2,"h3",16),g(3),h(),f(4,"p"),g(5),le(6,"slice"),T(7,VO,2,0,"a",17),h()(),f(8,"div",8),A(9,"img",18),h(),f(10,"div",8),g(11),h(),f(12,"div",9),g(13),le(14,"date"),h()()),t&2){let r=e.$implicit;y(),w("routerLink",v0(14,LO,r.id)),y(2),pe(r.title),y(2),pe(w0(6,7,r.content,0,100)),y(2),w("ngIf",r.content.length>100),y(2),_n("src",r.userProfilePic,Ee),y(2),pe(r.messages.length),y(2),pe(us(14,11,r.createdDate,"MMM d, y"))}}function UO(t,e){if(t&1&&(f(0,"div",12),T(1,jO,15,16,"div",13),h()),t&2){let r=e.ngIf;y(),w("ngForOf",r)}}var uC=(()=>{let e=class e{constructor(n){this.fb=n,this.forumSvc=p(qn),this.forumStore=p(Oo),this.router=p(me),this.threads$=this.forumStore.threads$}ngOnInit(){this.createThreadForm=this.fb.group({title:["",Ce.required],content:["",Ce.required]}),this.forumStore.loadThreads(k())}createThread(){if(this.createThreadForm.valid){let n=$(C({},this.createThreadForm.value),{messages:[],createdDate:new Date});this.forumSvc.createThread(n).pipe(ie(i=>this.forumStore.addThread(i))).subscribe(()=>{console.log("Thread creation successful."),this.router.navigate(["/forum"])},i=>{console.error("Error creating thread:",i)})}}goToCreateThread(){this.router.navigate(["/forum/create-topic"])}};e.\u0275fac=function(i){return new(i||e)(L(dt))},e.\u0275cmp=q({type:e,selectors:[["app-forum"]],decls:21,vars:3,consts:[[1,"max-w-4xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"bg-emerald-700","text-white","text-center","p-6","mt-6"],[1,"text-ml","text-left"],[1,"text-left"],[1,"text-right"],[1,"mt-2","btn","btn-accent","btn-outline",3,"click"],[1,"flex","p-4","mt-3"],[1,"flex-grow"],[1,"w-32","text-center"],[1,"w-48","text-center"],[1,"divider"],["class","flex flex-col space-y-4 mt-2",4,"ngIf"],[1,"flex","flex-col","space-y-4","mt-2"],["class","flex p-4 border-b border-gray-200 rounded-lg",4,"ngFor","ngForOf"],[1,"flex","p-4","border-b","border-gray-200","rounded-lg"],[1,"flex-grow",3,"routerLink"],[1,"text-lg","font-semibold","flex-grow"],["href","#",4,"ngIf"],["alt","Profile Pic",1,"rounded-full","h-6","w-6","inline-block",3,"src"],["href","#"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"div",1)(2,"h1",2),g(3,"Welcome to the Study Trek forum!"),h(),f(4,"p",3),g(5,"1. Create a new thread to post your questions here."),h(),f(6,"p",3),g(7,"2. Please be kind and helpful in conversations!"),h()(),f(8,"div",4)(9,"button",5),M("click",function(){return o.goToCreateThread()}),g(10,"+ New Topic"),h()(),f(11,"div",6)(12,"div",7),g(13,"Topic"),h(),f(14,"div",8),g(15,"Replies"),h(),f(16,"div",9),g(17,"Posted"),h()(),A(18,"div",10),T(19,UO,2,1,"div",11),le(20,"async"),h()),i&2&&(y(19),w("ngIf",ye(20,1,o.threads$)))},dependencies:[ct,ae,$n,qe,H0,ul]});let t=e;return t})();var dC=(()=>{let e=class e{constructor(n){this.fb=n,this.router=p(me),this.forumSvc=p(qn),this.userSessionStore=p(ue),this.forumStore=p(Oo),this.subscription=new se,this.isSubmitting=!1}ngOnInit(){this.createThreadForm=this.fb.group({title:this.fb.control("",[Ce.required]),content:this.fb.control("",[Ce.required])})}createThread(){if(this.createThreadForm.valid){this.isSubmitting=!0;let n=localStorage.getItem("userId");if(!n){console.error("UserId not found in local storage.");return}this.subscription.add(ln([this.userSessionStore.firstName$,this.userSessionStore.profilePic$]).pipe(j(([i,o])=>({userId:n,firstName:i,userProfilePic:o,createdDate:new Date,title:this.createThreadForm.value.title,content:this.createThreadForm.value.content,messages:[]})),_e(i=>this.forumSvc.createThread(i))).subscribe({next:i=>{console.log("Thread creation successful:",i),this.forumStore.addThread(i),this.router.navigate(["/forum"])},error:i=>{console.error("Error creating thread:",i)}}))}}ngOnDestroy(){this.subscription.unsubscribe()}goBack(){this.createThreadForm.dirty&&!confirm("You have entered text on this page. Would you still want to leave?")||this.router.navigate(["/forum"])}};e.\u0275fac=function(i){return new(i||e)(L(dt))},e.\u0275cmp=q({type:e,selectors:[["app-create-thread"]],decls:17,vars:1,consts:[[1,"max-w-4xl","mx-auto","sm:px-6","lg:px-8"],[1,"flex","justify-between","items-center","mt-6"],[1,"btn","btn-accent","btn-outline",3,"click"],[1,"text-lg","text-teal-500","font-bold","text-left"],[1,"text-center"],[1,"mt-2","inline-block","text-left","w-full",3,"ngSubmit","formGroup"],[1,"mb-4"],["type","text","placeholder","What is the topic about in one brief sentence?","formControlName","title",1,"input","input-bordered","w-full","text-white"],["placeholder","Type here","formControlName","content",1,"textarea","textarea-bordered","w-full","text-white",2,"min-height","150px"],[1,"flex","justify-start","space-x-4"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-outline","btn-secondary",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"div",1)(2,"button",2),M("click",function(){return o.goBack()}),g(3,"Back"),h(),f(4,"h1",3),g(5,"Create a new topic"),h()(),f(6,"div",4)(7,"form",5),M("ngSubmit",function(){return o.createThread()}),f(8,"div",6),A(9,"input",7),h(),f(10,"div",6),A(11,"textarea",8),h(),f(12,"div",9)(13,"button",10),g(14,"+ Create Topic"),h(),f(15,"button",11),M("click",function(){return o.goBack()}),g(16,"Close"),h()()()()()),i&2&&(y(7),w("formGroup",o.createThreadForm))},dependencies:[At,ut,Mt,Tt,vt,bt]});let t=e;return t})();function BO(t,e){if(t&1&&(f(0,"div",23)(1,"div",24)(2,"div",12),A(3,"img",25),f(4,"div",14)(5,"div",15)(6,"p",16),g(7),h(),f(8,"p",17),g(9),le(10,"date"),h()(),f(11,"p"),g(12),h()()(),A(13,"div",10),h()()),t&2){let r=e.$implicit;y(3),w("src",r.userProfilePic,Ee),y(4),pe(r.firstName),y(2),Ne(" ",us(10,4,r.postedDate,"MMM d, y, h:mm:ss a")," "),y(3),pe(r.content)}}function $O(t,e){if(t&1){let r=J();f(0,"div")(1,"div",6),Ft(),f(2,"svg",7),A(3,"path",8),h(),Wt(),f(4,"h1",9),g(5),h()(),A(6,"div",10),f(7,"div",11)(8,"div",12),A(9,"img",13),f(10,"div",14)(11,"div",15)(12,"p",16),g(13),h(),f(14,"p",17),g(15),le(16,"date"),h()(),f(17,"p"),g(18),h()()(),f(19,"div",18)(20,"button",19),M("click",function(){O(r);let i=S();return F(i.toggleReplyForm())}),Ft(),f(21,"svg",20),A(22,"path",21),h(),g(23," Reply "),h()(),Wt(),A(24,"div",10),h(),T(25,BO,14,7,"div",22),h()}if(t&2){let r=e.ngIf;y(5),pe(r.title),y(4),w("src",r.userProfilePic,Ee),y(4),pe(r.firstName),y(2),Ne(" ",us(16,6,r.createdDate,"MMM d, y, h:mm:ss a")," "),y(3),pe(r.content),y(7),w("ngForOf",r.messages)}}function HO(t,e){if(t&1){let r=J();f(0,"div")(1,"div",27),Ft(),f(2,"svg",20),A(3,"path",28),h(),Wt(),f(4,"h2",29),g(5),h()(),f(6,"form",30),M("ngSubmit",function(){O(r);let i=S(2);return F(i.submitReply())}),A(7,"textarea",31),f(8,"div",32)(9,"button",33),Ft(),f(10,"svg",20),A(11,"path",21),h(),g(12," Reply "),h(),Wt(),f(13,"button",34),M("click",function(){O(r);let i=S(2);return F(i.toggleReplyForm())}),g(14," Close "),h()()()()}if(t&2){let r=e.ngIf,n=S(2);y(5),pe(r.title),y(),w("formGroup",n.replyThreadForm)}}function zO(t,e){if(t&1&&(f(0,"div",26),T(1,HO,15,2,"div",4),le(2,"async"),h()),t&2){let r=S(),n=It(8);y(),w("ngIf",ye(2,2,r.thread$))("ngIfElse",n)}}function qO(t,e){t&1&&(f(0,"p"),g(1,"Thread not found."),h())}var fC=(()=>{let e=class e{constructor(n){this.fb=n,this.forumStore=p(Oo),this.userSessionStore=p(ue),this.forumSvc=p(qn),this.router=p(me),this.activatedRoute=p(jt),this.isReplyFormVisible=!1}ngOnInit(){let n=this.activatedRoute.snapshot.paramMap.get("threadId");n&&(this.threadId=n),this.thread$=this.forumStore.getThreadById(this.threadId),this.replyThreadForm=this.fb.group({content:this.fb.control("",[Ce.required])})}toggleReplyForm(){this.isReplyFormVisible=!this.isReplyFormVisible}submitReply(){if(this.replyThreadForm.valid&&this.threadId){let n=localStorage.getItem("userId");if(!n)return;ln([this.userSessionStore.firstName$,this.userSessionStore.profilePic$]).pipe(Me(1),_e(([i,o])=>{let s={userId:n,firstName:i,userProfilePic:o,postedDate:new Date,content:this.replyThreadForm.get("content")?.value};return this.forumSvc.replyToThread(this.threadId,s)}),ie(i=>this.forumStore.updateThread(i))).subscribe({next:()=>{console.log("Reply added successfully."),this.isReplyFormVisible=!1,this.replyThreadForm.reset()},error:i=>console.error("Failed to add reply",i)})}}goBack(){this.replyThreadForm.dirty&&!confirm("You have entered text on this page. Would you still want to leave?")||this.router.navigate(["/forum"])}};e.\u0275fac=function(i){return new(i||e)(L(dt))},e.\u0275cmp=q({type:e,selectors:[["app-individual-thread"]],decls:9,vars:5,consts:[["notFound",""],[1,"max-w-4xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","items-center","mt-6"],[1,"btn","btn-accent","btn-outline","font-sohne","text-light",3,"click"],[4,"ngIf","ngIfElse"],["class","reply-modal px-4 sm:px-6 lg:px-8",4,"ngIf"],[1,"flex","items-center","gap-2","mt-6"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6","align-middle"],["stroke-linecap","round","stroke-linejoin","round","d","M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"],[1,"text-xl","font-bold","align-middle"],[1,"divider"],[1,"bg-white","p-6","mt-4"],[1,"flex"],["alt","Profile Pic",1,"rounded-full","h-10","w-10","mr-4",3,"src"],[1,"flex-1"],[1,"mb-2"],[1,"font-bold"],[1,"text-sm"],[1,"flex","justify-end","mt-4"],[1,"btn","btn-accent","btn-outline",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],[1,"p-4","rounded-lg"],["alt","Message Profile",1,"rounded-full","h-8","w-8","mr-4",3,"src"],[1,"reply-modal","px-4","sm:px-6","lg:px-8"],[1,"flex","items-center","gap-2"],["stroke-linecap","round","stroke-linejoin","round","d","M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z"],[1,"text-xl","font-bold"],[3,"ngSubmit","formGroup"],["formControlName","content","placeholder","Type your reply...",1,"w-full","mt-4"],[1,"flex","justify-start","mt-4","space-x-2"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-outline","btn-secondary",3,"click"]],template:function(i,o){if(i&1){let s=J();f(0,"div",1)(1,"div",2)(2,"button",3),M("click",function(){return O(s),F(o.goBack())}),g(3,"Back"),h()(),T(4,$O,26,9,"div",4),le(5,"async"),T(6,zO,3,4,"div",5)(7,qO,2,0,"ng-template",null,0,Yt),h()}if(i&2){let s=It(8);y(4),w("ngIf",ye(5,3,o.thread$))("ngIfElse",s),y(2),w("ngIf",o.isReplyFormVisible)}},dependencies:[ct,ae,At,ut,Mt,Tt,vt,bt,qe,ul],styles:[".reply-modal[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;background:#fff;border-top:1px solid #ccc;padding:20px;z-index:1000}"]});let t=e;return t})();var WO=[{path:"",component:Lw},{path:"course/:platform/:courseId",component:iw},{path:"courses/search",component:rw},{path:"join/login",component:kw},{path:"join/register",component:Vw},{path:"join/subscribe",component:aC,canActivate:[ar]},{path:"join/subscribe/success",component:lC,canActivate:[ar]},{path:"join/subscribe/fail",component:cC,canActivate:[ar]},{path:"home/my-courses",component:jw,canActivate:[ar]},{path:"home/profile",component:Bw,canActivate:[ar],children:[{path:"edit-account",component:$w},{path:"friends",component:Gw},{path:"photo",component:Jw},{path:"subscription",component:eC}]},{path:"course-navigator",component:tC,canActivate:[Qw]},{path:"forum",component:uC,canActivate:[ar]},{path:"forum/create-topic",component:dC,canActivate:[ar],canDeactivate:[Yw]},{path:"forum/topic/:threadId",component:fC,canActivate:[ar]},{path:"**",redirectTo:"/",pathMatch:"full"}],hC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=je({type:e}),e.\u0275inj=Ve({imports:[Sp.forRoot(WO,{scrollPositionRestoration:"top",useHash:!0}),Sp]});let t=e;return t})();var pC=(()=>{let e=class e{constructor(){this.themeKey="theme",this.loadTheme()}toggleTheme(){console.log("Before toggle:",document.body.classList.contains("dark")),document.body.classList.contains("dark")?(document.body.classList.remove("dark"),localStorage.setItem(this.themeKey,"light")):(document.body.classList.add("dark"),localStorage.setItem(this.themeKey,"dark")),console.log("After toggle:",document.body.classList.contains("dark"))}loadTheme(){let n=localStorage.getItem(this.themeKey);document.body.classList.toggle("dark",n==="dark")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mC=(()=>{let e=class e{constructor(n){this.fb=n,this.searchSvc=p(Jt)}ngOnInit(){this.searchForm=this.fb.group({query:this.fb.control("",[Ce.required])})}search(n){n.preventDefault(),console.log("search query: ",this.searchForm.value.query),this.searchForm.valid&&this.searchSvc.querySearch(this.searchForm.value.query)}};e.\u0275fac=function(i){return new(i||e)(L(dt))},e.\u0275cmp=q({type:e,selectors:[["app-search"]],decls:6,vars:1,consts:[[1,"flex","items-center","space-x-2","bg-white","rounded-full","px-4","py-2",3,"submit","formGroup"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","formControlName","query","placeholder","Search for anything",1,"bg-transparent","focus:outline-none","w-full","text-gray-500"],["type","submit",1,"hidden"]],template:function(i,o){i&1&&(f(0,"form",0),M("submit",function(a){return o.search(a)}),Ft(),f(1,"svg",1),A(2,"path",2),h(),Wt(),A(3,"input",3),f(4,"button",4),g(5,"Search"),h()()),i&2&&w("formGroup",o.searchForm)},dependencies:[At,ut,Mt,Tt,vt,bt]});let t=e;return t})();var QO=()=>["/home/profile"],YO=()=>["/home/my-courses"],KO=()=>["/forum"];function ZO(t,e){if(t&1){let r=J();f(0,"button",20),M("click",function(){O(r);let i=S();return F(i.login())}),g(1,"Login"),h()}}function XO(t,e){if(t&1){let r=J();f(0,"button",21),M("click",function(){O(r);let i=S();return F(i.register())}),g(1,"Sign Up"),h()}}function JO(t,e){t&1&&(f(0,"li")(1,"a"),g(2,"No new notifications"),h()())}function eF(t,e){if(t&1){let r=J();Ln(0),f(1,"div",31)(2,"button",32),M("click",function(){O(r);let i=S().$implicit,o=S(2);return F(o.acceptFriendRequest(i,i.friendRequest,!0))}),g(3,"Accept"),h(),f(4,"button",33),M("click",function(){O(r);let i=S().$implicit,o=S(2);return F(o.acceptFriendRequest(i,i.friendRequest,!1))}),g(5,"Reject"),h()(),Vn()}}function tF(t,e){if(t&1){let r=J();f(0,"li")(1,"a",30),M("click",function(){O(r);let i=S(2);return F(i.onNotificationClick())}),g(2),h(),T(3,eF,6,0,"ng-container",28),h()}if(t&2){let r=e.$implicit;y(2),Ne(" ",r.message," "),y(),w("ngIf",r.friendRequest)}}function nF(t,e){if(t&1&&(f(0,"div",22)(1,"div",23)(2,"button",24),Ft(),f(3,"svg",25),A(4,"path",26),h()(),Wt(),f(5,"ul",27),T(6,JO,3,0,"li",28),le(7,"async"),T(8,tF,4,2,"li",29),le(9,"async"),h()()()),t&2){let r,n=S();y(6),w("ngIf",((r=ye(7,2,n.notifications$))==null?null:r.length)===0),y(2),w("ngForOf",ye(9,4,n.notifications$))}}function rF(t,e){if(t&1){let r=J();f(0,"div",39)(1,"div",40)(2,"img",41),M("click",function(){O(r);let i=S(2);return F(i.toggleDropdown())}),h()()()}if(t&2){let r=e.ngIf;y(2),w("src",r,Ee)}}function iF(t,e){if(t&1){let r=J();f(0,"div",34),T(1,rF,3,1,"div",35),le(2,"async"),f(3,"div",36)(4,"a",37),g(5),le(6,"async"),h(),f(7,"a",37),g(8,"My Courses"),h(),f(9,"a",37),g(10,"Study Hub"),h(),f(11,"a",38),M("click",function(){O(r);let i=S();return F(i.logout())}),g(12,"Log Out"),h()()()}if(t&2){let r=S();y(),w("ngIf",ye(2,7,r.userProfilePicUrl$)),y(2),Gt("hidden",!r.isDropdownVisible),y(),w("routerLink",co(11,QO)),y(),pe(ye(6,9,r.firstName$)),y(2),w("routerLink",co(12,YO)),y(2),w("routerLink",co(13,KO))}}var gC=(()=>{let e=class e{constructor(){this.themeSvc=p(pC),this.router=p(me),this.userSvc=p(lt),this.authSvc=p(Ze),this.notificationSvc=p(Vr),this.fetchNotificationsSubject=new ge,this.isLoggedIn$=this.userSvc.isLoggedIn,this.userProfilePicUrl$=this.userSvc.userProfilePicUrl$,this.firstName$=this.userSvc.firstName,this.subscription=new se,this.isDropdownVisible=!1}ngOnInit(){this.isLoggedIn$=this.authSvc.isLoggedIn$;let n=localStorage.getItem("userId");n&&(this.userId=n),this.subscription.add(this.userSvc.foundFriend$.subscribe(i=>{i&&(console.log("Friend's ID:",i.userId),this.friendId=i.userId)})),this.notifications$=this.notificationSvc.notifications$,this.fetchNotificationsSubject.pipe(Uu(1e4)).subscribe(()=>{this.fetchNotifications()}),this.router.events.pipe(Fe(i=>i instanceof xt)).subscribe(()=>{this.fetchNotificationsSubject.next()})}fetchNotifications(){let n=localStorage.getItem("userId");n?(this.userId=n,this.notificationSvc.getNotifications(this.userId).subscribe(i=>{console.log("Notifications:",i)})):console.error("User ID not found in local storage.")}ngOnDestroy(){this.subscription.unsubscribe()}get isDarkMode(){return document.body.classList.contains("dark")}toggleTheme(){this.themeSvc.toggleTheme()}login(){this.router.navigate(["/join/login"])}register(){this.router.navigate(["/join/register"])}logout(){this.authSvc.logout(),this.router.navigate(["/"])}navigateToCourseNavigator(){this.router.navigate(["/course-navigator"])}onNotificationClick(){}toggleDropdown(){this.isDropdownVisible=!this.isDropdownVisible}clickout(n){n.target.closest(".profile-dropdown")||(this.isDropdownVisible=!1)}acceptFriendRequest(n,i,o){this.userSvc.amendFriendRequest(n,i,o).subscribe({next:()=>{console.log("Friend list updated successfully")},error:s=>{console.error("Failed to update friend list",s)}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=q({type:e,selectors:[["app-navbar"]],hostBindings:function(i,o){i&1&&M("click",function(a){return o.clickout(a)},!1,Rv)},decls:26,vars:12,consts:[[1,"bg-white","dark:bg-zinc-800","text-black","dark:text-white","p-4"],[1,"container","mx-auto","flex","justify-between","items-center"],["href","/",1,"flex","items-center","space-x-4"],["src","/assets/logo-studytrek.png","alt","Logo",1,"h-8"],[1,"font-bold","text-ml"],[1,"hidden","md:flex","justify-center","flex-grow"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"],[1,"w-full","md:w-3/5","mx-auto","md:ml-4","md:mr-8"],[1,"flex","items-center","space-x-4"],["class","btn btn-outline btn-primary",3,"click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","relative profile-dropdown flex items-center space-x-2",4,"ngIf"],["class","relative profile-dropdown",4,"ngIf"],[1,"swap","swap-rotate"],["type","checkbox",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"swap-on","fill-current","w-10","h-7"],["d","M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"swap-off","fill-current","w-10","h-7"],["d","M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"],[1,"btn","btn-outline","btn-primary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"relative","profile-dropdown","flex","items-center","space-x-2"],[1,"dropdown","dropdown-hover"],[1,"btn","btn-square","btn-ghost"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"],["tabindex","0",1,"dropdown-content","menu","p-2","shadow","bg-base-100","rounded-box","w-52"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click"],[1,"flex","items-center","space-x-2"],[1,"btn","btn-sm","btn-outline","btn-success",3,"click"],[1,"btn","btn-sm","btn-outline","btn-error",3,"click"],[1,"relative","profile-dropdown"],["class","avatar",4,"ngIf"],[1,"absolute","right-0","bg-white","text-black","mt-1","p-2","shadow-lg"],[1,"block","p-2",3,"routerLink"],[1,"block","p-2",3,"click"],[1,"avatar"],[1,"w-8","rounded-full"],[3,"click","src"]],template:function(i,o){i&1&&(f(0,"nav",0)(1,"div",1)(2,"a",2),A(3,"img",3),f(4,"span",4)(5,"code"),g(6,"STUDY TREK"),h()()(),f(7,"div",5),Ft(),f(8,"svg",6),M("click",function(){return o.navigateToCourseNavigator()}),A(9,"path",7),h()(),Wt(),A(10,"app-search",8),f(11,"div",9),T(12,ZO,2,0,"button",10),le(13,"async"),T(14,XO,2,0,"button",11),le(15,"async"),T(16,nF,10,6,"div",12),le(17,"async"),T(18,iF,13,14,"div",13),le(19,"async"),f(20,"label",14)(21,"input",15),M("click",function(){return o.themeSvc.toggleTheme()}),h(),Ft(),f(22,"svg",16),A(23,"path",17),h(),f(24,"svg",18),A(25,"path",19),h()()()()()),i&2&&(y(12),w("ngIf",!ye(13,4,o.isLoggedIn$)),y(2),w("ngIf",!ye(15,6,o.isLoggedIn$)),y(2),w("ngIf",ye(17,8,o.isLoggedIn$)),y(2),w("ngIf",ye(19,10,o.isLoggedIn$)))},dependencies:[ct,ae,$n,mC,qe],styles:[".profile-dropdown[_ngcontent-%COMP%]{position:relative;overflow:visible}.dropdown-content[_ngcontent-%COMP%]{position:absolute;z-index:9999;right:0;top:100%;background:#fff;color:#000;display:block}"]});let t=e;return t})();var yC=(()=>{let e=class e{constructor(){this.title="frontend",this.authSvc=p(Ze),this.userSvc=p(lt),this.userSessionStore=p(ue)}ngOnInit(){this.authSvc.checkTokenOnStartup(),localStorage.getItem("jwtToken")&&this.userSvc.fetchUserDetails().subscribe({next:n=>{this.userSessionStore.updateUserDetails(n)},error:n=>{console.error("Failed to fetch user details",n),n.status===401&&this.authSvc.logout()}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=q({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(i,o){i&1&&A(0,"app-navbar")(1,"router-outlet")},dependencies:[ks,gC]});let t=e;return t})();var vC=(()=>{let e=class e{intercept(n,i){let o=localStorage.getItem("jwtToken");if(o){let s=n.clone({headers:n.headers.set("Authorization","Bearer "+o)});return i.handle(s)}return i.handle(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function bC(t){return new E(3e3,!1)}function sF(){return new E(3100,!1)}function aF(){return new E(3101,!1)}function cF(t){return new E(3001,!1)}function lF(t){return new E(3003,!1)}function uF(t){return new E(3004,!1)}function dF(t,e){return new E(3005,!1)}function fF(){return new E(3006,!1)}function hF(){return new E(3007,!1)}function pF(t,e){return new E(3008,!1)}function mF(t){return new E(3002,!1)}function gF(t,e,r,n,i){return new E(3010,!1)}function yF(){return new E(3011,!1)}function vF(){return new E(3012,!1)}function bF(){return new E(3200,!1)}function wF(){return new E(3202,!1)}function CF(){return new E(3013,!1)}function _F(t){return new E(3014,!1)}function DF(t){return new E(3015,!1)}function EF(t){return new E(3016,!1)}function SF(t,e){return new E(3404,!1)}function IF(t){return new E(3502,!1)}function xF(t){return new E(3503,!1)}function MF(){return new E(3300,!1)}function TF(t){return new E(3504,!1)}function AF(t){return new E(3301,!1)}function NF(t,e){return new E(3302,!1)}function RF(t){return new E(3303,!1)}function OF(t,e){return new E(3400,!1)}function FF(t){return new E(3401,!1)}function PF(t){return new E(3402,!1)}function kF(t,e){return new E(3505,!1)}function Ur(t){switch(t.length){case 0:return new jr;case 1:return t[0];default:return new Ws(t)}}function OC(t,e,r=new Map,n=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((m,v)=>{let b=v,D=m;if(v!=="offset")switch(b=t.normalizePropertyName(b,i),D){case Xl:D=r.get(v);break;case zn:D=n.get(v);break;default:D=t.normalizeStyleValue(v,b,D,i);break}d.set(b,D)}),u||o.push(d),a=d,s=l}),i.length)throw IF(i);return o}function lm(t,e,r,n){switch(e){case"start":t.onStart(()=>n(r&&Bp(r,"start",t)));break;case"done":t.onDone(()=>n(r&&Bp(r,"done",t)));break;case"destroy":t.onDestroy(()=>n(r&&Bp(r,"destroy",t)));break}}function Bp(t,e,r){let n=r.totalTime,i=!!r.disabled,o=um(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n??t.totalTime,i),s=t._data;return s!=null&&(o._data=s),o}function um(t,e,r,n,i="",o=0,s){return{element:t,triggerName:e,fromState:r,toState:n,phaseName:i,totalTime:o,disabled:!!s}}function Bt(t,e,r){let n=t.get(e);return n||t.set(e,n=r),n}function wC(t){let e=t.indexOf(":"),r=t.substring(1,e),n=t.slice(e+1);return[r,n]}var LF=typeof document>"u"?null:document.documentElement;function dm(t){let e=t.parentNode||t.host||null;return e===LF?null:e}function VF(t){return t.substring(1,6)=="ebkit"}var Di=null,CC=!1;function jF(t){Di||(Di=UF()||{},CC=Di.style?"WebkitAppearance"in Di.style:!1);let e=!0;return Di.style&&!VF(t)&&(e=t in Di.style,!e&&CC&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Di.style)),e}function UF(){return typeof document<"u"?document.body:null}function FC(t,e){for(;e;){if(e===t)return!0;e=dm(e)}return!1}function PC(t,e,r){if(r)return Array.from(t.querySelectorAll(e));let n=t.querySelector(e);return n?[n]:[]}var fm=(()=>{let e=class e{validateStyleProperty(n){return jF(n)}matchesElement(n,i){return!1}containsElement(n,i){return FC(n,i)}getParentElement(n){return dm(n)}query(n,i,o){return PC(n,i,o)}computeStyle(n,i,o){return o||""}animate(n,i,o,s,a,c=[],l){return new jr(o,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),gm=class gm{};gm.NOOP=new fm;var Ii=gm,xi=class{};var BF=1e3,kC="{{",$F="}}",LC="ng-enter",Gp="ng-leave",nu="ng-trigger",au=".ng-trigger",_C="ng-animating",Qp=".ng-animating";function cr(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Yp(parseFloat(e[1]),e[2])}function Yp(t,e){switch(e){case"s":return t*BF;default:return t}}function cu(t,e,r){return t.hasOwnProperty("duration")?t:HF(t,e,r)}function HF(t,e,r){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof t=="string"){let a=t.match(n);if(a===null)return e.push(bC(t)),{duration:0,delay:0,easing:""};i=Yp(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=Yp(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=t;if(!r){let a=!1,c=e.length;i<0&&(e.push(sF()),a=!0),o<0&&(e.push(aF()),a=!0),a&&e.splice(c,0,bC(t))}return{duration:i,delay:o,easing:s}}function zF(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Wn(t,e,r){e.forEach((n,i)=>{let o=hm(i);r&&!r.has(i)&&r.set(i,t.style[o]),t.style[o]=n})}function Si(t,e){e.forEach((r,n)=>{let i=hm(n);t.style[i]=""})}function Ys(t){return Array.isArray(t)?t.length==1?t[0]:qw(t):t}function qF(t,e,r){let n=e.params||{},i=VC(t);i.length&&i.forEach(o=>{n.hasOwnProperty(o)||r.push(cF(o))})}var Kp=new RegExp(`${kC}\\s*(.+?)\\s*${$F}`,"g");function VC(t){let e=[];if(typeof t=="string"){let r;for(;r=Kp.exec(t);)e.push(r[1]);Kp.lastIndex=0}return e}function Zs(t,e,r){let n=`${t}`,i=n.replace(Kp,(o,s)=>{let a=e[s];return a==null&&(r.push(lF(s)),a=""),a.toString()});return i==n?t:i}var WF=/-+([a-z0-9])/g;function hm(t){return t.replace(WF,(...e)=>e[1].toUpperCase())}function GF(t,e){return t===0||e===0}function QF(t,e,r){if(r.size&&e.length){let n=e[0],i=[];if(r.forEach((o,s)=>{n.has(s)||i.push(s),n.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,pm(t,a)))}}return e}function Ut(t,e,r){switch(e.type){case X.Trigger:return t.visitTrigger(e,r);case X.State:return t.visitState(e,r);case X.Transition:return t.visitTransition(e,r);case X.Sequence:return t.visitSequence(e,r);case X.Group:return t.visitGroup(e,r);case X.Animate:return t.visitAnimate(e,r);case X.Keyframes:return t.visitKeyframes(e,r);case X.Style:return t.visitStyle(e,r);case X.Reference:return t.visitReference(e,r);case X.AnimateChild:return t.visitAnimateChild(e,r);case X.AnimateRef:return t.visitAnimateRef(e,r);case X.Query:return t.visitQuery(e,r);case X.Stagger:return t.visitStagger(e,r);default:throw uF(e.type)}}function pm(t,e){return window.getComputedStyle(t)[e]}var YF=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),lu=class extends xi{normalizePropertyName(e,r){return hm(e)}normalizeStyleValue(e,r,n,i){let o="",s=n.toString().trim();if(YF.has(r)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(dF(e,n))}return s+o}};var uu="*";function KF(t,e){let r=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(n=>ZF(n,r,e)):r.push(t),r}function ZF(t,e,r){if(t[0]==":"){let c=XF(t,r);if(typeof c=="function"){e.push(c);return}t=c}let n=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return r.push(DF(t)),e;let i=n[1],o=n[2],s=n[3];e.push(DC(i,s));let a=i==uu&&s==uu;o[0]=="<"&&!a&&e.push(DC(s,i))}function XF(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,n)=>parseFloat(n)>parseFloat(r);case":decrement":return(r,n)=>parseFloat(n)<parseFloat(r);default:return e.push(EF(t)),"* => *"}}var ru=new Set(["true","1"]),iu=new Set(["false","0"]);function DC(t,e){let r=ru.has(t)||iu.has(t),n=ru.has(e)||iu.has(e);return(i,o)=>{let s=t==uu||t==i,a=e==uu||e==o;return!s&&r&&typeof i=="boolean"&&(s=i?ru.has(t):iu.has(t)),!a&&n&&typeof o=="boolean"&&(a=o?ru.has(e):iu.has(e)),s&&a}}var jC=":self",JF=new RegExp(`s*${jC}s*,?`,"g");function UC(t,e,r,n){return new Zp(t).build(e,r,n)}var EC="",Zp=class{constructor(e){this._driver=e}build(e,r,n){let i=new Xp(r);return this._resetContextStyleTimingState(i),Ut(this,Ys(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=EC,e.collectedStyles=new Map,e.collectedStyles.set(EC,new Map),e.currentTime=0}visitTrigger(e,r){let n=r.queryCount=0,i=r.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&r.errors.push(fF()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(r),a.type==X.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,r))}),c.name=l}else if(a.type==X.Transition){let c=this.visitTransition(a,r);n+=c.queryCount,i+=c.depCount,s.push(c)}else r.errors.push(hF())}),{type:X.Trigger,name:e.name,states:o,transitions:s,queryCount:n,depCount:i,options:null}}visitState(e,r){let n=this.visitStyle(e.styles,r),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){let o=new Set,s=i||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{VC(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&r.errors.push(pF(e.name,[...o.values()]))}return{type:X.State,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,r){r.queryCount=0,r.depCount=0;let n=Ut(this,Ys(e.animation),r),i=KF(e.expr,r.errors);return{type:X.Transition,matchers:i,animation:n,queryCount:r.queryCount,depCount:r.depCount,options:Ei(e.options)}}visitSequence(e,r){return{type:X.Sequence,steps:e.steps.map(n=>Ut(this,n,r)),options:Ei(e.options)}}visitGroup(e,r){let n=r.currentTime,i=0,o=e.steps.map(s=>{r.currentTime=n;let a=Ut(this,s,r);return i=Math.max(i,r.currentTime),a});return r.currentTime=i,{type:X.Group,steps:o,options:Ei(e.options)}}visitAnimate(e,r){let n=rP(e.timings,r.errors);r.currentAnimateTimings=n;let i,o=e.styles?e.styles:No({});if(o.type==X.Keyframes)i=this.visitKeyframes(o,r);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};n.easing&&(l.easing=n.easing),s=No(l)}r.currentTime+=n.duration+n.delay;let c=this.visitStyle(s,r);c.isEmptyStep=a,i=c}return r.currentAnimateTimings=null,{type:X.Animate,timings:n,style:i,options:null}}visitStyle(e,r){let n=this._makeStyleAst(e,r);return this._validateStyleAst(n,r),n}_makeStyleAst(e,r){let n=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===zn?n.push(a):r.errors.push(mF(a)):n.push(new Map(Object.entries(a)));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(kC)>=0){o=!0;break}}}),{type:X.Style,styles:n,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,r){let n=r.currentAnimateTimings,i=r.currentTime,o=r.currentTime;n&&o>0&&(o-=n.duration+n.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=r.collectedStyles.get(r.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(r.errors.push(gF(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),r.options&&qF(a,r.options,r.errors)})})}visitKeyframes(e,r){let n={type:X.Keyframes,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push(yF()),n;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map(I=>{let U=this._makeStyleAst(I,r),re=U.offset!=null?U.offset:nP(U.styles),Q=0;return re!=null&&(o++,Q=U.offset=re),c=c||Q<0||Q>1,a=a||Q<l,l=Q,s.push(Q),U});c&&r.errors.push(vF()),a&&r.errors.push(bF());let d=e.steps.length,m=0;o>0&&o<d?r.errors.push(wF()):o==0&&(m=i/(d-1));let v=d-1,b=r.currentTime,D=r.currentAnimateTimings,x=D.duration;return u.forEach((I,U)=>{let re=m>0?U==v?1:m*U:s[U],Q=re*x;r.currentTime=b+D.delay+Q,D.duration=Q,this._validateStyleAst(I,r),I.offset=re,n.styles.push(I)}),n}visitReference(e,r){return{type:X.Reference,animation:Ut(this,Ys(e.animation),r),options:Ei(e.options)}}visitAnimateChild(e,r){return r.depCount++,{type:X.AnimateChild,options:Ei(e.options)}}visitAnimateRef(e,r){return{type:X.AnimateRef,animation:this.visitReference(e.animation,r),options:Ei(e.options)}}visitQuery(e,r){let n=r.currentQuerySelector,i=e.options||{};r.queryCount++,r.currentQuery=e;let[o,s]=eP(e.selector);r.currentQuerySelector=n.length?n+" "+o:o,Bt(r.collectedStyles,r.currentQuerySelector,new Map);let a=Ut(this,Ys(e.animation),r);return r.currentQuery=null,r.currentQuerySelector=n,{type:X.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Ei(e.options)}}visitStagger(e,r){r.currentQuery||r.errors.push(CF());let n=e.timings==="full"?{duration:0,delay:0,easing:"full"}:cu(e.timings,r.errors,!0);return{type:X.Stagger,animation:Ut(this,Ys(e.animation),r),timings:n,options:null}}};function eP(t){let e=!!t.split(/\s*,\s*/).find(r=>r==jC);return e&&(t=t.replace(JF,"")),t=t.replace(/@\*/g,au).replace(/@\w+/g,r=>au+"-"+r.slice(1)).replace(/:animating/g,Qp),[t,e]}function tP(t){return t?C({},t):null}var Xp=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function nP(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(r=>{if(r instanceof Map&&r.has("offset")){let n=r;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}return e}function rP(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=cu(t,e).duration;return $p(o,0,"")}let r=t;if(r.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=$p(0,0,"");return o.dynamic=!0,o.strValue=r,o}let i=cu(r,e);return $p(i.duration,i.delay,i.easing)}function Ei(t){return t?(t=C({},t),t.params&&(t.params=tP(t.params))):t={},t}function $p(t,e,r){return{duration:t,delay:e,easing:r}}function mm(t,e,r,n,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:r,postStyleProps:n,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Xs=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,r){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...r)}has(e){return this._map.has(e)}clear(){this._map.clear()}},iP=1,oP=":enter",sP=new RegExp(oP,"g"),aP=":leave",cP=new RegExp(aP,"g");function BC(t,e,r,n,i,o=new Map,s=new Map,a,c,l=[]){return new Jp().buildKeyframes(t,e,r,n,i,o,s,a,c,l)}var Jp=class{buildKeyframes(e,r,n,i,o,s,a,c,l,u=[]){l=l||new Xs;let d=new em(e,r,l,i,o,u,[]);d.options=c;let m=c.delay?cr(c.delay):0;d.currentTimeline.delayNextStep(m),d.currentTimeline.setStyles([s],null,d.errors,c),Ut(this,n,d);let v=d.timelines.filter(b=>b.containsAnimation());if(v.length&&a.size){let b;for(let D=v.length-1;D>=0;D--){let x=v[D];if(x.element===r){b=x;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,d.errors,c)}return v.length?v.map(b=>b.buildKeyframes()):[mm(r,[],[],[],0,m,"",!1)]}visitTrigger(e,r){}visitState(e,r){}visitTransition(e,r){}visitAnimateChild(e,r){let n=r.subInstructions.get(r.element);if(n){let i=r.createSubContext(e.options),o=r.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);o!=s&&r.transformIntoNewTimeline(s)}r.previousNode=e}visitAnimateRef(e,r){let n=r.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],r,n),this.visitReference(e.animation,n),r.transformIntoNewTimeline(n.currentTimeline.currentTime),r.previousNode=e}_applyAnimationRefDelays(e,r,n){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:cr(Zs(o,i?.params??{},r.errors));n.delayNextStep(s)}}}_visitSubInstructions(e,r,n){let o=r.currentTimeline.currentTime,s=n.duration!=null?cr(n.duration):null,a=n.delay!=null?cr(n.delay):null;return s!==0&&e.forEach(c=>{let l=r.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,r){r.updateOptions(e.options,!0),Ut(this,e.animation,r),r.previousNode=e}visitSequence(e,r){let n=r.subContextCount,i=r,o=e.options;if(o&&(o.params||o.delay)&&(i=r.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==X.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=du);let s=cr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Ut(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),r.previousNode=e}visitGroup(e,r){let n=[],i=r.currentTimeline.currentTime,o=e.options&&e.options.delay?cr(e.options.delay):0;e.steps.forEach(s=>{let a=r.createSubContext(e.options);o&&a.delayNextStep(o),Ut(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>r.currentTimeline.mergeTimelineCollectedStyles(s)),r.transformIntoNewTimeline(i),r.previousNode=e}_visitTiming(e,r){if(e.dynamic){let n=e.strValue,i=r.params?Zs(n,r.params,r.errors):n;return cu(i,r.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,r){let n=r.currentAnimateTimings=this._visitTiming(e.timings,r),i=r.currentTimeline;n.delay&&(r.incrementTime(n.delay),i.snapshotCurrentStyles());let o=e.style;o.type==X.Keyframes?this.visitKeyframes(o,r):(r.incrementTime(n.duration),this.visitStyle(o,r),i.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=e}visitStyle(e,r){let n=r.currentTimeline,i=r.currentAnimateTimings;!i&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(o):n.setStyles(e.styles,o,r.errors,r.options),r.previousNode=e}visitKeyframes(e,r){let n=r.currentAnimateTimings,i=r.currentTimeline.duration,o=n.duration,a=r.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,r.errors,r.options),a.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(a),r.transformIntoNewTimeline(i+o),r.previousNode=e}visitQuery(e,r){let n=r.currentTimeline.currentTime,i=e.options||{},o=i.delay?cr(i.delay):0;o&&(r.previousNode.type===X.Style||n==0&&r.currentTimeline.hasCurrentStyleProperties())&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=du);let s=n,a=r.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,r.errors);r.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{r.currentQueryIndex=u;let d=r.createSubContext(e.options,l);o&&d.delayNextStep(o),l===r.element&&(c=d.currentTimeline),Ut(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let m=d.currentTimeline.currentTime;s=Math.max(s,m)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(s),c&&(r.currentTimeline.mergeTimelineCollectedStyles(c),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=e}visitStagger(e,r){let n=r.parentContext,i=r.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(r.currentQueryTotal-1),c=s*r.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=n.currentStaggerTime;break}let u=r.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;Ut(this,e.animation,r),r.previousNode=e,n.currentStaggerTime=i.currentTime-d+(i.startTime-n.currentTimeline.startTime)}},du={},em=class t{constructor(e,r,n,i,o,s,a,c){this._driver=e,this.element=r,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=du,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new fu(this._driver,r,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,r){if(!e)return;let n=e,i=this.options;n.duration!=null&&(i.duration=cr(n.duration)),n.delay!=null&&(i.delay=cr(n.delay));let o=n.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!r||!s.hasOwnProperty(a))&&(s[a]=Zs(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let r=this.options.params;if(r){let n=e.params={};Object.keys(r).forEach(i=>{n[i]=r[i]})}}return e}createSubContext(e=null,r,n){let i=r||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=du,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,r,n){let i={duration:r??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},o=new tm(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,r,n,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(sP,"."+this._enterClassName),e=e.replace(cP,"."+this._leaveClassName);let c=n!=1,l=this._driver.query(this.element,e,c);n!==0&&(l=n<0?l.slice(l.length+n,l.length):l.slice(0,n)),a.push(...l)}return!o&&a.length==0&&s.push(_F(r)),a}},fu=class t{constructor(e,r,n,i){this._driver=e,this.element=r,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let r=this._keyframes.size===1&&this._pendingStyles.size;this.duration||r?(this.forwardTime(this.currentTime+e),r&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,r){return this.applyStylesToKeyframe(),new t(this._driver,e,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=iP,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,r){this._localTimelineStyles.set(e,r),this._globalTimelineStyles.set(e,r),this._styleSummary.set(e,{time:this.currentTime,value:r})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[r,n]of this._globalTimelineStyles)this._backFill.set(r,n||zn),this._currentKeyframe.set(r,zn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,r,n,i){r&&this._previousKeyframe.set("easing",r);let o=i&&i.params||{},s=lP(e,this._globalTimelineStyles);for(let[a,c]of s){let l=Zs(c,o,n);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??zn),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,r)=>{this._currentKeyframe.set(r,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,r)=>{this._currentKeyframe.has(r)||this._currentKeyframe.set(r,e)}))}snapshotCurrentStyles(){for(let[e,r]of this._localTimelineStyles)this._pendingStyles.set(e,r),this._updateStyle(e,r)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let r in this._currentKeyframe)e.push(r);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((r,n)=>{let i=this._styleSummary.get(n);(!i||r.time>i.time)&&this._updateStyle(n,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,r=new Set,n=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===Xl?e.add(d):u===zn&&r.add(d)}),n||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...r.values()];if(n){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return mm(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},tm=class extends fu{constructor(e,r,n,i,o,s,a=!1){super(e,r,s.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:r,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&r){let o=[],s=n+r,a=r/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",SC(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let m=new Map(e[d]),v=m.get("offset"),b=r+v*n;m.set("offset",SC(b/s)),o.push(m)}n=s,r=0,i="",e=o}return mm(this.element,e,this.preStyleProps,this.postStyleProps,n,r,i,!0)}};function SC(t,e=3){let r=Math.pow(10,e-1);return Math.round(t*r)/r}function lP(t,e){let r=new Map,n;return t.forEach(i=>{if(i==="*"){n??=e.keys();for(let o of n)r.set(o,zn)}else for(let[o,s]of i)r.set(o,s)}),r}function IC(t,e,r,n,i,o,s,a,c,l,u,d,m){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:r,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:m}}var Hp={},hu=class{constructor(e,r,n){this._triggerName=e,this.ast=r,this._stateStyles=n}match(e,r,n,i){return uP(this.ast.matchers,e,r,n,i)}buildStyles(e,r,n){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(r,n):new Map}build(e,r,n,i,o,s,a,c,l,u){let d=[],m=this.ast.options&&this.ast.options.params||Hp,v=a&&a.params||Hp,b=this.buildStyles(n,v,d),D=c&&c.params||Hp,x=this.buildStyles(i,D,d),I=new Set,U=new Map,re=new Map,Q=i==="void",He={params:$C(D,m),delay:this.ast.options?.delay},Se=u?[]:BC(e,r,this.ast.animation,o,s,b,x,He,l,d),Ie=0;return Se.forEach(Ue=>{Ie=Math.max(Ue.duration+Ue.delay,Ie)}),d.length?IC(r,this._triggerName,n,i,Q,b,x,[],[],U,re,Ie,d):(Se.forEach(Ue=>{let nn=Ue.element,Sn=Bt(U,nn,new Set);Ue.preStyleProps.forEach(rn=>Sn.add(rn));let Mi=Bt(re,nn,new Set);Ue.postStyleProps.forEach(rn=>Mi.add(rn)),nn!==r&&I.add(nn)}),IC(r,this._triggerName,n,i,Q,b,x,Se,[...I.values()],U,re,Ie))}};function uP(t,e,r,n,i){return t.some(o=>o(e,r,n,i))}function $C(t,e){let r=C({},e);return Object.entries(t).forEach(([n,i])=>{i!=null&&(r[n]=i)}),r}var nm=class{constructor(e,r,n){this.styles=e,this.defaultParams=r,this.normalizer=n}buildStyles(e,r){let n=new Map,i=$C(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Zs(s,i,r));let c=this.normalizer.normalizePropertyName(a,r);s=this.normalizer.normalizeStyleValue(a,c,s,r),n.set(a,s)})}),n}};function dP(t,e,r){return new rm(t,e,r)}var rm=class{constructor(e,r,n){this.name=e,this.ast=r,this._normalizer=n,this.transitionFactories=[],this.states=new Map,r.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new nm(i.style,o,n))}),xC(this.states,"true","1"),xC(this.states,"false","0"),r.transitions.forEach(i=>{this.transitionFactories.push(new hu(e,i,this.states))}),this.fallbackTransition=fP(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,r,n,i){return this.transitionFactories.find(s=>s.match(e,r,n,i))||null}matchStyles(e,r,n){return this.fallbackTransition.buildStyles(e,r,n)}};function fP(t,e,r){let n=[(s,a)=>!0],i={type:X.Sequence,steps:[],options:null},o={type:X.Transition,animation:i,matchers:n,options:null,queryCount:0,depCount:0};return new hu(t,o,e)}function xC(t,e,r){t.has(e)?t.has(r)||t.set(r,t.get(e)):t.has(r)&&t.set(e,t.get(r))}var hP=new Xs,im=class{constructor(e,r,n){this.bodyNode=e,this._driver=r,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,r){let n=[],i=[],o=UC(this._driver,r,n,i);if(n.length)throw xF(n);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,r,n){let i=e.element,o=OC(this._normalizer,e.keyframes,r,n);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,r,n={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=BC(this._driver,r,o,LC,Gp,new Map,new Map,n,hP,i),s.forEach(u=>{let d=Bt(a,u.element,new Map);u.postStyleProps.forEach(m=>d.set(m,null))})):(i.push(MF()),s=[]),i.length)throw TF(i);a.forEach((u,d)=>{u.forEach((m,v)=>{u.set(v,this._driver.computeStyle(d,v,zn))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=Ur(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let r=this._getPlayer(e);r.destroy(),this._playersById.delete(e);let n=this.players.indexOf(r);n>=0&&this.players.splice(n,1)}_getPlayer(e){let r=this._playersById.get(e);if(!r)throw AF(e);return r}listen(e,r,n,i){let o=um(r,"","","");return lm(this._getPlayer(e),n,o,i),()=>{}}command(e,r,n,i){if(n=="register"){this.register(e,i[0]);return}if(n=="create"){let s=i[0]||{};this.create(e,r,s);return}let o=this._getPlayer(e);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},MC="ng-animate-queued",pP=".ng-animate-queued",zp="ng-animate-disabled",mP=".ng-animate-disabled",gP="ng-star-inserted",yP=".ng-star-inserted",vP=[],HC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bP={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},En="__ng_removed",Js=class{get params(){return this.options.params}constructor(e,r=""){this.namespaceId=r;let n=e&&e.hasOwnProperty("value"),i=n?e.value:e;if(this.value=CP(i),n){let o=e,{value:s}=o,a=bu(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let r=e.params;if(r){let n=this.options.params;Object.keys(r).forEach(i=>{n[i]==null&&(n[i]=r[i])})}}},Ks="void",qp=new Js(Ks),om=class{constructor(e,r,n){this.id=e,this.hostElement=r,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,tn(r,this._hostClassName)}listen(e,r,n,i){if(!this._triggers.has(r))throw NF(n,r);if(n==null||n.length==0)throw RF(r);if(!_P(n))throw OF(n,r);let o=Bt(this._elementListeners,e,[]),s={name:r,phase:n,callback:i};o.push(s);let a=Bt(this._engine.statesByElement,e,new Map);return a.has(r)||(tn(e,nu),tn(e,nu+"-"+r),a.set(r,qp)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(r)||a.delete(r)})}}register(e,r){return this._triggers.has(e)?!1:(this._triggers.set(e,r),!0)}_getTrigger(e){let r=this._triggers.get(e);if(!r)throw FF(e);return r}trigger(e,r,n,i=!0){let o=this._getTrigger(r),s=new ea(this.id,r,e),a=this._engine.statesByElement.get(e);a||(tn(e,nu),tn(e,nu+"-"+r),this._engine.statesByElement.set(e,a=new Map));let c=a.get(r),l=new Js(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(r,l),c||(c=qp),!(l.value===Ks)&&c.value===l.value){if(!SP(c.params,l.params)){let D=[],x=o.matchStyles(c.value,c.params,D),I=o.matchStyles(l.value,l.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{Si(e,x),Wn(e,I)})}return}let m=Bt(this._engine.playersByElement,e,[]);m.forEach(D=>{D.namespaceId==this.id&&D.triggerName==r&&D.queued&&D.destroy()});let v=o.matchTransition(c.value,l.value,e,l.params),b=!1;if(!v){if(!i)return;v=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:r,transition:v,fromState:c,toState:l,player:s,isFallbackTransition:b}),b||(tn(e,MC),s.onStart(()=>{Fo(e,MC)})),s.onDone(()=>{let D=this.players.indexOf(s);D>=0&&this.players.splice(D,1);let x=this._engine.playersByElement.get(e);if(x){let I=x.indexOf(s);I>=0&&x.splice(I,1)}}),this.players.push(s),m.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(r=>r.delete(e)),this._elementListeners.forEach((r,n)=>{this._elementListeners.set(n,r.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let r=this._engine.playersByElement.get(e);r&&(r.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,r){let n=this._engine.driver.query(e,au,!0);n.forEach(i=>{if(i[En])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,r,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,r,n,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,Ks,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,r,s),n&&Ur(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let r=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(r&&n){let i=new Set;r.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=n.get(s)||qp,u=new Js(Ks),d=new ea(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,r){let n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,r),this.triggerLeaveAnimation(e,r,!0))return;let i=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(n.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)n.markElementAsRemoved(this.id,e,!1,r);else{let o=e[En];(!o||o===HC)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,r))}}insertNode(e,r){tn(e,this._hostClassName)}drainQueuedTransitions(e){let r=[];return this._queue.forEach(n=>{let i=n.player;if(i.destroyed)return;let o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){let c=um(o,n.triggerName,n.fromState.value,n.toState.value);c._data=e,lm(n.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):r.push(n)}),this._queue=[],r.sort((n,i)=>{let o=n.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(n.element,i.element)?1:-1})}destroy(e){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},sm=class{_onRemovalComplete(e,r){this.onRemovalComplete(e,r)}constructor(e,r,n,i){this.bodyNode=e,this.driver=r,this._normalizer=n,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(r=>{r.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,r){let n=new om(e,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(n,r):(this.newHostElements.set(r,n),this.collectEnterElement(r)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,r){let n=this._namespaceList,i=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(r);for(;a;){let c=i.get(a);if(c){let l=n.indexOf(c);n.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(e)}else n.push(e);return i.set(r,e),e}register(e,r){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,r)),n}registerTrigger(e,r,n){let i=this._namespaceLookup[e];i&&i.register(r,n)&&this.totalAnimations++}destroy(e,r){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);let i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1),n.destroy(r),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let r=new Set,n=this.statesByElement.get(e);if(n){for(let i of n.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&r.add(o)}}return r}trigger(e,r,n,i){if(ou(r)){let o=this._fetchNamespace(e);if(o)return o.trigger(r,n,i),!0}return!1}insertNode(e,r,n,i){if(!ou(r))return;let o=r[En];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(r);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(r,n)}i&&this.collectEnterElement(r)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,r){r?this.disabledNodes.has(e)||(this.disabledNodes.add(e),tn(e,zp)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Fo(e,zp))}removeNode(e,r,n){if(ou(r)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(r,n):this.markElementAsRemoved(e,r,!1,n);let o=this.namespacesByHostElement.get(r);o&&o.id!==e&&o.removeNode(r,n)}else this._onRemovalComplete(r,n)}markElementAsRemoved(e,r,n,i,o){this.collectedLeaveElements.push(r),r[En]={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,r,n,i,o){return ou(r)?this._fetchNamespace(e).listen(r,n,i,o):()=>{}}_buildInstruction(e,r,n,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,r,o)}destroyInnerAnimations(e){let r=this.driver.query(e,au,!0);r.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(r=this.driver.query(e,Qp,!0),r.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){let r=this.playersByElement.get(e);r&&r.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){let r=this.playersByQueriedElement.get(e);r&&r.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ur(this.players).onDone(()=>e());e()})}processLeaveNode(e){let r=e[En];if(r&&r.setForRemoval){if(e[En]=HC,r.namespaceId){this.destroyInnerAnimations(e);let n=this._fetchNamespace(r.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}e.classList?.contains(zp)&&this.markElementAsDisabled(e,!1),this.driver.query(e,mP,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let i=this.collectedEnterElements[n];tn(i,gP)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{r=this._flushAnimations(n,e)}finally{for(let i=0;i<n.length;i++)n[i]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let i=this.collectedLeaveElements[n];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],r.length?Ur(r).onDone(()=>{n.forEach(i=>i())}):n.forEach(i=>i())}}reportError(e){throw PF(e)}_flushAnimations(e,r){let n=new Xs,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(P=>{u.add(P);let V=this.driver.query(P,pP,!0);for(let H=0;H<V.length;H++)u.add(V[H])});let d=this.bodyNode,m=Array.from(this.statesByElement.keys()),v=NC(m,this.collectedEnterElements),b=new Map,D=0;v.forEach((P,V)=>{let H=LC+D++;b.set(V,H),P.forEach(te=>tn(te,H))});let x=[],I=new Set,U=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){let V=this.collectedLeaveElements[P],H=V[En];H&&H.setForRemoval&&(x.push(V),I.add(V),H.hasAnimation?this.driver.query(V,yP,!0).forEach(te=>I.add(te)):U.add(V))}let re=new Map,Q=NC(m,Array.from(I));Q.forEach((P,V)=>{let H=Gp+D++;re.set(V,H),P.forEach(te=>tn(te,H))}),e.push(()=>{v.forEach((P,V)=>{let H=b.get(V);P.forEach(te=>Fo(te,H))}),Q.forEach((P,V)=>{let H=re.get(V);P.forEach(te=>Fo(te,H))}),x.forEach(P=>{this.processLeaveNode(P)})});let He=[],Se=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(r).forEach(H=>{let te=H.player,Oe=H.element;if(He.push(te),this.collectedEnterElements.length){let ot=Oe[En];if(ot&&ot.setForMove){if(ot.previousTriggersValues&&ot.previousTriggersValues.has(H.triggerName)){let Br=ot.previousTriggersValues.get(H.triggerName),$t=this.statesByElement.get(H.element);if($t&&$t.has(H.triggerName)){let ia=$t.get(H.triggerName);ia.value=Br,$t.set(H.triggerName,ia)}}te.destroy();return}}let In=!d||!this.driver.containsElement(d,Oe),Nt=re.get(Oe),ur=b.get(Oe),ke=this._buildInstruction(H,n,ur,Nt,In);if(ke.errors&&ke.errors.length){Se.push(ke);return}if(In){te.onStart(()=>Si(Oe,ke.fromStyles)),te.onDestroy(()=>Wn(Oe,ke.toStyles)),i.push(te);return}if(H.isFallbackTransition){te.onStart(()=>Si(Oe,ke.fromStyles)),te.onDestroy(()=>Wn(Oe,ke.toStyles)),i.push(te);return}let ym=[];ke.timelines.forEach(ot=>{ot.stretchStartingKeyframe=!0,this.disabledNodes.has(ot.element)||ym.push(ot)}),ke.timelines=ym,n.append(Oe,ke.timelines);let n_={instruction:ke,player:te,element:Oe};s.push(n_),ke.queriedElements.forEach(ot=>Bt(a,ot,[]).push(te)),ke.preStyleProps.forEach((ot,Br)=>{if(ot.size){let $t=c.get(Br);$t||c.set(Br,$t=new Set),ot.forEach((ia,vu)=>$t.add(vu))}}),ke.postStyleProps.forEach((ot,Br)=>{let $t=l.get(Br);$t||l.set(Br,$t=new Set),ot.forEach((ia,vu)=>$t.add(vu))})});if(Se.length){let P=[];Se.forEach(V=>{P.push(kF(V.triggerName,V.errors))}),He.forEach(V=>V.destroy()),this.reportError(P)}let Ie=new Map,Ue=new Map;s.forEach(P=>{let V=P.element;n.has(V)&&(Ue.set(V,V),this._beforeAnimationBuild(P.player.namespaceId,P.instruction,Ie))}),i.forEach(P=>{let V=P.element;this._getPreviousPlayers(V,!1,P.namespaceId,P.triggerName,null).forEach(te=>{Bt(Ie,V,[]).push(te),te.destroy()})});let nn=x.filter(P=>RC(P,c,l)),Sn=new Map;AC(Sn,this.driver,U,l,zn).forEach(P=>{RC(P,c,l)&&nn.push(P)});let rn=new Map;v.forEach((P,V)=>{AC(rn,this.driver,new Set(P),c,Xl)}),nn.forEach(P=>{let V=Sn.get(P),H=rn.get(P);Sn.set(P,new Map([...V?.entries()??[],...H?.entries()??[]]))});let lr=[],Vo=[],ra={};s.forEach(P=>{let{element:V,player:H,instruction:te}=P;if(n.has(V)){if(u.has(V)){H.onDestroy(()=>Wn(V,te.toStyles)),H.disabled=!0,H.overrideTotalTime(te.totalTime),i.push(H);return}let Oe=ra;if(Ue.size>1){let Nt=V,ur=[];for(;Nt=Nt.parentNode;){let ke=Ue.get(Nt);if(ke){Oe=ke;break}ur.push(Nt)}ur.forEach(ke=>Ue.set(ke,Oe))}let In=this._buildAnimation(H.namespaceId,te,Ie,o,rn,Sn);if(H.setRealPlayer(In),Oe===ra)lr.push(H);else{let Nt=this.playersByElement.get(Oe);Nt&&Nt.length&&(H.parentPlayer=Ur(Nt)),i.push(H)}}else Si(V,te.fromStyles),H.onDestroy(()=>Wn(V,te.toStyles)),Vo.push(H),u.has(V)&&i.push(H)}),Vo.forEach(P=>{let V=o.get(P.element);if(V&&V.length){let H=Ur(V);P.setRealPlayer(H)}}),i.forEach(P=>{P.parentPlayer?P.syncPlayerEvents(P.parentPlayer):P.destroy()});for(let P=0;P<x.length;P++){let V=x[P],H=V[En];if(Fo(V,Gp),H&&H.hasAnimation)continue;let te=[];if(a.size){let In=a.get(V);In&&In.length&&te.push(...In);let Nt=this.driver.query(V,Qp,!0);for(let ur=0;ur<Nt.length;ur++){let ke=a.get(Nt[ur]);ke&&ke.length&&te.push(...ke)}}let Oe=te.filter(In=>!In.destroyed);Oe.length?DP(this,V,Oe):this.processLeaveNode(V)}return x.length=0,lr.forEach(P=>{this.players.push(P),P.onDone(()=>{P.destroy();let V=this.players.indexOf(P);this.players.splice(V,1)}),P.play()}),lr}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,r,n,i,o){let s=[];if(r){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==Ks;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(n||i)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,r,n){let i=r.triggerName,o=r.element,s=r.isRemovalTransition?void 0:e,a=r.isRemovalTransition?void 0:i;for(let c of r.timelines){let l=c.element,u=l!==o,d=Bt(n,l,[]);this._getPreviousPlayers(l,u,s,a,r.toState).forEach(v=>{let b=v.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),v.destroy(),d.push(v)})}Si(o,r.fromStyles)}_buildAnimation(e,r,n,i,o,s){let a=r.triggerName,c=r.element,l=[],u=new Set,d=new Set,m=r.timelines.map(b=>{let D=b.element;u.add(D);let x=D[En];if(x&&x.removedBeforeQueried)return new jr(b.duration,b.delay);let I=D!==c,U=EP((n.get(D)||vP).map(Ie=>Ie.getRealPlayer())).filter(Ie=>{let Ue=Ie;return Ue.element?Ue.element===D:!1}),re=o.get(D),Q=s.get(D),He=OC(this._normalizer,b.keyframes,re,Q),Se=this._buildPlayer(b,He,U);if(b.subTimeline&&i&&d.add(D),I){let Ie=new ea(e,a,D);Ie.setRealPlayer(Se),l.push(Ie)}return Se});l.forEach(b=>{Bt(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>wP(this.playersByQueriedElement,b.element,b))}),u.forEach(b=>tn(b,_C));let v=Ur(m);return v.onDestroy(()=>{u.forEach(b=>Fo(b,_C)),Wn(c,r.toStyles)}),d.forEach(b=>{Bt(i,b,[]).push(v)}),v}_buildPlayer(e,r,n){return r.length>0?this.driver.animate(e.element,r,e.duration,e.delay,e.easing,n):new jr(e.duration,e.delay)}},ea=class{constructor(e,r,n){this.namespaceId=e,this.triggerName=r,this.element=n,this._player=new jr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((r,n)=>{r.forEach(i=>lm(e,n,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let r=this._player;r.triggerCallback&&e.onStart(()=>r.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,r){Bt(this._queuedCallbacks,e,[]).push(r)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let r=this._player;r.triggerCallback&&r.triggerCallback(e)}};function wP(t,e,r){let n=t.get(e);if(n){if(n.length){let i=n.indexOf(r);n.splice(i,1)}n.length==0&&t.delete(e)}return n}function CP(t){return t??null}function ou(t){return t&&t.nodeType===1}function _P(t){return t=="start"||t=="done"}function TC(t,e){let r=t.style.display;return t.style.display=e??"none",r}function AC(t,e,r,n,i){let o=[];r.forEach(c=>o.push(TC(c)));let s=[];n.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let m=e.computeStyle(l,d,i);u.set(d,m),(!m||m.length==0)&&(l[En]=bP,s.push(l))}),t.set(l,u)});let a=0;return r.forEach(c=>TC(c,o[a++])),s}function NC(t,e){let r=new Map;if(t.forEach(a=>r.set(a,[])),e.length==0)return r;let n=1,i=new Set(e),o=new Map;function s(a){if(!a)return n;let c=o.get(a);if(c)return c;let l=a.parentNode;return r.has(l)?c=l:i.has(l)?c=n:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==n&&r.get(c).push(a)}),r}function tn(t,e){t.classList?.add(e)}function Fo(t,e){t.classList?.remove(e)}function DP(t,e,r){Ur(r).onDone(()=>t.processLeaveNode(e))}function EP(t){let e=[];return zC(t,e),e}function zC(t,e){for(let r=0;r<t.length;r++){let n=t[r];n instanceof Ws?zC(n.players,e):e.push(n)}}function SP(t,e){let r=Object.keys(t),n=Object.keys(e);if(r.length!=n.length)return!1;for(let i=0;i<r.length;i++){let o=r[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function RC(t,e,r){let n=r.get(t);if(!n)return!1;let i=e.get(t);return i?n.forEach(o=>i.add(o)):e.set(t,n),r.delete(t),!0}var ko=class{constructor(e,r,n,i){this._driver=r,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new sm(e.body,r,n,i),this._timelineEngine=new im(e.body,r,n),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,r,n,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=UC(this._driver,o,c,l);if(c.length)throw SF(i,c);l.length&&void 0,a=dP(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(r,i,a)}register(e,r){this._transitionEngine.register(e,r)}destroy(e,r){this._transitionEngine.destroy(e,r)}onInsert(e,r,n,i){this._transitionEngine.insertNode(e,r,n,i)}onRemove(e,r,n){this._transitionEngine.removeNode(e,r,n)}disableAnimations(e,r){this._transitionEngine.markElementAsDisabled(e,r)}process(e,r,n,i){if(n.charAt(0)=="@"){let[o,s]=wC(n),a=i;this._timelineEngine.command(o,r,s,a)}else this._transitionEngine.trigger(e,r,n,i)}listen(e,r,n,i,o){if(n.charAt(0)=="@"){let[s,a]=wC(n);return this._timelineEngine.listen(s,r,a,o)}return this._transitionEngine.listen(e,r,n,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function IP(t,e){let r=null,n=null;return Array.isArray(e)&&e.length?(r=Wp(e[0]),e.length>1&&(n=Wp(e[e.length-1]))):e instanceof Map&&(r=Wp(e)),r||n?new am(t,r,n):null}var Po=class Po{constructor(e,r,n){this._element=e,this._startStyles=r,this._endStyles=n,this._state=0;let i=Po.initialStylesByElement.get(e);i||Po.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Wn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wn(this._element,this._initialStyles),this._endStyles&&(Wn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Po.initialStylesByElement.delete(this._element),this._startStyles&&(Si(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Si(this._element,this._endStyles),this._endStyles=null),Wn(this._element,this._initialStyles),this._state=3)}};Po.initialStylesByElement=new WeakMap;var am=Po;function Wp(t){let e=null;return t.forEach((r,n)=>{xP(n)&&(e=e||new Map,e.set(n,r))}),e}function xP(t){return t==="display"||t==="position"}var pu=class{constructor(e,r,n,i){this.element=e,this.keyframes=r,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let r=()=>this._onFinish();this.domPlayer.addEventListener("finish",r),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",r)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let r=[];return e.forEach(n=>{r.push(Object.fromEntries(n))}),r}_triggerWebAnimation(e,r,n){return e.animate(this._convertKeyframesToObject(r),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,i)=>{i!=="offset"&&e.set(i,this._finished?n:pm(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let r=e==="start"?this._onStartFns:this._onDoneFns;r.forEach(n=>n()),r.length=0}},mu=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,r){return!1}containsElement(e,r){return FC(e,r)}getParentElement(e){return dm(e)}query(e,r,n){return PC(e,r,n)}computeStyle(e,r,n){return pm(e,r)}animate(e,r,n,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:n,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(v=>v instanceof pu);GF(n,i)&&u.forEach(v=>{v.currentSnapshot.forEach((b,D)=>l.set(D,b))});let d=zF(r).map(v=>new Map(v));d=QF(e,d,l);let m=IP(e,d);return new pu(e,d,c,m)}};var su="@",qC="@.disabled",gu=class{constructor(e,r,n,i){this.namespaceId=e,this.delegate=r,this.engine=n,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,r){return this.delegate.createElement(e,r)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,r){this.delegate.appendChild(e,r),this.engine.onInsert(this.namespaceId,r,e,!1)}insertBefore(e,r,n,i=!0){this.delegate.insertBefore(e,r,n),this.engine.onInsert(this.namespaceId,r,e,i)}removeChild(e,r,n){this.engine.onRemove(this.namespaceId,r,this.delegate)}selectRootElement(e,r){return this.delegate.selectRootElement(e,r)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,r,n,i){this.delegate.setAttribute(e,r,n,i)}removeAttribute(e,r,n){this.delegate.removeAttribute(e,r,n)}addClass(e,r){this.delegate.addClass(e,r)}removeClass(e,r){this.delegate.removeClass(e,r)}setStyle(e,r,n,i){this.delegate.setStyle(e,r,n,i)}removeStyle(e,r,n){this.delegate.removeStyle(e,r,n)}setProperty(e,r,n){r.charAt(0)==su&&r==qC?this.disableAnimations(e,!!n):this.delegate.setProperty(e,r,n)}setValue(e,r){this.delegate.setValue(e,r)}listen(e,r,n){return this.delegate.listen(e,r,n)}disableAnimations(e,r){this.engine.disableAnimations(e,r)}},cm=class extends gu{constructor(e,r,n,i,o){super(r,n,i,o),this.factory=e,this.namespaceId=r}setProperty(e,r,n){r.charAt(0)==su?r.charAt(1)=="."&&r==qC?(n=n===void 0?!0:!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,r.slice(1),n):this.delegate.setProperty(e,r,n)}listen(e,r,n){if(r.charAt(0)==su){let i=MP(e),o=r.slice(1),s="";return o.charAt(0)!=su&&([o,s]=TP(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,n,a)})}return this.delegate.listen(e,r,n)}};function MP(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function TP(t){let e=t.indexOf("."),r=t.substring(0,e),n=t.slice(e+1);return[r,n]}var yu=class{constructor(e,r,n){this.delegate=e,this.engine=r,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(i,o)=>{let s=o?.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(e,r){let n="",i=this.delegate.createRenderer(e,r);if(!e||!r?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new gu(n,i,this.engine,d),l.set(i,u)}return u}let o=r.id,s=r.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return r.data.animation.forEach(a),new cm(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,n){if(e>=0&&e<this._microtaskId){this._zone.run(()=>r(n));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([r,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var NP=(()=>{let e=class e extends ko{constructor(n,i,o){super(n,i,o,p(eo,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(N(Ye),N(Ii),N(xi))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function RP(){return new lu}function OP(t,e,r){return new yu(t,e,r)}var GC=[{provide:xi,useFactory:RP},{provide:ko,useClass:NP},{provide:li,useFactory:OP,deps:[wl,ko,he]}],WC=[{provide:Ii,useFactory:()=>new mu},{provide:Of,useValue:"BrowserAnimations"},...GC],FP=[{provide:Ii,useClass:fm},{provide:Of,useValue:"NoopAnimations"},...GC],QC=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?FP:WC}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=je({type:e}),e.\u0275inj=Ve({providers:WC,imports:[_l]});let t=e;return t})();var na="Service workers are disabled or not supported by this browser";function PP(t){return Gr(()=>Ct(new Error(t)))}var Lo=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=PP(na);else{let n=un(e,"controllerchange").pipe(j(()=>e.controller)),i=Gr(()=>k(e.controller)),o=Mn(i,n);this.worker=o.pipe(Fe(u=>!!u)),this.registration=this.worker.pipe(_e(()=>e.getRegistration()));let l=un(e,"message").pipe(j(u=>u.data)).pipe(Fe(u=>u&&u.type)).pipe(qu());l.connect(),this.events=l}}postMessage(e,r){return this.worker.pipe(Me(1),ie(n=>{n.postMessage(C({action:e},r))})).toPromise().then(()=>{})}postMessageWithOperation(e,r,n){let i=this.waitForOperationCompleted(n),o=this.postMessage(e,r);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let r;return typeof e=="string"?r=n=>n.type===e:r=n=>e.includes(n.type),this.events.pipe(Fe(r))}nextEventOfType(e){return this.eventsOfType(e).pipe(Me(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Fe(r=>r.nonce===e),Me(1),j(r=>{if(r.result!==void 0)return r.result;throw new Error(r.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},XC=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,this.pushManager=null,this.subscriptionChanges=new ge,!n.isEnabled){this.messages=Yr,this.notificationClicks=Yr,this.subscription=Yr;return}this.messages=this.sw.eventsOfType("PUSH").pipe(j(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(j(o=>o.data)),this.pushManager=this.sw.registration.pipe(j(o=>o.pushManager));let i=this.pushManager.pipe(_e(o=>o.getSubscription()));this.subscription=Qr(i,this.subscriptionChanges)}requestSubscription(n){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(na));let i={userVisibleOnly:!0},o=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(o.length));for(let a=0;a<o.length;a++)s[a]=o.charCodeAt(a);return i.applicationServerKey=s,this.pushManager.pipe(_e(a=>a.subscribe(i)),Me(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(na));let n=i=>{if(i===null)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(Me(1),_e(n)).toPromise()}decodeBase64(n){return atob(n)}};e.\u0275fac=function(i){return new(i||e)(N(Lo))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),JC=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,!n.isEnabled){this.versionUpdates=Yr,this.unrecoverable=Yr;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(na));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(na));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}};e.\u0275fac=function(i){return new(i||e)(N(Lo))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();var YC=new R("");function kP(t,e,r,n){return()=>{if(!(fl(n)&&"serviceWorker"in navigator&&r.enabled!==!1))return;navigator.serviceWorker.addEventListener("controllerchange",()=>{navigator.serviceWorker.controller!==null&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})});let i;if(typeof r.registrationStrategy=="function")i=r.registrationStrategy();else{let[s,...a]=(r.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=k(null);break;case"registerWithDelay":i=KC(+a[0]||0);break;case"registerWhenStable":i=a[0]?Qr(ZC(t),KC(+a[0])):ZC(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${r.registrationStrategy}`)}}t.get(he).runOutsideAngular(()=>i.pipe(Me(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:r.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function KC(t){return k(null).pipe($u(t))}function ZC(t){return t.get(tr).isStable.pipe(Fe(r=>r))}function LP(t,e){return new Lo(fl(e)&&t.enabled!==!1?navigator.serviceWorker:void 0)}var ta=class{};function VP(t,e={}){return ro([XC,JC,{provide:YC,useValue:t},{provide:ta,useValue:e},{provide:Lo,useFactory:LP,deps:[ta,Pt]},{provide:lo,useFactory:kP,deps:[St,YC,ta,Pt],multi:!0}])}var e_=(()=>{let e=class e{static register(n,i={}){return{ngModule:e,providers:[VP(n,i)]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=je({type:e}),e.\u0275inj=Ve({providers:[XC,JC]});let t=e;return t})();var t_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=je({type:e,bootstrap:[yC]}),e.\u0275inj=Ve({providers:[{provide:Ah,useClass:vC,multi:!0},Hn,Jt,So,Io,xo,Ze,lt,ue,Jl,Vr,$l,Pr,Ro,qn],imports:[_l,QC,hC,tb,Pw,Xw,e_.register("ngsw-worker.js",{enabled:!uo(),registrationStrategy:"registerWhenStable:30000"})]});let t=e;return t})();cb().bootstrapModule(t_).catch(t=>console.error(t));
